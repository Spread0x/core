)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/tmpl/modules/fundraising/new/bounded.js","meteor://ðŸ’»app/client/tmpl/modules/fundraising/new/individual.js","meteor://ðŸ’»app/client/tmpl/modules/fundraising/fundraising.js","meteor://ðŸ’»app/client/tmpl/modules/fundraising/info.js","meteor://ðŸ’»app/client/tmpl/modules/account/account.js","meteor://ðŸ’»app/client/tmpl/modules/account/currencies.js","meteor://ðŸ’»app/client/tmpl/modules/accounting/accounting.js","meteor://ðŸ’»app/client/tmpl/modules/accounting/details.js","meteor://ðŸ’»app/client/tmpl/modules/accounting/new.js","meteor://ðŸ’»app/client/tmpl/modules/bylaws/bylaws.js","meteor://ðŸ’»app/client/tmpl/modules/bylaws/modify.js","meteor://ðŸ’»app/client/tmpl/modules/entity/entity.js","meteor://ðŸ’»app/client/tmpl/modules/home/home.js","meteor://ðŸ’»app/client/tmpl/modules/ownership/assignShares.js","meteor://ðŸ’»app/client/tmpl/modules/ownership/charts.js","meteor://ðŸ’»app/client/tmpl/modules/ownership/entity.js","meteor://ðŸ’»app/client/tmpl/modules/ownership/entityCharts.js","meteor://ðŸ’»app/client/tmpl/modules/ownership/issueShares.js","meteor://ðŸ’»app/client/tmpl/modules/ownership/listStocks.js","meteor://ðŸ’»app/client/tmpl/modules/ownership/newStock.js","meteor://ðŸ’»app/client/tmpl/modules/ownership/ownership.js","meteor://ðŸ’»app/client/tmpl/modules/ownership/transferShares.js","meteor://ðŸ’»app/client/tmpl/modules/rewards/new.js","meteor://ðŸ’»app/client/tmpl/modules/roles/assign.js","meteor://ðŸ’»app/client/tmpl/modules/roles/roles.js","meteor://ðŸ’»app/client/tmpl/modules/voting/new.js","meteor://ðŸ’»app/client/tmpl/modules/voting/voting.js","meteor://ðŸ’»app/client/tmpl/modules/voting/votingSection.js","meteor://ðŸ’»app/client/tmpl/elements/currencyAmount.js","meteor://ðŸ’»app/client/tmpl/elements/identityAutocomplete.js","meteor://ðŸ’»app/client/tmpl/elements/miniEntity.js","meteor://ðŸ’»app/client/tmpl/elements/performAction.js","meteor://ðŸ’»app/client/tmpl/elements/processDimmer.js","meteor://ðŸ’»app/client/tmpl/layout/layout.js","meteor://ðŸ’»app/client/tmpl/layout/layoutInbox.js","meteor://ðŸ’»app/client/tmpl/layout/layoutPendingTx.js","meteor://ðŸ’»app/client/tmpl/layout/layoutSidebar.js","meteor://ðŸ’»app/client/tmpl/setup/join.js","meteor://ðŸ’»app/client/tmpl/setup/metamask.js","meteor://ðŸ’»app/client/tmpl/setup/setup.js","meteor://ðŸ’»app/client/tmpl/setup/welcome.js","meteor://ðŸ’»app/client/tmpl/components/closableSection.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/behaviors/api.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/behaviors/colorize.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/behaviors/form.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/behaviors/state.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/behaviors/visibility.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/behaviors/visit.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/globals/site.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/accordion.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/checkbox.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/dimmer.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/dropdown.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/embed.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/modal.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/nag.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/popup.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/progress.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/rating.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/search.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/shape.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/sidebar.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/sticky.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/tab.js","meteor://ðŸ’»app/client/lib/semantic-ui/definitions/modules/transition.js","meteor://ðŸ’»app/client/lib/identity/anon/haiku.js","meteor://ðŸ’»app/client/lib/identity/anon/index.js","meteor://ðŸ’»app/client/lib/identity/helpers/identicon.js","meteor://ðŸ’»app/client/lib/identity/keybase/index.js","meteor://ðŸ’»app/client/lib/identity/keybase/link.js","meteor://ðŸ’»app/client/lib/identity/keybase/proofs.js","meteor://ðŸ’»app/client/lib/identity/tokens/index.js","meteor://ðŸ’»app/client/lib/identity/index.js","meteor://ðŸ’»app/client/lib/identity/status.js","meteor://ðŸ’»app/client/lib/action-dispatcher/actions.js","meteor://ðŸ’»app/client/lib/action-dispatcher/bylaws.js","meteor://ðŸ’»app/client/lib/action-dispatcher/decoder.js","meteor://ðŸ’»app/client/lib/action-dispatcher/dispatcher.js","meteor://ðŸ’»app/client/lib/action-dispatcher/helpers.js","meteor://ðŸ’»app/client/lib/action-dispatcher/index.js","meteor://ðŸ’»app/client/lib/build/index.js","meteor://ðŸ’»app/client/lib/components/helpers.js","meteor://ðŸ’»app/client/lib/components/index.js","meteor://ðŸ’»app/client/lib/currency/index.js","meteor://ðŸ’»app/client/lib/currency/ticker.js","meteor://ðŸ’»app/client/lib/ethereum/accounting.js","meteor://ðŸ’»app/client/lib/ethereum/bylaws.js","meteor://ðŸ’»app/client/lib/ethereum/contracts.js","meteor://ðŸ’»app/client/lib/ethereum/deployed.js","meteor://ðŸ’»app/client/lib/ethereum/listeners.js","meteor://ðŸ’»app/client/lib/ethereum/networks.js","meteor://ðŸ’»app/client/lib/ethereum/node.js","meteor://ðŸ’»app/client/lib/ethereum/sign.js","meteor://ðŸ’»app/client/lib/ethereum/statuses.js","meteor://ðŸ’»app/client/lib/ethereum/stocks.js","meteor://ðŸ’»app/client/lib/ethereum/stocksales.js","meteor://ðŸ’»app/client/lib/ethereum/tokens.js","meteor://ðŸ’»app/client/lib/ethereum/verify.js","meteor://ðŸ’»app/client/lib/ethereum/votings.js","meteor://ðŸ’»app/client/lib/ethereum/watcher.js","meteor://ðŸ’»app/client/lib/ethereum/watchers.js","meteor://ðŸ’»app/client/lib/ethereum/web3.js","meteor://ðŸ’»app/client/lib/modules/core.js","meteor://ðŸ’»app/client/lib/modules/index.js","meteor://ðŸ’»app/client/lib/modules/module.js","meteor://ðŸ’»app/client/lib/notifications/browser.js","meteor://ðŸ’»app/client/lib/notifications/index.js","meteor://ðŸ’»app/client/lib/notifications/listener.js","meteor://ðŸ’»app/client/lib/notifications/manager.js","meteor://ðŸ’»app/client/lib/queue/index.js","meteor://ðŸ’»app/client/lib/settings/defaults.js","meteor://ðŸ’»app/client/lib/settings/index.js","meteor://ðŸ’»app/client/lib/shake/countries.js","meteor://ðŸ’»app/client/lib/shake/index.js","meteor://ðŸ’»app/client/lib/tablesort/tablesort.js","meteor://ðŸ’»app/client/helpers.js","meteor://ðŸ’»app/client/init.js","meteor://ðŸ’»app/client/root.js"],"names":["Template","module","import","v","TemplateVar","FlowRouter","ReactivePromise","moment","ClosableSection","Identity","StockWatcher","StockSaleWatcher","Company","Stock","Stocks","tmpl","Module_Fundraising_New_Bounded","extend","onRendered","set","$","form","onSuccess","e","preventDefault","trigger","title","val","selectedStock","get","price","web3","toWei","min","cap","closes","createBoundedSale","state","helpers","selectedRecipient","entity","stocks","find","defaultAddress","current","ethereumAddress","availableShares","stock","findOne","index","Promise","reject","at","address","balanceOf","then","x","valueOf","events","instance","user","target","value","go","Module_Fundraising_New_Individual","investor","units","console","log","createIndividualInvestorSale","StockSalesWatcher","StockSales","Module_Fundraising","routes","requestAnimationFrame","onCreated","currentTarget","data","raises","StockSale","dispatcher","actions","Module_Fundraising_Info","reloadSaleId","params","id","getRaise","getBalance","resolve","eth","err","balance","toNumber","canTransfer","sale","isFundsTransferAllowed","allowed","transfer","raiseTypes","BoundedStandardSale","IndividualInvestorSale","raise","typeMetadata","investorAddress","transferrableFunds","isOpen","closeDate","isTransferAllowed","raiseTypeToHuman","raiseType","EthAccounts","Settings","currencies","Module_Account","popup","position","autorun","addresses","fetch","map","indexOf","setCurrentEthereumAccount","setCurrent","identityProvider","localStorage","clear","location","reload","confirm","linkCurrent","window","open","accounts","Object","keys","symbol","name","companyAddress","getItem","isElectron","ETH","BTC","USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","BGN","BRL","HRK","CZK","DKK","FKP","HKD","HUF","INR","IDR","ILS","KPW","KRW","MYR","MXN","NZD","NOK","PHP","PLN","RON","RUB","SGD","ZAR","SEK","THB","TRY","export","exports","default","Accounting","Module_Accounting","tablesort","transactions","Transactions","recipients","type","Module_Accounting_Details","transactionIndex","getParam","dispatch","removeRecurringReward","Module_Accounting_New","remainingBudget","getAccountingPeriodRemainingBudget","periodCloses","getAccountingPeriodCloses","call","actionName","issueReward","to","amountWei","createRecurringReward","period","amount","getFrom","periodNumber","periodUnit","ActionFactory","Module_Bylaws","assign","key","filter","action","isBylaw","bylawForAction","Status","Module_Bylaws_Modify","triggerList","setAction","completeAction","bylaw","lookupAndFormat","details","setTo","save","signature","statusIndex","setStatusBylaw","supportNeeded","closingRelativeMajority","is","minimumVotingTime","parseInt","setVotingBylaw","isOracle","addrBylaw","setAddressBylaw","confirmText","watchPathChange","checkbox","triggers","disabled","triggerToInt","intToTrigger","statuses","statusToInt","status","selectedTrigger","secondsToDays","seconds","numbersToPercentage","a","b","Math","round","Module_Entity","getStatus","s","Entities","toString","formatFingerprint","fingerprint","match","join","Module_Home","click","Module_Ownership_AssignShares","assignStock","kind","recipient","grantStock","createStockGrant","start","cliff","vesting","grantVestedStock","Date","Chart","Module_Ownership_Charts","strToColor","str","hash","i","length","charCodeAt","color","substr","drawChart","ctx","labels","colors","chartData","datasets","backgroundColor","options","responsive","display","text","balances","drawWithStocks","totalSupply","allShares","shareholders","globalBalances","votingPower","shareId","shareShareholders","shareholder","values","throttledDraw","_","throttle","renderOwnershipInfo","Tokens","Module_Ownership_Entity","reloadBalances","setBalance","transferrable","getTransferableBalance","element","wrap","unwrap","timeRange","drawStakeChart","lineTension","legend","tooltips","callbacks","label","tooltipItem","yLabel","interpolate","from","steps","step","range","lastTokenIsTransferableDate","fullyVested","lastStockIsTransferrableEvent","dates","pointsPromise","transferableTokens","t","all","points","dateLabels","d","Module_Ownership_IssueShares","issueStock","parentToken","Module_Ownership_Stocks","setTimeout","CustomStock","WrappedCustomStock","Module_Ownership_NewStock","tokenDetails","ReactiveVar","deployCustomStock","economicRights","initialSupply","deployContract","deployTx","watchStockDeployment","deployWrappedStock","token","txId","TxQueue","addListener","getTransactionReceipt","tx","contractAddress","submitStock","stockAddress","addStock","stockTemplates","isCompanyStock","tokenAddress","$or","getTokenProperties","selectedSymbol","selectedTemplate","prop","Module_Ownership","rightSection","count","dropdown","addr","updated","sort","forEach","push","company","entityNameReserves","transferStock","performTransaction","Module_Ownership_TransferShares","wrappedStock","Shake","Module_Rewards_New","debitCardCurrency","shakeUser","fakeUser","createUser","createInvoice","email","currency","invoice","onChange","Module_Roles_Assign","undefined","setEntityStatus","list","Module_Roles","entities","$gt","statusToString","n","Poll","Module_Voting_New","openPoll","description","closingTime","new","gas","poll","setTxid","transactionHash","beginPoll","date","time","VotingWatcher","Votings","Module_Voting","selectedVoting","togglePastVotings","vote","isClosed","voteExecuted","pastQuery","queryParams","past","dataset","voting","votings","pastVotings","$ne","$lt","isSelected","Voting","Module_Voting_Section","votingVar","verifiedVar","isModifying","voteId","identity","newVoting","random","allStocks","getVotingPower","votingPowerForVoting","canVote","voteClosed","hasVoted","modificable","votedOption","voted","votable","pendingVotes","vs","o","countVotes","allOptions","total","allVotes","reduce","acc","votes","relativeVotes","willBeAbleToExecute","xs","currentVotes","totalVotes","totalVotingPower","futureVotes","canExecute","voteCounts","canPerformAction","mainSignature","canPerform","sentiment","wrappableTokens","holder","r","formatEntity","path","formatDescription","space","split","contains","updatesHack","verified","canVoteOrModify","modifyMode","executingOption","isExecuted","option","canModifyVote","modificableVotes","getOption","getDescription","castVote","executesOnDecided","modifyVote","removeVote","executeVote","executeOnAction","verify","verifyVote","contract","contractClass","contract_name","fx","Element_CurrencyAmount","setAmount","convertCurrency","parseFloat","Anon","Element_IdentityAutocomplete","bindSearch","tmplIns","identityAutocomplete","search","apiSettings","url","onResponse","res","additionalElements","query","isAddress","cur","results","completions","username","c","components","full_name","picture","thumbnail","concat","onAbort","fields","image","minCharacters","onSelect","addClass","getUsername","bind","Element_MiniEntity","currentURL","Element_PerformAction","canIt","Element_ProcessDimmer","dimmer","Layout","toggleMetaMask","show","metaMask","toggleClass","hasClass","transition","document","on","walletButton","resizePopups","css","height","resize","addEventListener","msg","NotificationsManager","Notifications","Layout_Inbox","performAction","performNotificationAction","clearAll","update","handled","multi","inline","onShow","unhandledNotifs","onEmpty","Layout_PendingTx","txs","queue","Root","Layout_Sidebar","modules","m","sidebarItem","isRouteActive","getRouteName","includes","route","Setup_JoinOrganization","alert","setItem","faucets","Setup_MetaMask","reset","attr","account","faucetForAddress","getAccount","delay","faucet","HTTP","success","add","txID","getNetworkID","version","getNetwork","supportedNetworks","isInWrongNetwork","canContinue","networkID","isButtonEnabled","postMessage","CompanyFactory","CompanyConfiguratorFactory","Setup","initialTmpl","injectMetaMask","hide","setupFinished","configureCompany","deployed","companyConfiguratorFactory","transactionParams","companyFactory","deployCompany","NewCompany","deployer","watch","ev","error","args","Setup_Welcome","history","back","self","Function","api","fn","parameters","$allModules","isFunction","moduleSelector","selector","getTime","performance","arguments","methodInvoked","queryArguments","slice","returnedValue","each","settings","isPlainObject","namespace","metadata","className","eventNamespace","moduleNamespace","$module","$form","closest","$context","stateContext","ajaxSettings","requestSettings","requestStartTime","context","initialize","instantiate","verbose","destroy","removeData","off","triggerEvent","event","debug","decode","json","response","JSON","parse","read","cachedResponse","Storage","noStorage","sessionStorage","write","stringify","loading","interruptRequests","abort","defaultData","urlData","serializeForm","formData","cancelled","beforeSend","templatedURL","mocked","missingURL","base","method","beforeXHR","failure","complete","cache","request","create","resolveWith","send","throttleFirstRequest","timer","clearTimeout","should","removeError","hideError","expectingJSON","dataType","mockResponse","mockResponseAsync","responseAsync","input","abortedRequest","xhr","readyState","validResponse","successTest","was","succesful","requiredVariables","optionalVariables","regExp","required","optional","templatedString","variable","requiredParameter","encodeParameters","urlEncodedValue","replace","canSerialize","serializeObject","serialize","hasOtherData","missingSerialize","mockedXHR","onRequest","always","done","textStatus","elapsedTime","timeLeft","loadingDuration","translatedResponse","rejectWith","fail","httpMessage","firstParameter","secondParameter","responseFromXHR","remove","onComplete","errorMessage","errorFromRequest","statusMessage","onError","errorDuration","onFailure","Deferred","responder","asyncResponder","asyncCallback","responseText","ajax","removeClass","runSettings","legacyParameters","noReturnedValue","decodedValue","decodeURIComponent","encodedValue","encodeURIComponent","alreadyEncoded","isWindow","oninput","onpropertychange","missingAction","setting","internal","silent","prototype","info","apply","message","currentTime","executionTime","previousTime","totalTime","group","table","groupCollapsed","groupEnd","invoke","passedArguments","object","maxDepth","found","depth","camelCaseValue","charAt","toUpperCase","isArray","promise","exitConditions","JSONParse","parseError","timeout","jQuery","colorize","moduleArguments","instanceIndex","mainCanvas","imageCanvas","overlayCanvas","backgroundImage","Image","mainContext","imageContext","overlayContext","imageName","width","paths","checkPreconditions","isEmptyObject","undefinedColors","async","callback","getMetadata","undefinedSize","canvas","draw","merge","redraw","change","colorName","missingColor","getContext","append","children","fillStyle","fillRect","blendOnto","missingPlugin","putImageData","getImageData","src","onload","drawImage","noImage","onDraw","variableName","warn","methodName","methodArguments","Array","undefinedHeight","formErrors","keyHeldDown","$field","$group","$message","$prompt","$submit","$clear","$reset","validation","bindEvents","defaults","removeEvents","refresh","field","prompt","submit","attachEvents","validate","blur","keyboardShortcuts","keydown","$input","inputEvent","changeEvent","$element","parent","$fieldGroup","defaultValue","isCheckbox","uiCheckbox","isDropdown","uiDropdown","isErrored","bracketedRule","rule","bracket","empty","blank","trim","valid","allValid","fieldName","which","isInput","isInDropdown","keyCode","enter","escape","ctrlKey","one","keyup","validationRules","revalidate","ancillaryValue","ruleName","createElement","ancillary","unspecifiedRule","requiresValue","requiresName","$label","identifier","eq","unspecifiedField","isLegacySettings","rules","ruleKeys","oldSyntax","$fields","fieldValidation","isRadio","radio","isMultiple","isChecked","has","errors","promptExists","templates","appendTo","html","duration","fadeIn","fadeOut","fieldExists","$multipleField","ignoreCallbacks","apiRequest","stopImmediatePropagation","$dependsField","depends","fieldValid","fieldErrors","onValid","onInvalid","isValid","ruleFunction","noRule","decimal","flags","integer","number","checked","isExactly","not","notExactly","contain","containExactly","doesntContain","doesntContainExactly","minLength","exactLength","maxLength","different","creditCard","minCount","exactCount","maxCount","pressed","test","regExpParts","RegExp","intRegExp","max","parts","toLowerCase","notValue","containsExactly","requiredLength","matchingValue","cardNumber","cardTypes","cards","visa","pattern","amex","mastercard","discover","unionPay","jcb","maestro","dinersClub","laser","visaElectron","validCard","requiredTypes","inArray","multiple","producedValue","sum","hasTouch","documentElement","states","automatic","toggle","userStates","typeStates","active","inactive","enabled","textEnabled","button","progress","allow","disallow","allows","enable","disable","setState","removeState","requestCancelled","activateTest","deactivateTest","listenTo","when","activate","deactivate","sync","hover","onActivate","onDeactivate","textFor","flash","previousText","flashDuration","activeText","storedText","inactiveText","currentText","warning","visibility","moduleCount","loadedCount","$window","$placeholder","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","contextObserver","observer","setup","trackChanges","fixed","observeChanges","visible","initialCheck","checkVisibility","disconnect","load","scroll","scrollchange","resetFixed","placeholder","MutationObserver","contextChanged","changed","observe","childList","subtree","refreshOnLoad","mutations","mutation","removedNodes","node","refreshOnResize","triggerHandler","scrollTop","scrollPosition","precache","images","imagesLength","loadedCounter","cacheImage","handleLoad","onerror","enableCallbacks","disableCallbacks","occurred","screen","once","onOnScreen","onAllLoaded","onLoad","onTopPassed","onTopPassedReverse","clone","insertAfter","top","offset","left","zIndex","onFixed","onScreen","calculations","elementCalculations","offScreen","checkOnRefresh","onRefresh","passed","passingReverse","topVisibleReverse","bottomVisibleReverse","topPassedReverse","bottomPassedReverse","passing","topVisible","bottomVisible","topPassed","bottomPassed","onUpdate","newCallback","amountInPixels","onPassed","pixelsPassed","execute","callbackName","onOffScreen","onPassing","onTopVisible","onBottomVisible","onBottomPassed","onPassingReverse","onTopVisibleReverse","onBottomVisibleReverse","onBottomPassedReverse","screenCalculations","continuous","onUnfixed","direction","lastScroll","elementPosition","screenSize","fits","outerWidth","outerHeight","includeMargin","margin","bottom","percentagePassed","visit","$displays","store","increment","currentValue","newValue","limit","surpass","decrement","retrieve","idCount","ids","delimitedIDs","idArray","delimiter","storageOptions","expires","domain","visited","currentIDs","newIDs","check","onLimit","storageMethod","cookie","noCookieStorage","storedValue","missingPersist","site","$document","normalize","fix","markTimeline","consoleClear","moduleExists","enabledModules","disabledModules","modifyExisting","$existingModules","newSettings","siteNamespace","namespaceStub","config","sections","section","utilities","expr","createPseudo","dataName","elem","accordion","$title","$content","content","$activeTitle","$activeContent","next","isAnimating","animating","isActive","isOpening","collapsible","close","onOpening","exclusive","closeOthers","stop","animateChildren","animation","useFailSafe","animate","opacity","resetOpacity","slideDown","easing","onOpen","isClosing","onClosing","slideUp","onClose","$parentTitles","parents","prev","$activeAccordion","activeSelector","activeContent","$openTitles","$nestedTitles","$openContents","closeNested","removeAttr","easeOutQuad","initialLoad","shortcutPressed","tabbable","unbind","reference","indeterminate","uncheck","hidden","notFound","$target","link","focus","allowCheck","onChecked","allowUncheck","unchecked","onUnchecked","allowIndeterminate","onIndeterminate","determinate","allowDeterminate","onDeterminate","onEnable","onEnabled","onDisable","onDisabled","radios","otherRadios","forceCallbacks","beforeChecked","beforeUnchecked","beforeIndeterminate","beforeDeterminate","fireOnInit","can","readOnly","uncheckable","uncheckOthers","createEvent","inputElement","initEvent","dispatchEvent","prevAll","detach","$radios","clickEvent","$dimmer","$dimmable","preinitialize","dimmerName","dimmable","variation","page","pageDimmer","closable","addContent","template","dimmed","onHide","useCSS","onStart","fadeTo","colorArray","isRGB","isRGBA","elementIndex","$text","$search","$sizer","sizer","$icon","icon","$combo","$menu","menu","$item","item","activated","itemActivated","internalChange","pageLostFocus","willRefocus","elementNamespace","selectObserver","menuObserver","alreadySetup","layout","refreshData","restore","selected","select","userChoice","$userChoices","$userChoice","isUserValue","userValues","addition","variables","addResult","hideAdditions","userLabels","firstUnfiltered","selectedItem","unselectable","nextAvailable","$selected","$nextAvailable","nextAll","$prevAvailable","hasNext","returnedObject","insertBefore","searchSelection","allowTab","selectValues","selection","missingMultiple","prependTo","$firstModules","$lastModules","refreshSelectors","refreshItems","clearData","defaultText","placeholderText","maxSelections","allResultsFiltered","allFiltered","intent","menuSearch","focusSearch","hideOthers","hideMenu","hideSubMenus","$subMenus","touchEvents","keyboardEvents","inputEvents","mouseEvents","single","mouseenter","mousedown","mouseup","mouseleave","touch","searchTerm","afterFiltered","filterActive","onNoResults","allowAdditions","noResults","userSuggestion","focusedOnSearch","useLabels","useAPI","queryRemote","noAPI","filterItems","serverError","remoteValues","escapedTerm","beginsWithRegExp","$choice","String","choiceText","fullTextSearch","exactSearch","fuzzySearch","choiceValue","filteredItem","filtered","term","termLength","queryLength","characterIndex","nextCharacterIndex","queryCharacter","skipHandler","forceSelection","$currentlySelected","$activeItem","$selectedItem","hasSelected","showOnFocus","activeElement","activeLabel","stopPropagation","$labels","$activeLabels","$nextActive","$prevActive","$range","nextUntil","prevUntil","shiftKey","onLabelSelect","activeLabels","toggleBehavior","bubbledLabelClick","determine","eventOnElement","eventInModule","$addedNode","addedNodes","$removedNode","$changedNodes","isUserAddition","isMessage","$subMenu","$otherMenus","siblings","hasSubMenu","isBubbledEvent","itemTimer","skipRefocus","allowCategorySelection","userAddition","selectAction","pressedKey","isShortcutKey","inObject","$activeLabel","activeValue","labelIndex","labelCount","hasActiveLabel","hasMultipleActive","isFirstLabel","isLastLabel","isSearch","isFocusedOnSearch","isFocused","focused","caretAtStart","caretPosition","$nextLabel","leftArrow","last","siblingLabel","end","rightArrow","first","deleteKey","backspace","$visibleItems","addBack","$parentMenu","inVisibleMenu","hasSelectedItem","selectedIsSelectable","delimiterPressed","isAdditionWithoutMenu","$nextItem","isSubMenuItem","newIndex","upArrow","selectOnKeydown","downArrow","activeItem","pageUp","scrollPage","pageDown","selectedLetter","fromCharCode","inDocument","inModule","inVisibleDOM","body","notOnLabel","notInMenu","nothing","hideAndClear","combo","searchWidth","ceil","selectionCount","upward","grep","uniqueArray","array","rangeLength","selectionStart","createRange","moveStart","isEmptyMultiselect","selectInput","remoteData","preserveHTML","menuIcon","$option","sortSelect","itemWithAdditions","$items","$userItems","hasUserItems","strict","shouldSearch","optionText","optionValue","saveRemoteData","clearValue","$currentItem","menuHeight","currentScroll","itemHeight","itemsPerPage","floor","maxScroll","newScroll","$selectableItem","isWithinRange","$nextSelectedItem","isSearchMultiple","searchValue","hasSearchValue","valueIsSet","glyphWidth","forceScroll","edgeTolerance","hasActive","itemOffset","menuOffset","menuScroll","abovePage","belowPage","letter","alreadySelectedLetter","firstLetter","$nextValue","escapedValue","hasInput","isAddition","stringValue","allowReselection","extendSelect","exactly","$userSelectedItem","selectedText","selectedValue","isFiltered","shouldAnimate","$next","onLabelCreate","hasOption","$addition","$existingItem","alreadyHasValue","hasUserSuggestion","hasCount","hasMaxCount","hasTerm","addedValue","addedText","onAdd","removedValue","removedText","$removedItem","arrayValue","onRemove","$removedLabel","userValue","onLabelRemove","items","$normalResults","hasValue","$currentMenu","canOpenDownward","above","below","needle","property","selectMutation","selectChanged","noTransition","multipleValues","isUnparsable","hasQuotes","quote","keepOnScreen","$selectedLabels","maybeText","maybeDisabled","choice","embed","sources","$embed","autoplay","createAndShow","createPlaceholder","generate","createEmbed","onCreate","changeEmbed","source","showPlaceholder","onReset","onDisplay","onPlaceholderDisplay","matchedSource","encode","urlString","iframe","noURL","extraParameters","onEmbed","video","hd","brandedUI","youtube","autohide","hq","jsapi","modestbranding","vimeo","byline","portrait","onPause","onPlay","onStop","modal","$body","$close","$allModals","$otherModals","$focusedElement","elementEventNamespace","refreshModals","defaultSettings","dimmerSettings","inverted","detachable","undetached","blurring","scrolling","cacheSizes","screenHeight","$toggle","approve","deny","onApprove","onDeny","isInModal","isInDOM","clickaway","allowMultiple","hideAll","debounce","keyboard","escapeKey","showModal","hideModal","showDimmer","others","onVisible","autofocus","keepDimmed","hideDimmer","onHidden","$visibleModals","bodyStyle","modalHeight","pageHeight","contextHeight","fit","padding","modernBrowser","ActiveXObject","$inputs","$autofocus","marginTop","nag","moduleOffset","moduleHeight","contextWidth","contextOffset","yOffset","yPosition","dismiss","displayTime","storage","persist","removeItem","removeCookie","speed","$scrollContext","scrollContext","$boundary","boundary","$popup","$offsetParent","searchDepth","triedPositions","openedWithTouch","documentObserver","createID","exists","preserve","documentChanged","offsetParent","movePopup","reposition","removePopup","hideTimer","showTimer","touchstart","hideGracefully","inPopup","activator","hoverable","conditions","supports","svg","SVGGraphicsElement","popupOffset","targetElement","targetPosition","screenPosition","scrollLeft","setFluidWidth","fluid","container","getComputedStyle","getPropertyValue","rtl","right","startEvent","scrollEvent","endEvent","distanceFromBoundary","parentNode","$node","is2D","isStatic","isHTML","positions","nextPosition","verticalPosition","horizontalPosition","opposite","adjacent","center","backup","adjacentsAvailable","oppositeTried","adjacentTried","prefer","distanceAway","positioning","maxSearchDepth","lastResort","invalidPosition","offstage","cannotPlace","attempts","onUnplaceable","fluidWidth","hideOnScroll","distance","jitter","addTouchEvents","string","badChars","shouldEscape","escapedChar","chr","global","$bar","bar","$progress","transitionEnd","transitionEvent","clearInterval","interval","nextValue","percent","progressPoll","incrementValue","maxValue","startValue","randomValue","normalizedValue","decrementValue","templateText","displayPercent","updateInterval","numericValue","transitions","style","barWidth","totalWidth","minDisplay","precision","toNextValue","tooHigh","tooLow","limitValues","labelInterval","animationCallback","setInterval","framerate","barLabel","autoSuccess","ratio","showActivity","onLabelUpdate","onActive","onWarning","totalValue","percentComplete","nonNumeric","rating","interactive","initialRating","maxRating","$activeIcon","currentRating","canClear","clearable","clearRating","ratingIndex","onRate","slent","noMaximum","$searchButton","searchButton","$results","$result","result","$category","category","disabledBubbled","searchFields","refreshResults","handleKeyboard","searchDelay","minimumCharacters","showResults","cancel","hideResults","hideDelay","resultsClicked","inMessage","$link","href","currentIndex","resultSize","buttonPressed","buttonFocus","displayMessage","searchHTML","promptElement","lookupFields","firstResult","addResults","inject","local","remote","onSearchQuery","generateResults","fuzzyResults","searchExp","matchRegExp","beginsWith","notResult","notFuzzyResult","searchFullText","numCharacters","resultIndex","categoryIndex","resultID","categoryID","firstCharCode","letterID","$selectedResult","onResultsAdd","selectFirstResult","onResultsOpen","onResultsClose","isProperObject","isProperArray","maxResults","noTemplate","showNoResults","onResults","displayField","logging","noEndpoint","categories","categoryName","categoryResults","actionText","actionURL","standard","shape","$sides","sides","$side","side","nextIndex","$activeSide","$nextSide","defaultSide","repaint","fakeAssignment","offsetWidth","propertyObject","beforeChange","currentStageSize","stageSize","$clone","newWidth","newHeight","nextSide","flip","up","allowRepeats","stage","transform","down","over","behind","translate","y","z","box","origin","sidebar","$html","$head","$sidebars","$fixed","$pusher","pusher","$style","ios","delaySetup","clickedInPusher","clickedContext","containScroll","offsetHeight","scrollHeight","scrollLock","inlineCSS","isRTL","ie","refreshSidebars","ignored","omitted","wrapAll","movedSidebar","pushable","overlay","othersActive","pushPage","pullPage","othersAnimating","othersVisible","$otherSidebars","sidebarCount","callbackCount","$transition","dim","scrollToTop","dimPage","returnScroll","mobile","scrollBack","scrollTo","pushed","mobileTransition","defaultTransition","computer","isIE11","isIE","userAgent","navigator","isIOS","isMobileChrome","mobileChrome","isMobile","closed","vertical","sticky","$scroll","$container","determineContainer","determineContext","checkErrors","invalidContext","elementSize","stick","onScroll","hardRefresh","onReposition","supported","elementScroll","standardScroll","containerSize","size","scrollChange","currentElementScroll","abs","delta","possibleScroll","tagName","minimumSize","setProperty","initialPosition","bound","cachedPosition","pushing","bottomOffset","doesntFit","elementVisible","bindBottom","fixTop","setInitialPosition","fixBottom","bindTop","marginBottom","onTop","onUnstick","onBottom","unfix","onStick","resetCSS","tab","initializedHistory","$tabs","firstLoad","recursionDepth","activeTabPath","parameterArray","historyEvent","determineTabs","auto","initializeHistory","$reference","ui","childrenOnly","tabs","onTabLoad","onTabInit","legacyLoad","onFirstLoad","legacyInit","historyType","tabPath","changeTab","pathNames","initialPath","pageTitle","determineTitle","cacheKey","$tab","tabElement","isLoading","pushStateAvailable","pushState","shouldIgnoreLoad","ignoreFirstLoad","remoteContent","pathArray","pathToArray","defaultPathArray","arrayToPath","currentPathArray","currentPath","isTab","isLastIndex","$anchor","nextPathArray","nextPath","isLastTab","filterArray","navigation","missingTab","scrollOffset","evaluateScripts","innerHTML","fullTabPath","alwaysRefresh","headers","cacheType","existingRequest","cachedContent","$deactiveTabs","$navigation","navElement","$deactiveNavigation","tabName","defaultPath","$defaultNav","defaultTab","recursion","$fullPathTab","$simplePathTab","tabPathArray","lastTab","keepArray","removeArray","keepValue","pathName","tabArray","noContent","loaded","animationEnd","animationName","animationEndEvent","displayType","forceRepaint","$parentElement","$nextElement","animationDirection","shouldReverse","reverse","outward","overrideSettings","support","occurring","queuing","noAnimation","animationCallbacks","completeCallback","failSafe","looping","inward","force","userStyle","overrideStyle","currentDisplay","emptyStyle","hasDirection","word","inlineDisplay","animationClass","transitionExists","currentAnimation","failSafeDelay","queueCallback","directionClass","currentDirection","animationStartEvent","animations","forced","elementClass","inAnimation","directionExists","stopAll","repeated","sha3","bufferToHex","adjs","nouns","upperCase","haiku","hex","n1","n2","adj","noun","Entity","identicon","lookupEthAddress","isCompany","isCompanyFactory","isCompanyConfigurator","format","jdenticon","toSvg","blob","Blob","URL","createObjectURL","Keybase","Proofs","KeybaseRegistry","keybaseSuffixes","keybaseBaseURL","proofFilename","lookup","them","proofs_summary","by_presentation_group","getVerifiedEthereumAddress","proof","verifyProof","registry","formatted","basics","profile","pictures","primary","bio","pubkey","public_keys","key_fingerprint","bundle","cryptocurrencies","social","cryptocurrency_addresses","cryptoName","proofName","nametag","ipcRenderer","IntertronClient","intertron","createProof","proofPayload","chainRegistry","register","utils","personalSign","personalECRecover","toHex","KeybaseProofs","proofString","getProofString","signatureAddress","verifySignature","Token","tokenData","Mongo","PersistentMinimongo","FormattedEntity","Collection","connection","providers","keybase","tokens","anon","lookupAddress","getRaw","replaceMe","getUsernameRaw","entityObj","upsert","$set","$unset","_id","raw","Action","votingDescription","votingDescriptionFor","issueStockDescription","stockIndex","grantVestedStockDescription","now","accountingSettingsDescription","budget","periodDuration","dividendThreshold","fromWei","stockSaleDescription","saleAddress","raiseTarget","stockId","buyingPrice","getBuyingPrice","addStockDescription","stockSymbol","grantIssuedStockDescription","transferSaleFundsDescription","saleIndex","stockSale","createRecurringRewardDescription","concept","removeRecurringRewardDescription","rewardId","issueRewardDescription","getActionForSignature","setEntityStatusDescription","setStatusBylawDescription","statusNeeded","isSpecialStatus","setAddressBylawDescription","setVotingBylawDescription","supportBase","relativeMajorityOnClose","beginSale","transferSaleFunds","setAccountingSettings","transferTokens","approveTokens","wrapTokens","unwrapTokens","keybaseRegistry","BylawsWatcher","Bylaws","updateBylaw","actionFromData","abi","verifyBytecode","allContracts","checkContractDeployAction","_json","functionSig","contractAction","isHexType","padLeft","chars","_data","paramTypes","paramsResponse","rawDecode","Buffer","conversionFlag","prefix","Number","GenericBinaryVoting","Queue","gasEstimate","estimateGas","p","sendTransaction","txid","promisedDeploy","counter","Dispatcher","createVoting","companyFunction","f","addPendingTransaction","dontHideMetamask","signPayload","payload","binary","votingTime","txData","votingCloses","nonce","hashedPayload","preauth","toBuffer","callToActionForAction","bylawDisclaimerForAction","BylawsLib","neededStatus","checkingAction","bylawsLib","keyForFunctionSignature","actionSig","Meteor","deepValue","obj","newObj","newPath","len","Build","public","Ticker","registerHelper","isConnected","ethAmount","toFixed","onLine","stocksArr","totalStock","timestamp","calendar","Blaze","moduleName","viewName","removeGenericRoutes","_routes","pathDef","_routesMap","removeSubRoutes","startsWith","addRoutes","routesObj","ins","isEmpty","leanPath","_fireCallbacks","view","onDestroyed","_action","TemplateInstance","levels","ls","substring","templateInstance","parentView","ready","fetchRates","btc","rates","ticker","Watcher","AccountingPeriods","AccountingWatcher","setupCollections","listen","watchEvent","NewPeriod","watchPeriod","PeriodClosed","NewRecurringTransaction","watchRecurring","TransactionSaved","watchTransaction","RemovedRecurringTransaction","watchRecurringRemoval","persistentTransactions","persistentAccountingPeriods","updatePeriod","newPeriod","saveRecurringTransaction","recurringIndex","saveTransaction","removeRecurringTransaction","periodIndex","getPeriodInfo","periodArray","startedDate","endedDate","revenue","expenses","dividends","periodInfo","getTransactionInfo","txArray","isExpense","approvedBy","txInfo","recurring","getRecurringTransactionInfo","lastTransactionDate","BylawChanged","watchBylaw","persistentBylaws","functionSignature","getBylawType","updatedBy","getVotingBylaw","getStatusBylaw","getAddressBylaw","allProperties","bylawObject","signatureHash","AccountingLib","BinaryVoting","BinaryPoll","Txid","ERC20Wrap","contractify","_Company","_AccountingLib","_Stock","_BinaryVoting","_BinaryPoll","_StockSale","_BoundedStandardSale","_IndividualInvestorSale","_GenericBinaryVoting","_CompanyFactory","_CompanyConfiguratorFactory","_CustomStock","_WrappedCustomStock","_Txid","_ERC20Wrap","_BylawsLib","_KeybaseRegistry","CompanyContract","Listener","flatten","Listeners","issueStockListener","newPollListener","executedVotingListener","newSaleListener","bylawChangedListener","shareTransfers","parentStocks","sharesTransfers","sharesSent","sharesReceived","sharesTransferred","predicate","verb","Transfer","IssuedStock","NewVoting","NewStockSale","votingAddress","outcome","winner","VoteExecuted","domains","names","EthBlocks","_BytesHelper","listeners","initWatchers","initCollections","accountObserver","addedAt","init","getAccounts","accs","blockObserver","promises","initConnection","retry","tryConnection","currentProvider","constructor","getSyncing","EthereumNode","connect","nodeReady","collectionsReady","setProvider","nID","formerNetwork","bindListeners","allListeners","sigUtil","sendAsync","sig","recoverPersonalSignature","StatusWatcher","EntityNewStatus","watchStatus","updateStatus","_status","listenForNewStock","listenForStockTransfers","persistentStock","watchStock","getStock","saveStockTransfer","updateBalance","isIncrement","currentEntity","$addToSet","$each","trackStock","updateStock","allShareholdersForStock","shareholderIndex","convert","getParentToken","parentAddress","stockObject","stockInfo","verifyContractCode","listenForNewSales","listenForSalesEvents","persistentStockSales","getSale","newsale","sales","StockSold","StockBought","investorIndex","investors","investorAddresses","Set","buyers","verifySale","verifiedSale","raisedAmount","saleTitle","raiseMaximum","availableTokens","additionalProperties","saleObject","finalSale","allClasses","allSales","verifiedContract","saleTx","watchSaleDeployTransaction","submitSale","parentTotalSupply","catch","hodler","wrapper","allowance","txId2","getReceipt","getTx","getTransaction","bytecode","candidateContracts","listenForUpdates","persistentVotings","getVoting","affectedVotings","VoteCasted","updateVoting","optionId","counted","absoluteVotes","getVotingInfo","vad","startTime","executed","optionsIndex","lastId","optionsPromises","votingSupport","votingObject","creator","votingInfo","voteContracts","_event","realCallback","lastWatchedBlock","blockNumber","streamingPredicate","missedPredicate","evs","threshold","lastBlock","fromBlock","toBlock","networkMultiplayer","lastBlockKey","latest","block","watchers","w","isDev","isClient","needsWeb3","canInjectMetamask","BlazeLayout","Core","modulesVar","setupRoutes","setRoot","newModules","Module","routeName","templateName","renderView","render","main","notify","Notify","BrowserNotifications","requestPermission","cb","showNotification","notifyClick","notifyClose","notification","needsPermission","isSupported","NotificationsListener","_title","_bodyFormatter","_uriFormatter","_callToAction","_predicate","_uniqueId","bodyFormatter","uriFormatter","callToAction","uid","persistentNotifications","listener","notis","saveNotification","sendMissingNotification","uri","shown","notificationHash","notificationId","getBlockDate","notificationDetails","blockHash","logIndex","shared","getBlock","txq","newArr","displayCurrency","SettingsCollection","doc","supportedCountries","ShakeUser","authToken","shakeUrl","postJSON","mode","Headers","userData","invoiceData","$table","$th","th","rows","fragment","sortValueForCell","td","sorter","sortBy","naturalSort","chunkRegExp","stripRegExp","dateRegExp","numericRegExp","oRegExp","cLoc","useInsensitive","xChunked","yChunked","chunkLength","xDate","yDate","xHexValue","yHexValue","isNaN","asc","desc","aRow","bRow","aIndex","bIndex","cellToSort","tr","row","DEBUG","sortable","previous","bylawsCanPerformAction","timeDiff","twix","humanizeLength","plus","percentFormat","arrayAccess","isNull","isNotNull","currentIdentity","isMe","liveTokenBalance","composeFunction","g","unhandledNotifications","ether","toLocaleString","networkName","etherscan","etherscanAddress","k","release","initFinished","isInjectedMetaMask","clearStorage","collections","contentScriptReq","getElementsByTagName","appendChild","loadMetaMask","Layout_MetaMask","_setupMetaMaskPageStream","wait","startup","hashbang"],"mappings":"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","file":"/app.js","sourcesContent":["// @flow\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { ReactivePromise } from 'meteor/deanius:promise'\nimport { moment } from 'meteor/momentjs:moment'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport Identity from '/client/lib/identity'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport StockSaleWatcher from '/client/lib/ethereum/stocksales'\nimport { Company } from '/client/lib/ethereum/deployed'\nimport { Stock } from '/client/lib/ethereum/contracts'\n\n\nconst Stocks = StockWatcher.Stocks\n\nconst tmpl = Template.Module_Fundraising_New_Bounded.extend([ClosableSection])\n\ntmpl.onRendered(function () {\n  TemplateVar.set('selectedStock', -1)\n\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      const title = this.$('input[name=title]').val()\n      const selectedStock = TemplateVar.get(this, 'selectedStock')\n      const price = web3.toWei(this.$('input[name=price]').val(), 'ether')\n      const min = this.$('input[name=min]').val()\n      const cap = this.$('input[name=cap]').val()\n      const closes = +moment(this.$('[type=date]').val()) / 1000\n\n      await StockSaleWatcher\n        .createBoundedSale(selectedStock, min, cap, price, closes, title)\n\n      this.$('.dimmer').trigger('finished', { state: 'success' })\n      return false\n    },\n  })\n})\n\ntmpl.helpers({\n  selectedRecipient: () => (TemplateVar.get('recipient')),\n  entity: ReactivePromise(Identity.get),\n  stocks: () => Stocks.find(),\n  defaultAddress: () => Identity.current(true).ethereumAddress,\n  availableShares: ReactivePromise((selectedStock) => {\n    const stock = Stocks.findOne({ index: +selectedStock })\n    if (!stock) { return Promise.reject() }\n    return Stock.at(stock.address).balanceOf(Company().address).then(x => x.valueOf())\n  }, '', '0'),\n})\n\ntmpl.events({\n  'select .identityAutocomplete': (e, instance, user) => (TemplateVar.set('recipient', user)),\n  'change select': (e) => (TemplateVar.set('selectedStock', +e.target.value)),\n  'success .dimmer': () => FlowRouter.go('/fundraising'),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { ReactivePromise } from 'meteor/deanius:promise'\nimport { moment } from 'meteor/momentjs:moment'\n\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport Identity from '/client/lib/identity'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport StockSaleWatcher from '/client/lib/ethereum/stocksales'\nimport { Company } from '/client/lib/ethereum/deployed'\nimport { Stock } from '/client/lib/ethereum/contracts'\n\nconst Stocks = StockWatcher.Stocks\n\nconst tmpl = Template.Module_Fundraising_New_Individual.extend([ClosableSection])\n\ntmpl.onRendered(function () {\n  TemplateVar.set('selectedStock', -1)\n\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      const title = this.$('input[name=title]').val()\n      const selectedStock = TemplateVar.get(this, 'selectedStock')\n      const investor = TemplateVar.get(this, 'recipient').ethereumAddress\n      const price = web3.toWei(this.$('input[name=price]').val(), 'ether')\n\n      const units = this.$('input[name=units]').val()\n      const closes = +moment(this.$('[type=date]').val()) / 1000\n\n      console.log('creating with investor', investor)\n      await StockSaleWatcher.createIndividualInvestorSale(\n        selectedStock, investor, price, units, closes, title)\n\n      this.$('.dimmer').trigger('finished', { state: 'success' })\n      return false\n    },\n  })\n})\n\ntmpl.helpers({\n  selectedRecipient: () => (TemplateVar.get('recipient')),\n  entity: ReactivePromise(Identity.get),\n  stocks: () => Stocks.find(),\n  defaultAddress: () => Identity.current(true).ethereumAddress,\n  availableShares: ReactivePromise((selectedStock) => {\n    const stock = Stocks.findOne({ index: +selectedStock })\n    if (!stock) { return Promise.reject() }\n    return Stock.at(stock.address).balanceOf(Company().address).then(x => x.valueOf())\n  }, '', '0'),\n})\n\ntmpl.events({\n  'select .identityAutocomplete': (e, instance, user) => (TemplateVar.set('recipient', user)),\n  'change select': (e) => (TemplateVar.set('selectedStock', +e.target.value)),\n  'success .dimmer': () => FlowRouter.go('/fundraising'),\n})\n","// @flow\nimport { $ } from 'meteor/jquery'\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\n\nimport StockSalesWatcher from '/client/lib/ethereum/stocksales'\n\nconst StockSales = StockSalesWatcher.StockSales\n\nconst tmpl = Template.Module_Fundraising.extend()\n\ntmpl.routes({\n  '/': () => TemplateVar.set('rightSection', 'Module_Fundraising_Empty'),\n  '/new': () => TemplateVar.set('rightSection', 'Module_Fundraising_New'),\n  '/new/individual': () => TemplateVar.set('rightSection', 'Module_Fundraising_New_Individual'),\n  '/new/bounded': () => TemplateVar.set('rightSection', 'Module_Fundraising_New_Bounded'),\n  '/:id': () => {\n    TemplateVar.set('rightSection', 'Module_Fundraising_Info')\n    requestAnimationFrame(() => $('#raise').trigger('reload'))\n  },\n  '/*/entity/:address': () => TemplateVar.set('rightSection', 'Module_Entity'),\n})\n\ntmpl.onCreated(() => {\n  TemplateVar.set('rightSection', 'Module_Fundraising_Empty')\n})\n\ntmpl.events({\n  'click tbody tr': (e) => FlowRouter.go(`/fundraising/${$(e.currentTarget).data('id')}`),\n})\n\ntmpl.helpers({\n  raises: () => StockSales.find(),\n})\n","// @flow\n\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { moment } from 'meteor/momentjs:moment'\nimport { ReactivePromise } from 'meteor/deanius:promise'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport StockSalesWatcher from '/client/lib/ethereum/stocksales'\nimport Identity from '/client/lib/identity'\nimport { StockSale } from '/client/lib/ethereum/contracts'\n\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\n\nconst StockSales = StockSalesWatcher.StockSales\n\nconst tmpl = Template.Module_Fundraising_Info.extend([ClosableSection])\nconst reloadSaleId = () => (TemplateVar.set('id', +FlowRouter.current().params.id))\n\nconst getRaise = () => StockSales.findOne({ index: TemplateVar.get('id') })\nconst getBalance = address => {\n  return new Promise((resolve, reject) => {\n    web3.eth.getBalance(address, (err, balance) => {\n      if (err) return reject(err)\n      resolve(balance.toNumber())\n    })\n  })\n}\n\nconst canTransfer = async (sale: Object): Promise<boolean> => {\n  const allowed = await StockSale.at(sale.address).isFundsTransferAllowed()\n  const balance = await getBalance(sale.address)\n  return allowed && balance > 0\n}\n\nconst transfer = async () => {\n  this.$('.dimmer').trigger('loading')\n\n  // await dispatcher.dispatch(actions.transferSaleFunds, getRaise().index)\n  reloadSaleId()\n\n  this.$('.dimmer').trigger('finished', { state: 'success' })\n}\n\ntmpl.onRendered(reloadSaleId)\n\nconst raiseTypes: Object = {\n  BoundedStandardSale: 'Public fundraise with stable price',\n  IndividualInvestorSale: 'Individual investor fundraise',\n}\n\ntmpl.helpers({\n  raise: getRaise,\n  investor: ReactivePromise(async () => {\n    const raise = getRaise()\n    const entity = await Identity.get(raise.typeMetadata.investorAddress)\n    return entity\n  }),\n  transferrableFunds: ReactivePromise(getBalance),\n  isOpen: sale => moment() <= moment(sale.closeDate),\n  isTransferAllowed: ReactivePromise(canTransfer),\n  raiseTypeToHuman: (raiseType: string): string => raiseTypes[raiseType],\n})\n\ntmpl.events({\n  'reload #raise': () => reloadSaleId(),\n  'click button': () => {\n    transfer()\n  },\n})\n","// @flow\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { EthAccounts } from 'meteor/ethereum:accounts'\nimport { Template } from 'meteor/templating'\n\nimport Identity from '/client/lib/identity'\nimport Settings from '/client/lib/settings'\nimport currencies from './currencies'\n\nconst tmpl = Template.Module_Account.extend()\n\ntmpl.onRendered(function () {\n  this.$('#logout').popup({ position: 'top center' })\n  this.$('#viewAllAccounts, #linkKeybase, #unlinkCompany').popup({ position: 'bottom center' })\n\n  this.autorun(() => {\n    if (TemplateVar.get('viewAllAccounts')) {\n      // Handling the case of a Keybase Eth keypair not loaded\n      const addresses = EthAccounts.find().fetch().map(x => x.address)\n      if (addresses.indexOf(Identity.current().ethereumAddress) === -1) {\n        Identity.setCurrentEthereumAccount(addresses[0])\n      }\n    }\n  })\n})\n\ntmpl.events({\n  'click #viewAllAccounts': () => TemplateVar.set('viewAllAccounts', true),\n  'click #unlinkIdentity': () => {\n    const entity = Identity.current()\n    Identity.setCurrent({\n      identityProvider: 'anon',\n      ethereumAddress: entity.ethereumAddress,\n      data: {},\n    })\n  },\n  'click #unlinkCompany': () => {\n    localStorage.clear()\n    location.reload()\n  },\n  'click #linkKeybase': async () => {\n    if (confirm('Do you have the Keybase app installed?')) {\n      Identity.linkCurrent('keybase')\n    } else if (confirm('Do you want to install it?')) {\n      window.open('https://keybase.io/download')\n    }\n  },\n  'change [name=\"currency\"]': (e) => (Settings.set('displayCurrency', e.target.value)),\n  'change #allAccounts select': (e) => {\n    Identity.setCurrentEthereumAccount(e.target.value)\n    TemplateVar.set('viewAllAccounts', false)\n  },\n})\n\ntmpl.helpers({\n  accounts: () => EthAccounts.find(),\n  currencies: () => (\n    Object.keys(currencies).map((symbol) => ({ name: currencies[symbol], symbol }))\n  ),\n  companyAddress: () => localStorage.getItem('companyAddress'),\n  isElectron: () => window.isElectron,\n})\n","const currencies = {\n  ETH: 'Ether',\n  BTC: 'Bitcoin',\n\n  USD: 'United States Dollar',\n  EUR: 'Euro',\n  JPY: 'Japan Yen',\n  GBP: 'United Kingdom Pound',\n  AUD: 'Australia Dollar',\n  CAD: 'Canada Dollar',\n  CHF: 'Switzerland Franc',\n  CNY: 'China Yuan Renminbi',\n\n  // ALL: 'Albania Lek',\n  // AFN: 'Afghanistan Afghani',\n  // ARS: 'Argentina Peso',\n  // AWG: 'Aruba Guilder',\n  // AZN: 'Azerbaijan New Manat',\n  // BSD: 'Bahamas Dollar',\n  // BBD: 'Barbados Dollar',\n  // BDT: 'Bangladeshi taka',\n  // BYR: 'Belarus Ruble',\n  // BZD: 'Belize Dollar',\n  // BMD: 'Bermuda Dollar',\n  // BOB: 'Bolivia Boliviano',\n  // BAM: 'Bosnia and Herzegovina Convertible Marka',\n  // BWP: 'Botswana Pula',\n  BGN: 'Bulgaria Lev',\n  BRL: 'Brazil Real',\n  // KYD: 'Cayman Islands Dollar',\n  // CLP: 'Chile Peso',\n  // COP: 'Colombia Peso',\n  // CRC: 'Costa Rica Colon',\n  HRK: 'Croatia Kuna',\n  // CUP: 'Cuba Peso',\n  CZK: 'Czech Republic Koruna',\n  DKK: 'Denmark Krone',\n  // DOP: 'Dominican Republic Peso',\n  // XCD: 'East Caribbean Dollar',\n  // EGP: 'Egypt Pound',\n  // SVC: 'El Salvador Colon',\n  // EEK: 'Estonia Kroon',\n  FKP: 'Falkland Islands (Malvinas) Pound',\n  // FJD: 'Fiji Dollar',\n  // GHC: 'Ghana Cedis',\n  // GIP: 'Gibraltar Pound',\n  // GTQ: 'Guatemala Quetzal',\n  // GGP: 'Guernsey Pound',\n  // GYD: 'Guyana Dollar',\n  // HNL: 'Honduras Lempira',\n  HKD: 'Hong Kong Dollar',\n  HUF: 'Hungary Forint',\n  // ISK: 'Iceland Krona',\n  INR: 'India Rupee',\n  IDR: 'Indonesia Rupiah',\n  // IRR: 'Iran Rial',\n  // IMP: 'Isle of Man Pound',\n  ILS: 'Israel Shekel',\n  // JMD: 'Jamaica Dollar',\n  // JEP: 'Jersey Pound',\n  // KZT: 'Kazakhstan Tenge',\n  KPW: 'Korea (North) Won',\n  KRW: 'Korea (South) Won',\n  // KGS: 'Kyrgyzstan Som',\n  // LAK: 'Laos Kip',\n  // LVL: 'Latvia Lat',\n  // LBP: 'Lebanon Pound',\n  // LRD: 'Liberia Dollar',\n  // LTL: 'Lithuania Litas',\n  // MKD: 'Macedonia Denar',\n  MYR: 'Malaysia Ringgit',\n  // MUR: 'Mauritius Rupee',\n  MXN: 'Mexico Peso',\n  // MNT: 'Mongolia Tughrik',\n  // MZN: 'Mozambique Metical',\n  // NAD: 'Namibia Dollar',\n  // NPR: 'Nepal Rupee',\n  // ANG: 'Netherlands Antilles Guilder',\n  NZD: 'New Zealand Dollar',\n  // NIO: 'Nicaragua Cordoba',\n  // NGN: 'Nigeria Naira',\n  NOK: 'Norway Krone',\n  // OMR: 'Oman Rial',\n  // PKR: 'Pakistan Rupee',\n  // PAB: 'Panama Balboa',\n  // PYG: 'Paraguay Guarani',\n  // PEN: 'Peru Nuevo Sol',\n  PHP: 'Philippines Peso',\n  PLN: 'Poland Zloty',\n  // QAR: 'Qatar Riyal',\n  RON: 'Romania New Leu',\n  RUB: 'Russia Ruble',\n  // SHP: 'Saint Helena Pound',\n  // SAR: 'Saudi Arabia Riyal',\n  // RSD: 'Serbia Dinar',\n  // SCR: 'Seychelles Rupee',\n  SGD: 'Singapore Dollar',\n  // SBD: 'Solomon Islands Dollar',\n  // SOS: 'Somalia Shilling',\n  ZAR: 'South Africa Rand',\n  // LKR: 'Sri Lanka Rupee',\n  SEK: 'Sweden Krona',\n  // SRD: 'Suriname Dollar',\n  // SYP: 'Syria Pound',\n  // TWD: 'Taiwan New Dollar',\n  THB: 'Thailand Baht',\n  // TTD: 'Trinidad and Tobago Dollar',\n  TRY: 'Turkey Lira',\n  // TRL: 'Turkey Lira',\n  // TVD: 'Tuvalu Dollar',\n  // UAH: 'Ukraine Hryvna',\n  // UYU: 'Uruguay Peso',\n  // UZS: 'Uzbekistan Som',\n  // VEF: 'Venezuela Bolivar',\n  // VND: 'Viet Nam Dong',\n  // YER: 'Yemen Rial',\n  // ZWD: 'Zimbabwe Dollar',\n}\n\nexport default currencies\n","// @flow\nimport { $ } from 'meteor/jquery'\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\n\nimport Identity from '/client/lib/identity'\nimport Accounting from '/client/lib/ethereum/accounting'\n\nconst tmpl = Template.Module_Accounting.extend()\n\ntmpl.routes({\n  '/': () => TemplateVar.set('rightSection', 'Module_Accounting_Empty'),\n  '/payments/new': () => TemplateVar.set('rightSection', 'Module_Accounting_New'),\n  '/transactions/:id': () => TemplateVar.set('rightSection', 'Module_Accounting_Details'),\n  '/*/entity/:address': () => TemplateVar.set('rightSection', 'Module_Entity'),\n})\n\ntmpl.onRendered(function () {\n  this.$('table').tablesort()\n})\n\ntmpl.events({\n  'input #searchInput': (e) => (TemplateVar.set('searchString', e.target.value)),\n  'click tbody tr': (e) => FlowRouter.go(`/accounting/transactions/${$(e.currentTarget).data('transaction')}`),\n})\n\nwindow.Accounting = Accounting\n\ntmpl.helpers({\n  transactions: Accounting.Transactions.find(),\n  recipients: [{\n    address: () => Identity.current(),\n    type: 'Recurring',\n  }],\n})\n","// @flow\n\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport Accounting from '/client/lib/ethereum/accounting'\n\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\n\nconst tmpl = Template.Module_Accounting_Details.extend([ClosableSection])\n\ntmpl.onCreated(() => {\n  TemplateVar.set('transaction', Accounting.Transactions.findOne(\n    { transactionIndex: +FlowRouter.getParam('id') }))\n})\n\ntmpl.events({\n  'click #stopRecurring': async () => {\n    this.$('.dimmer').trigger('loading')\n    await dispatcher.dispatch(actions.removeRecurringReward, +FlowRouter.getParam('id'))\n    this.$('.dimmer').trigger('success')\n  },\n})\n","// @flow\nimport { $ } from 'meteor/jquery'\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { ReactivePromise } from 'meteor/deanius:promise'\nimport { moment } from 'meteor/momentjs:moment'\n\nimport { Company } from '/client/lib/ethereum/deployed'\n\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\n\nconst tmpl = Template.Module_Accounting_New.extend([ClosableSection])\n\ntmpl.helpers({\n  remainingBudget: ReactivePromise(() => Company().getAccountingPeriodRemainingBudget()),\n  periodCloses: ReactivePromise(() =>\n                  Company().getAccountingPeriodCloses.call().then(x => moment(x * 1000))),\n  actionName: () => (TemplateVar.get('isRecurring') ? 'createRecurringReward' : 'issueReward'),\n})\n\nconst issueReward = (to, amountWei) => (\n  dispatcher.dispatch(actions.issueReward, to, amountWei, `Reward for ${to}`)\n)\n\nconst createRecurringReward = (to, amountWei, period) => (\n  dispatcher.dispatch(actions.createRecurringReward, to, amountWei, period, `Recurring reward for ${to}`)\n)\n\ntmpl.onRendered(function () {\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      const amount = TemplateVar.getFrom('.Element_CurrencyAmount', 'amountWei')\n\n      const to = TemplateVar.get(this, 'recipient').ethereumAddress\n\n      try {\n        if (TemplateVar.get(this, 'isRecurring')) {\n          const periodNumber = this.$('input[name=periodNumber]').val()\n          const periodUnit = this.$('#recurringPeriodInterval').val()\n          await createRecurringReward(to, amount, periodNumber * periodUnit)\n        } else {\n          await issueReward(to, amount)\n        }\n\n        this.$('.dimmer').trigger('finished', { state: 'success' })\n      } catch (error) {\n        console.log(error)\n        this.$('.dimmer').trigger('finished', { state: 'failure' }) // TODO: failure state\n      }\n\n      return false\n    },\n  })\n})\n\ntmpl.events({\n  'select .identityAutocomplete': (e, instance, user) => (TemplateVar.set('recipient', user)),\n  'success .dimmer': () => FlowRouter.go('/accounting'),\n  'click #recurring': () => TemplateVar.set('isRecurring', !TemplateVar.get('isRecurring')),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\n\nimport ActionFactory from '/client/lib/action-dispatcher/actions'\n\nconst tmpl = Template.Module_Bylaws.extend()\n\ntmpl.routes({\n  '/': () => TemplateVar.set('rightSection', 'Module_Bylaws_Empty'),\n  '/action/:key': () => TemplateVar.set('rightSection', 'Module_Bylaws_Modify'),\n  '/*/entity/:address': () => TemplateVar.set('rightSection', 'Module_Entity'),\n})\n\ntmpl.helpers({\n  actions: (): Array<Object> => {\n    const actions = Object.keys(ActionFactory).map(key => Object.assign(ActionFactory[key], { key }))\n    return actions.filter(action => action.isBylaw)\n  },\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\n\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\nimport { bylawForAction } from '/client/lib/action-dispatcher/bylaws'\nimport Status from '/client/lib/identity/status'\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport Identity from '/client/lib/identity'\n\nconst tmpl = Template.Module_Bylaws_Modify.extend([ClosableSection])\n\nconst triggerList = [\n  'voting',\n  'status',\n  'specialStatus',\n  'address',\n  'oracle',\n]\n\nconst setAction = async () => {\n  const action = actions[FlowRouter.getParam('key')]\n  const completeAction = Object.assign(action, { bylaw: bylawForAction(action) })\n  TemplateVar.set('action', completeAction)\n  TemplateVar.set('selectedTrigger', triggerList[completeAction.bylaw.type])\n\n  const bylaw = completeAction.bylaw\n  if (bylaw.type > 2) {\n    TemplateVar.setTo('.identityAutocomplete', 'entity', await Identity.lookupAndFormat(bylaw.details.address))\n  }\n}\n\ntmpl.onCreated(setAction)\n\nconst save = function () {\n  const signature = TemplateVar.get(this, 'action').signature\n  const trigger = TemplateVar.get(this, 'selectedTrigger')\n  if (trigger === 'status') {\n    const statusIndex: number = Status.toNumber(this.$('[name=\"status\"]').val())\n    dispatcher.dispatch(actions.setStatusBylaw, signature, statusIndex, false)\n  } else if (trigger === 'specialStatus') {\n    dispatcher.dispatch(actions.setStatusBylaw, signature, 0, true)\n  } else if (trigger === 'voting') {\n    const supportNeeded = this.$('[name=\"supportNeeded\"]').val()\n    const closingRelativeMajority = this.$('[name=\"supportNeeded\"]').is(':checked')\n    const minimumVotingTime = parseInt(this.$('[name=\"minimumVotingTime\"]').val(), 10) * 60 * 60 * 24\n    dispatcher.dispatch(actions.setVotingBylaw, signature, supportNeeded, 100,\n                        closingRelativeMajority, minimumVotingTime, 0)\n  } else if (trigger === 'address' || trigger === 'oracle') {\n    const isOracle = trigger === 'oracle'\n    const addrBylaw = TemplateVar.get(this, 'addrBylaw')\n\n    console.log('the addr', addrBylaw)\n    dispatcher.dispatch(actions.setAddressBylaw, signature, addrBylaw, isOracle)\n  }\n}\n\nconst confirmText =\n`Changing your company's bylaws has real implications on its functioning.\\n\nPlease make sure this is a desired action.\\n\nYour company may become locked for ever after a bad change`\n\ntmpl.onRendered(async function () {\n  this.$('.form').form({\n    onSuccess: (e) => {\n      e.preventDefault()\n      if (confirm(confirmText)) save.call(this)\n      return false\n    },\n  })\n\n  this.autorun(async () => {\n    FlowRouter.watchPathChange()\n    await setAction()\n    TemplateVar.set(this, 'addrBylaw', TemplateVar.get(this, 'action').bylaw.details.address)\n    requestAnimationFrame(() => (this.$('#closingRelativeMajority').checkbox()))\n  })\n})\n\ntmpl.helpers({\n  triggers: (action) => ([{\n    title: 'Requires a voting',\n    value: 'voting',\n    disabled: (action.key === 'beginPoll' || action.key === 'castVote') ? 'disabled' : null,\n  }, {\n    title: 'Requires a user with status',\n    value: 'status',\n  }, {\n    title: 'Requires a shareholder',\n    value: 'specialStatus',\n  }, {\n    title: 'Only a specific address can perform it',\n    value: 'address',\n  }, {\n    title: 'An oracle will be called for confirmation (advanced)',\n    value: 'oracle',\n  },\n]),\n  triggerToInt: (trigger: string) => triggerList.indexOf(trigger),\n  intToTrigger: (trigger: number) => triggerList[trigger],\n  statuses: [{\n    value: 'none',\n    title: 'Everyone will be able to change it',\n  }, {\n    value: 'employee',\n    title: 'Employees and executives will be able to change it',\n  }, {\n    value: 'executive',\n    title: 'Executives will be able to change it',\n  }],\n  statusToInt: status => Status.toNumber(status),\n  action: () => TemplateVar.get('action'),\n  selectedTrigger: () => TemplateVar.get('selectedTrigger'),\n  secondsToDays: (seconds: number): number => seconds / 60 / 60 / 24,\n  numbersToPercentage: (a: number, b: number): number => Math.round((a / b) * 100),\n  actionName: () => {\n    const trigger = TemplateVar.get('selectedTrigger')\n    if (trigger === 'voting') return 'setVotingBylaw'\n    if (trigger === 'address' || trigger === 'oracle') return 'setAddressBylaw'\n    return 'setStatusBylaw'\n  }\n})\n\ntmpl.events({\n  'change #trigger': (e) => {\n    TemplateVar.set('selectedTrigger', e.target.value)\n    requestAnimationFrame(() => {\n      this.$('#closingRelativeMajority').checkbox()\n    })\n  },\n  'select .identityAutocomplete': (e, instance, user) => {\n    TemplateVar.set('addrBylaw', user.ethereumAddress)\n  },\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { ReactivePromise } from 'meteor/deanius:promise'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport Identity from '/client/lib/identity'\nimport Status from '/client/lib/identity/status'\n\nconst tmpl = Template.Module_Entity.extend([ClosableSection])\n\ntmpl.helpers({\n  entity: ReactivePromise(async () => {\n    if (FlowRouter.current()) {\n      const address = FlowRouter.current().params.address\n      if (address) {\n        return await Identity.get(address)\n      }\n      return Identity.current(false, false)\n    }\n    return {}\n  }),\n  getStatus: ethereumAddress => {\n    const s = Entities.findOne({ ethereumAddress }).status\n    return s > 0 ? Status.toString(s) : null\n  },\n  formatFingerprint: (fingerprint): string => (fingerprint && fingerprint.match(/.{1,4}/g).join(' ')),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\n\nconst tmpl = Template.Module_Home\n\ntmpl.events({\n  'click #openNotifs': () => ($('#inboxButton').click()),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { moment } from 'meteor/momentjs:moment'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { ReactivePromise } from 'meteor/deanius:promise'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport Identity from '/client/lib/identity'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport { Company } from '/client/lib/ethereum/deployed'\nimport { Stock } from '/client/lib/ethereum/contracts'\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\n\nconst Stocks = StockWatcher.Stocks\n\nconst tmpl = Template.Module_Ownership_AssignShares.extend([ClosableSection])\n\nconst assignStock = (kind, value, recipient) => (\n  dispatcher.dispatch(actions.grantStock, kind, value, recipient)\n)\n\nconst createStockGrant = async (kind, value, recipient, start, cliff, vesting) => (\n  dispatcher.dispatch(actions.grantVestedStock, kind, value, recipient, start,\n                      +moment(cliff)/1000, +moment(vesting)/1000)\n)\n\ntmpl.onRendered(function () {\n  TemplateVar.set('assignMode', true)\n\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      const selectedStock = TemplateVar.get(this, 'selectedStock')\n      const amount = this.$('input[name=number]').val()\n      const recipient = TemplateVar.get(this, 'recipient').ethereumAddress\n\n      if (TemplateVar.get(this, 'assignMode')) {\n        await assignStock(selectedStock, amount, recipient)\n      } else {\n        const cliff = this.$('input[name=cliff]').val()\n        const vesting = this.$('input[name=vesting]').val()\n\n        // TODO: UI for setting start date\n        await createStockGrant(selectedStock, amount, recipient, +new Date()/1000, cliff, vesting)\n      }\n\n      this.$('.dimmer').trigger('finished', { state: 'success' })\n      return false\n    },\n  })\n})\n\ntmpl.helpers({\n  selectedRecipient: () => (TemplateVar.get('recipient')),\n  stocks: () => Stocks.find(),\n  defaultAddress: () => Identity.current(true).ethereumAddress,\n  availableShares: ReactivePromise((selectedStock) => {\n    const stock = Stocks.findOne({ index: +selectedStock })\n    if (!stock) { return Promise.reject() }\n    return Stock.at(stock.address).balanceOf(Company().address).then(x => x.valueOf())\n  }, '', '0'),\n  actionName: () => (TemplateVar.get('assignMode') ? 'grantStock' : 'grantVestedStock'),\n})\n\ntmpl.events({\n  'select .identityAutocomplete': (e, instance, user) => (TemplateVar.set('recipient', user)),\n  'change select': (e) => (TemplateVar.set('selectedStock', +e.target.value)),\n  'success .dimmer': () => FlowRouter.go('/ownership'),\n  'click #stockGrant': () => TemplateVar.set('assignMode', !TemplateVar.get('assignMode')),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\n\nimport Chart from 'chart.js'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport { Stock } from '/client/lib/ethereum/contracts'\nimport Identity from '/client/lib/identity'\n\nconst Stocks = StockWatcher.Stocks\n\nconst tmpl = Template.Module_Ownership_Charts.extend()\n\nconst strToColor = (str) => {\n  let hash = 0\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash)\n  }\n  let color = '#'\n  for (let i = 0; i < 3; i++) {\n    const value = (hash >> (i * 8)) & 0xFF\n    color += (`00${value.toString(16)}`).substr(-2)\n  }\n  return color\n}\n\nconst drawChart = (ctx, title, labels, data, colors) => {\n  const chartData = {\n    labels,\n    datasets: [{ data, backgroundColor: colors || labels.map(strToColor) }],\n  }\n\n  new Chart(ctx, {\n    type: 'doughnut',\n    data: chartData,\n    options: { responsive: true, title: { display: true, text: title } },\n  })\n}\n\nconst getBalance = (stock, ethereumAddress) => {\n  const entity = Entities.findOne({Â ethereumAddress })\n  if (!entity ||Â !entity.balances) return 0\n  return entity.balances[stock]\n}\n\nconst drawWithStocks = async (stocks) => {\n  drawChart(this.$('#stockChart'), 'Stock types', stocks.map(s => s.symbol), stocks.map(s => s.totalSupply))\n\n  const allShares = stocks.map(s => s.shareholders)\n  const globalBalances = {}\n  const votingPower = {}\n\n  for (const shareId in allShares) {\n    const stock = stocks[shareId]\n    const shareShareholders = allShares[shareId].map(x => x.shareholder)\n\n    const balances = shareShareholders.map(a => getBalance(stock.address, a))\n\n    for (const i in shareShareholders) {\n      const entity = await Identity.get(shareShareholders[i])\n      if (entity.name === 'Company') entity.name = 'Company reserves'\n      globalBalances[entity.name] = balances[i] + (globalBalances[entity.name] || 0)\n      if (stock.votingPower && entity.name !== 'Company reserves') { // exclude from voting power chart\n        votingPower[entity.name] =\n          (stock.votingPower * balances[i]) + (votingPower[entity.name] || 0)\n      }\n    }\n  }\n\n  drawChart(this.$('#capitalChart'), 'Global shareholder stake', Object.keys(globalBalances), Object.values(globalBalances))\n  drawChart(this.$('#votingChart'), 'Voting stake', Object.keys(votingPower), Object.values(votingPower))\n}\n\nconst throttledDraw = _.throttle((stocks) => drawWithStocks(stocks), 5000)\n\ntmpl.onRendered(function () {\n  $('.tooltip').popup()\n\n  this.autorun(async () => {\n    throttledDraw(Stocks.find().fetch())\n  })\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { ReactivePromise } from 'meteor/deanius:promise'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\n\nimport Identity from '/client/lib/identity'\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport renderOwnershipInfo from './entityCharts'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport Tokens from '/client/lib/ethereum/tokens'\nimport { Stock } from '/client/lib/ethereum/contracts'\n\nconst Stocks = StockWatcher.Stocks\n\nconst tmpl = Template.Module_Ownership_Entity.extend([ClosableSection])\n\ntmpl.onCreated(async function () {\n  const entity = await Identity.get(FlowRouter.current().params.address)\n  TemplateVar.set(this, 'entity', entity)\n})\n\nconst reloadBalances = async ethereumAddress => {\n  const stocks = Stocks.find().fetch()\n  for (const stock of stocks) {\n    await StockWatcher.setBalance(ethereumAddress, stock.address)\n  }\n}\n\ntmpl.onRendered(function () {\n  renderOwnershipInfo()\n  reloadBalances(FlowRouter.current().params.address)\n})\n\ntmpl.helpers({\n  stocks: () => Stocks.find(),\n  balance: (stock, ethereumAddress) => {\n    const entity = Entities.findOne({ ethereumAddress })\n    if (!entity ||Â !entity.balances) return 0\n    return entity.balances[stock] || 0\n  },\n  transferrable: ReactivePromise(Tokens.getTransferableBalance),\n})\n\ntmpl.events({\n  'click #wrap': (e) => {\n    const element = $(e.currentTarget)\n    Tokens.wrap(element.data('parent'), element.data('wrapper'), element.data('holder'))\n  },\n  'click #unwrap': (e) => {\n    const element = $(e.currentTarget)\n    Tokens.unwrap(element.data('wrapper'), element.data('holder'))\n  }\n})\n","// @flow\nimport { _ } from 'meteor/underscore'\nimport { moment } from 'meteor/momentjs:moment'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\n\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport { Stock } from '/client/lib/ethereum/contracts'\n\nimport helpers from '/client/helpers'\n\nconst timeRange = helpers.timeRange\n\nconst Stocks = StockWatcher.Stocks\n\nconst drawStakeChart = (ctx, title, labels, data) => {\n  const chartData = {\n    labels,\n    datasets: [{ data }],\n  }\n\n  new Chart(ctx, {\n    type: 'line',\n    data: chartData,\n    options: {\n      responsive: true,\n      title: { display: true, text: title },\n      lineTension: 0.1,\n      legend: { display: false },\n      tooltips: {\n        callbacks: {\n          label: tooltipItem => tooltipItem.yLabel,\n        },\n      },\n    },\n  })\n}\n\nconst interpolate = (from, to, steps) => {\n  const step = (to - from) / (steps - 2)\n  return _.range(steps).map(x => from + x * step)\n}\n\nconst renderOwnershipInfo = async () => {\n  const address = FlowRouter.current().params.address\n  const stock = Stock.at(Stocks.findOne().address)\n  const fullyVested = await stock.lastTokenIsTransferableDate.call(address).then(x => x.toNumber())\n  const lastStockIsTransferrableEvent = moment(fullyVested * 1000 + (0.1 * (fullyVested - +new Date() / 1000)))\n  if (moment() > lastStockIsTransferrableEvent) { return null } // already fully vested\n  const dates = interpolate(+moment() / 1000, fullyVested, 25)\n  const pointsPromise = dates.map(t =>\n      stock.transferableTokens.call(address, t).then(x => x.toNumber()))\n\n  const points = await Promise.all(pointsPromise)\n  const dateLabels = dates.map(d => timeRange(moment(), moment(d*1000)))\n\n  return drawStakeChart(this.$('#vestingChart'), 'Transferrable shares (vesting)', dateLabels, points)\n}\n\nexport default renderOwnershipInfo\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport StockWatcher from '/client/lib/ethereum/stocks'\n\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\n\nconst Stocks = StockWatcher.Stocks\n\nconst tmpl = Template.Module_Ownership_IssueShares.extend([ClosableSection])\n\ntmpl.onRendered(function () {\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      await dispatcher.dispatch(actions.issueStock, this.$('input[name=class]').val(), this.$('input[name=number]').val())\n      this.$('.dimmer').trigger('finished', { state: 'success' })\n      return false\n    },\n  })\n})\n\ntmpl.helpers({\n  stocks: () => Stocks.find({ parentToken: null }), // Only issueable tokens\n})\n\ntmpl.events({\n  'success .dimmer': () => FlowRouter.go('/ownership'),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { ReactivePromise } from 'meteor/deanius:promise'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport StockWatcher from '/client/lib/ethereum/stocks'\n\nconst Stocks = StockWatcher.Stocks\n\nconst tmpl = Template.Module_Ownership_Stocks.extend([ClosableSection])\n\ntmpl.onCreated(() => {\n  TemplateVar.set('selectedStock', 0)\n})\n\ntmpl.helpers({\n  stocks: () => Stocks.find(),\n  selectedStock: ReactivePromise(() => (Stocks.find().fetch()[TemplateVar.get('selectedStock')])),\n})\n\ntmpl.events({\n  'change select': (e) => {\n    TemplateVar.set('selectedStock', e.target.value)\n    setTimeout(() => (this.$('.tooltip').popup()), 500)\n  },\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { moment } from 'meteor/momentjs:moment'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport { Company } from '/client/lib/ethereum/deployed'\nimport { CustomStock, WrappedCustomStock } from '/client/lib/ethereum/contracts'\nimport Tokens from '/client/lib/ethereum/tokens'\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\n\nconst Stocks = StockWatcher.Stocks\n\nconst tmpl = Template.Module_Ownership_NewStock.extend([ClosableSection])\n\nconst tokenDetails = new ReactiveVar()\n\nconst deployCustomStock = async (name, symbol, votingPower, economicRights, initialSupply) => {\n  const deployTx = await dispatcher.deployContract(CustomStock, Company().address,\n                          name, symbol, votingPower, economicRights)\n  return await watchStockDeployment(deployTx, initialSupply)\n}\n\nconst deployWrappedStock = async (token, name, symbol, votingPower, economicRights) => {\n  const deployTx = await dispatcher.deployContract(WrappedCustomStock, Company().address,\n                          token, name, symbol, votingPower, economicRights)\n  return await watchStockDeployment(deployTx, 0)\n}\n\nconst watchStockDeployment = async (txId, initialSupply) => {\n  return new Promise((resolve, reject) => {\n    TxQueue.addListener(txId, () => {\n      web3.eth.getTransactionReceipt(txId, (err, tx) => {\n        if (err) return reject(err)\n        if (!tx.contractAddress) return reject('error deploying stock', tx)\n        resolve(submitStock(tx.contractAddress, initialSupply))\n      })\n    })\n  })\n}\n\nconst submitStock = (stockAddress, initialSupply) => {\n  return dispatcher.dispatch(actions.addStock, stockAddress, initialSupply)\n}\n\ntmpl.onRendered(function () {\n  $('.tooltip').popup()\n  TemplateVar.set('existingToken', false)\n  tokenDetails.set(null)\n\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      const name = this.$('input[name=name]').val()\n      const symbol = this.$('input[name=symbol]').val()\n      const votingPower = this.$('input[name=votingPower]').val()\n      const economicRights = this.$('input[name=economicRights]').val()\n\n      if (!TemplateVar.get(this, 'existingToken')) {\n        const initialSupply = this.$('input[name=initialSupply]').val()\n        await deployCustomStock(name, symbol, votingPower, economicRights, initialSupply)\n      } else {\n        const token = TemplateVar.get(this, 'parentToken')\n        await deployWrappedStock(token, name, symbol, votingPower, economicRights)\n      }\n\n      this.$('.dimmer').trigger('finished', { state: 'success' })\n      return false\n    },\n  })\n})\n\nconst stockTemplates = [\n  { name: 'Voting', symbol: 'ARN-a', votingPower: 1, economicRights: 1 },\n  { name: 'Non-voting', symbol: 'ARN-b', votingPower: 0, economicRights: 1 },\n  { name: 'Founders', symbol: 'ARN-c', votingPower: 5, economicRights: 1 },\n  { name: 'Unicorn', symbol: 'ARN-ðŸ¦„', votingPower: 10, economicRights: 10 },\n]\n\ntmpl.helpers({\n  actionName: () => 'addStock',\n  stockTemplates: () => stockTemplates,\n  tokenDetails: () => tokenDetails.get(),\n  isCompanyStock: () => {\n    const tokenAddress = TemplateVar.get(this, 'parentToken')\n    Stocks.findOne({ $or: [{ ethereumAddress: tokenAddress }, { 'parentToken.ethereumAddress': tokenAddress }] })\n  },\n})\n\ntmpl.events({\n  'select .identityAutocomplete': async (e, instance, user) => {\n    tokenDetails.set(null)\n    TemplateVar.set('parentToken', user.ethereumAddress)\n    tokenDetails.set(await Tokens.getTokenProperties(user.ethereumAddress))\n  },\n  'success .dimmer': () => FlowRouter.go('/ownership'),\n  'click #existingTokenToggle': () => TemplateVar.set('existingToken', !TemplateVar.get('existingToken')),\n  'click .stock-template': e => {\n    const selectedSymbol = $(e.currentTarget).data('stock')\n    const selectedTemplate = stockTemplates.filter(s => s.symbol === selectedSymbol)[0]\n    TemplateVar.set('existingToken', false)\n    $('#existingTokenToggle').prop('checked', false)\n    this.$('input[name=name]').val(`${selectedTemplate.name} Stock`)\n    this.$('input[name=symbol]').val(selectedTemplate.symbol)\n    this.$('input[name=initialSupply]').val(1000)\n    this.$('input[name=votingPower]').val(selectedTemplate.votingPower)\n    this.$('input[name=economicRights]').val(selectedTemplate.economicRights)\n  }\n})\n","import StockWatcher from '/client/lib/ethereum/stocks'\nimport { Company } from '/client/lib/ethereum/deployed'\nimport Identity from '/client/lib/identity'\n\nconst Stocks = StockWatcher.Stocks\n\nwindow.Stocks = Stocks\n\nconst tmpl = Template.Module_Ownership.extend()\n\ntmpl.routes({\n  '/': () => TemplateVar.set('rightSection', 'Module_Ownership_Charts'),\n  '/issue': () => TemplateVar.set('rightSection', 'Module_Ownership_IssueShares'),\n  '/assign': () => TemplateVar.set('rightSection', 'Module_Ownership_AssignShares'),\n  '/transfer': () => TemplateVar.set('rightSection', 'Module_Ownership_TransferShares'),\n  '/stock/new': () => TemplateVar.set('rightSection', 'Module_Ownership_NewStock'),\n  '/stock/list': () => TemplateVar.set('rightSection', 'Module_Ownership_Stocks'),\n  '/shareholder/:address': () => TemplateVar.set('rightSection', 'Module_Ownership_Entity'),\n  '/*/entity/:address': () => TemplateVar.set('rightSection', 'Module_Entity'),\n})\n\ntmpl.onCreated(() => {\n  const rightSection = Stocks.find().count() ? 'Module_Ownership_Charts' : 'Module_Ownership_Empty'\n  TemplateVar.set('rightSection', rightSection)\n})\n\ntmpl.onRendered(function () {\n  this.$('table').tablesort()\n  this.$('.dropdown').dropdown({ action: 'hide' })\n})\n\ntmpl.events({\n  'input #searchInput': (e) => (TemplateVar.set('searchString', e.target.value)),\n  'click tbody tr': (e) => {\n    const addr = $(e.currentTarget).data('shareholder')\n    if (addr) {\n      FlowRouter.go(`/ownership/shareholder/${addr}`)\n    }\n  },\n})\n\ntmpl.helpers({\n  stocks: () => Stocks.find(),\n  updated: () => {\n    const stock = Stocks.findOne({}, { sort: { updated: -1 } })\n    if (stock) return stock.updated\n    return {}\n  },\n  symbol: address => Stocks.findOne({ address }).symbol,\n  shareholders: () => {\n    const shareholders = []\n    Stocks.find().fetch().forEach(s => (shareholders.push(...s.shareholders)))\n\n    /*\n    // Commented out as it makes multiple stock types not to show\n    shareholders = shareholders.filter(\n      (s, index, self) => self.findIndex(t => t.shareholder === s.shareholder) === index)\n    */\n\n    return shareholders\n  },\n  balance: (stock, ethereumAddress) => {\n    const entity = Entities.findOne({ ethereumAddress })\n    if (!entity || !entity.balances) return -1\n    return entity.balances[stock]\n  },\n  company: () => Company().address,\n  entityNameReserves: ReactivePromise(async addr => {\n    const entity = await Identity.get(addr)\n    if (entity.name === 'Company') entity.name = 'Company reserves'\n    return entity.name\n  }),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { ReactivePromise } from 'meteor/deanius:promise'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport { Stock } from '/client/lib/ethereum/contracts'\nimport Tokens from '/client/lib/ethereum/tokens'\nimport { dispatcher } from '/client/lib/action-dispatcher'\n\nconst Stocks = StockWatcher.Stocks\n\nconst transferStock = async (address: string, to: string, amount: number) => {\n  return await dispatcher.performTransaction(Stock.at(address).transfer, to, amount)\n}\n\nconst tmpl = Template.Module_Ownership_TransferShares.extend([ClosableSection])\nconst selectedStock = new ReactiveVar()\n\ntmpl.onRendered(function () {\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      const amount = this.$('input[name=number]').val()\n      const recipient = TemplateVar.get(this, 'recipient').ethereumAddress\n\n      const stock = selectedStock.get()\n      await transferStock(stock.address, recipient, amount)\n\n      this.$('.dimmer').trigger('finished', { state: 'success' })\n      return false\n    },\n  })\n})\n\ntmpl.helpers({\n  stocks: () => Stocks.find(),\n  transferrable: ReactivePromise(Tokens.getTransferableBalance),\n  selectedStock: () => selectedStock.get(),\n})\n\ntmpl.events({\n  'select .identityAutocomplete': (e, instance, user) => (TemplateVar.set('recipient', user)),\n  'change select': (e) => {\n    const address = e.target.value\n    let stock = Stocks.findOne({ address })\n    if (!stock) {\n      const wrappedStock = Stocks.findOne({ 'parentToken.address': address })\n      stock = wrappedStock.parentToken\n    }\n    selectedStock.set(stock)\n  },\n  'success .dimmer': () => FlowRouter.go('/ownership'),\n})\n","// @flow\nimport { $ } from 'meteor/jquery'\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { ReactivePromise } from 'meteor/deanius:promise'\nimport { moment } from 'meteor/momentjs:moment'\n\nimport Shake from '/client/lib/shake'\nimport { Company } from '/client/lib/ethereum/deployed'\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\n\nconst tmpl = Template.Module_Rewards_New.extend([ClosableSection])\n\ntmpl.onCreated(() => {\n  TemplateVar.set('isVirtualCard', true)\n  TemplateVar.get('anonDebitCard', true)\n})\n\ntmpl.helpers({\n  remainingBudget: ReactivePromise(() => Company().getAccountingPeriodRemainingBudget()),\n  periodCloses: ReactivePromise(() =>\n                  Company().getAccountingPeriodCloses.call().then(x => moment(x * 1000))),\n  actionName: () => (TemplateVar.get('isRecurring') ? 'createRecurringReward' : 'issueReward'),\n})\n\nconst issueReward = (to, amountWei) => (\n  dispatcher.dispatch(actions.issueReward, to, amountWei, `Reward for ${to}`)\n)\n\nconst createRecurringReward = (to, amountWei, period) => (\n  dispatcher.dispatch(actions.createRecurringReward, to, amountWei, period, `Recurring reward for ${to}`)\n)\n\ntmpl.onRendered(function () {\n  this.$('.dropdown').dropdown()\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      const amount = TemplateVar.getFrom('.Element_CurrencyAmount', 'amountWei')\n\n      if (TemplateVar.get(this, 'isCard')) {\n        if (TemplateVar.get(this, 'anonDebitCard')) {\n          const debitCardCurrency = this.$('#debitCardCurrency input').val()\n          const shakeUser = Shake.fakeUser(debitCardCurrency)\n          console.log(shakeUser)\n          await Shake.createUser(shakeUser)\n          const invoice = await Shake.createInvoice({\n            email: shakeUser.user.email,\n            currency: debitCardCurrency,\n            amount,\n          })\n          console.log(invoice)\n        }\n      } else {\n        const to = TemplateVar.get(this, 'recipient').ethereumAddress\n\n        try {\n          if (TemplateVar.get(this, 'isRecurring')) {\n            const periodNumber = this.$('input[name=periodNumber]').val()\n            const periodUnit = $('#recurringPeriodInterval').dropdown('get value')\n            await createRecurringReward(to, amount, periodNumber * periodUnit)\n          } else {\n            await issueReward(to, amount)\n          }\n\n          this.$('.dimmer').trigger('finished', { state: 'success' })\n        } catch (error) {\n          console.log(error)\n          this.$('.dimmer').trigger('finished', { state: 'failure' }) // TODO: failure state\n        }\n      }\n\n      return false\n    },\n  })\n\n  this.autorun(() => {\n    if (TemplateVar.get('isCard')) {\n      requestAnimationFrame(() => {\n        this.$('#debitCardCurrency').dropdown()\n        this.$('#debitCardType').dropdown({\n          onChange: v => TemplateVar.set(this, 'isVirtualCard', v === 'virtual'),\n        })\n        this.$('#anonDebitCard').checkbox({\n          onChange: () => (\n            TemplateVar.set(this, 'anonDebitCard', this.$('#anonDebitCard input').prop('checked'))\n          ),\n        })\n      })\n    } else if (TemplateVar.get('isRecurring')) {\n      requestAnimationFrame(() => {\n        this.$('#recurringPeriodInterval').dropdown()\n      })\n    }\n  })\n})\n\ntmpl.events({\n  'select .identityAutocomplete': (e, instance, user) => (TemplateVar.set('recipient', user)),\n  'success .dimmer': () => FlowRouter.go('/rewards'),\n  'click #recurring': () => TemplateVar.set('isRecurring', !TemplateVar.get('isRecurring')),\n  'click #debitCard': () => TemplateVar.set('isCard', !TemplateVar.get('isCard')),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport Identity from '/client/lib/identity'\nimport Status from '/client/lib/identity/status'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\n\nconst tmpl = Template.Module_Roles_Assign.extend([ClosableSection])\n\ntmpl.onCreated(async function () {\n  if (FlowRouter.getParam('address')) {\n    const entity = await Identity.get(FlowRouter.getParam('address'))\n    TemplateVar.set(this, 'entity', entity)\n  } else {\n    TemplateVar.set(this, 'entity', undefined)\n  }\n})\n\ntmpl.onRendered(function () {\n  TemplateVar.set('assignMode', true)\n\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      const addr: string = TemplateVar.get(this, 'entity').ethereumAddress\n      const status: number = TemplateVar.get(this, 'selectedStatus')\n      await dispatcher.dispatch(actions.setEntityStatus, addr, status)\n\n      this.$('.dimmer').trigger('finished', { state: 'success' })\n      return false\n    },\n  })\n})\n\ntmpl.helpers({\n  statuses: Status.list,\n})\n\ntmpl.events({\n  'select .identityAutocomplete': (e, instance, user) => (TemplateVar.set('entity', user)),\n  'change select': (e) => {\n    console.log(Status.toNumber(e.target.value))\n    TemplateVar.set('selectedStatus', Status.toNumber(e.target.value))\n  },\n  'success .dimmer': () => FlowRouter.go('/roles'),\n})\n","// @flow\nimport { $ } from 'meteor/jquery'\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\n\nimport Identity from '/client/lib/identity'\nimport Status from '/client/lib/identity/status'\n// import StockWatcher from '/client/lib/ethereum/stocks'\n// import { Stock } from '/client/lib/ethereum/contracts'\n\nconst tmpl = Template.Module_Roles.extend()\n\ntmpl.routes({\n  '/': () => TemplateVar.set('rightSection', 'Module_Roles_Empty'),\n  '/assign': () => TemplateVar.set('rightSection', 'Module_Roles_Assign'),\n  '/assign/:address': () => TemplateVar.set('rightSection', 'Module_Roles_Assign'),\n  '/*/entity/:address': () => TemplateVar.set('rightSection', 'Module_Entity'),\n})\n\ntmpl.onRendered(function () {\n  this.$('table').tablesort()\n})\n\ntmpl.events({\n  'input #searchInput': (e) => (TemplateVar.set('searchString', e.target.value)),\n  'click tbody tr': (e) => FlowRouter.go(`/roles/assign/${$(e.currentTarget).data('entity')}`),\n})\n\ntmpl.helpers({\n  entities: Identity.Entities.find({status: {$gt: 0}}),\n  statusToString: n => Status.toString(n),\n})\n","// @flow\nimport { $ } from 'meteor/jquery'\nimport { Template } from 'meteor/templating'\nimport { moment } from 'meteor/momentjs:moment'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport Identity from '/client/lib/identity'\nimport { Poll } from '/client/lib/ethereum/contracts'\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\n\nconst tmpl = Template.Module_Voting_New.extend([ClosableSection])\n\nconst openPoll = async (description, closingTime) => {\n  const addr = Identity.current(true).ethereumAddress\n  const poll = await Poll.new(description, { from: addr, gas: 3000000 })\n  await dispatcher.performTransaction(poll.setTxid, poll.transactionHash)\n  return await dispatcher.dispatch(actions.beginPoll, poll.address, +closingTime / 1000)\n}\n\ntmpl.onRendered(function () {\n  this.$('.form').form({\n    onSuccess: async (e) => {\n      e.preventDefault()\n      this.$('.dimmer').trigger('loading')\n\n      const date = $('[type=date]').val()\n      const time = $('[type=time]').val()\n      await openPoll(this.$('textarea[name=description]').val(), moment(`${date}, ${time}`))\n      this.$('.dimmer').trigger('finished', { state: 'success' })\n      return false\n    },\n  })\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { ReactiveVar } from 'meteor/reactive-var'\n\nimport VotingWatcher from '/client/lib/ethereum/votings'\n\nVotings = VotingWatcher.Votings\n\nconst tmpl = Template.Module_Voting.extend()\nconst selectedVoting = new ReactiveVar()\n\nconst togglePastVotings = () => {\n  // HACK: if url continues being /voting/:id it won't change on next url change to same resource\n  TemplateVar.set('pastVotings', !TemplateVar.get('pastVotings'))\n  FlowRouter.go('/voting' + (TemplateVar.get('pastVotings') ? '?past' : ''))\n}\n\ntmpl.routes({\n  '/': () => TemplateVar.set('rightSection', 'Module_Voting_Empty'),\n  '/new': () => TemplateVar.set('rightSection', 'Module_Voting_New'),\n  '/:id': () => {\n    TemplateVar.set('rightSection', 'Module_Voting_Section')\n    Template.instance().$('#votingSection').trigger('reload')\n    const id = FlowRouter.current().params.id\n    selectedVoting.set(Votings.findOne({ $or: [{ address: id }, { index: +id }] }))\n  },\n  '/*/entity/:address': () => TemplateVar.set('rightSection', 'Module_Entity'),\n})\n\ntmpl.onCreated(() => {\n  TemplateVar.set('rightSection', 'Module_Voting_Empty')\n})\n\ntmpl.onRendered(function () {\n  this.autorun(function() {\n    const vote = selectedVoting.get()\n    if (vote) {\n      const isClosed = vote.voteExecuted !== null || vote.closingTime < new Date()\n      TemplateVar.set('pastVotings', isClosed)\n    } else {\n      const pastQuery = FlowRouter.current().queryParams.past !== undefined\n      TemplateVar.set('pastVotings', pastQuery)\n    }\n  })\n})\n\ntmpl.events({\n  'input #searchInput': (e) => (TemplateVar.set('searchString', e.target.value)),\n  'click #pastVotings': togglePastVotings,\n  'click #votings tbody tr': (e) => FlowRouter.go(`/voting/${e.currentTarget.dataset.voting}`),\n})\n\ntmpl.helpers({\n  votings: () => Votings.find({ voteExecuted: null, closingTime: { $gt: +new Date() } }),\n  pastVotings: () => Votings.find({ $or: [{ voteExecuted: { $ne: null } },\n                      { closingTime: { $lt: +new Date() } }] }),\n  isSelected: address => selectedVoting.get() && selectedVoting.get().address === address,\n})\n","// @flow\nimport { $ } from 'meteor/jquery'\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { ReactiveVar } from 'meteor/reactive-var'\nimport { ReactivePromise } from 'meteor/deanius:promise'\n\nimport ClosableSection from '/client/tmpl/components/closableSection'\nimport VotingWatcher from '/client/lib/ethereum/votings'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport { Company } from '/client/lib/ethereum/deployed'\nimport Identity from '/client/lib/identity'\nimport { Stock, Voting } from '/client/lib/ethereum/contracts'\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\nimport Tokens from '/client/lib/ethereum/tokens'\n\nconst Votings = VotingWatcher.Votings\nconst Stocks = StockWatcher.Stocks\n\nconst tmpl = Template.Module_Voting_Section.extend([ClosableSection])\n\nconst votingVar = new ReactiveVar()\nconst updated = new ReactiveVar()\nconst verifiedVar = new ReactiveVar()\nconst isModifying = new ReactiveVar()\n\nconst voteId = () => FlowRouter.current().params.id\nconst voting = () => Votings.findOne({ $or: [{ address: voteId() }, { index: +voteId() }] })\n\nconst reload = () => {\n  const identity = Identity.current(true) // so it reloads when balance reloads\n  const newVoting = voting()\n  verifiedVar.set(null)\n  votingVar.set(newVoting)\n  isModifying.set(false)\n  updated.set(Math.random())\n}\n\nconst allStocks = () => Stocks.find().fetch().map(s => Stock.at(s.address))\n\nconst getVotingPower = async () => {\n  const address = Identity.current(true).ethereumAddress\n  const vote = voting()\n\n  // returns [ votable, modificable ]\n  return await Company().votingPowerForVoting(vote.index, { from: address })\n}\n\nconst canVote = async () => {\n  const votingPower = await getVotingPower()\n  return !voting().voteClosed && votingPower[0].toNumber() > 0 //.filter(x => x.toNumber() > 0).length > 0\n}\n\nconst hasVoted = async () => {\n  let [v, modificable, votedOption] = await getVotingPower()\n  modificable = modificable.toNumber()\n  votedOption = votedOption.toNumber()\n  const voted = modificable > 0\n  return {Â voted, votedOption, modificable }\n}\n\nconst votingPower = async () => {\n  const [votable] = await getVotingPower()\n  return votable.toNumber()\n}\n\n// Pending votes stays here as it has to be updated in real time when more shares are assigned.\nconst pendingVotes = async (options) => {\n  const vs = options.map((o, i) => Company().countVotes.call(voting().index, i))\n  const allOptions = await Promise.all(vs)\n  const total = allOptions[0][2].toNumber()\n  const allVotes = allOptions.reduce((acc, v) => acc + v[0].toNumber(), 0)\n  const votes = total - allVotes\n  return { votes, relativeVotes: votes / total }\n}\n\nconst willBeAbleToExecute = async () => {\n  let [votable, modificable, votedOption] = await getVotingPower().then(xs => xs.map(x => x.toNumber()))\n  if (votedOption != 10) votable += modificable // if didn't vote approve but can modify it\n  const [currentVotes, totalVotes, totalVotingPower] = await Company().countVotes.call(voting().index, 0)\n  const futureVotes = currentVotes + votable\n\n  return futureVotes / totalVotingPower >= voting().supportNeeded\n}\n\nconst canExecute = async (voteCounts, options) => {\n  if (voting().voteExecuted !== null) return null\n\n  const canPerform = await Company().canPerformAction(voting().mainSignature, voting().address)\n\n  if (canPerform) {\n    return { sentiment: 'primary', index: 0, name: options[0] }\n  }\n\n  /*\n  const negativeVotes = voteCounts[1]\n  if (negativeVotes.relativeVotes > 1 - voting().supportNeeded) {\n    return { sentiment: 'negative', index: 1, name: options[1] }\n  }\n  */\n  return null\n}\n\ntmpl.onCreated(function () {\n  verifiedVar.set(null)\n  this.autorun(() => {\n    reload()\n  })\n})\n\ntmpl.onRendered(() => {\n  $('.tooltip').popup()\n})\n\nconst wrappableTokens = async holder => {\n  const stocks = Stocks.find().fetch().filter(s => s.parentToken)\n  console.log('getting', stocks, holder)\n\n  const r = (await Promise.all(stocks.map(s => Promise.all([s, Tokens.getBalance(s.parentToken.address, holder)]))))\n    .filter(([stock, balance]) => balance > 0)\n    .map(([stock, balance]) => {\n      stock.parentToken.balance = balance\n      return stock\n    })\n  console.log('r', r)\n  return r\n}\n\nconst formatEntity = entity => `<a href=\"${FlowRouter.current().path}/entity/${entity}\" class=\"highlightedEntity\">${entity}</a>`\n\nconst formatDescription = voting => {\n  const space = ' '\n  return voting.description\n           .split(space)\n           .map(x => _.contains(voting.entities, x) ? formatEntity(x) : x)\n           .join(space)\n}\n\ntmpl.helpers({\n  updatesHack: () => updated.get(),\n  verified: () => verifiedVar.get(),\n  voting: () => votingVar.get(),\n  options: () => votingVar.get().options,\n  voteCounts: () => votingVar.get().voteCounts,\n  isClosed: vote => vote.voteClosed,\n  canVote: ReactivePromise(canVote),\n  canVoteOrModify: ReactivePromise(async modifyMode => modifyMode || await canVote()),\n  pendingVotes: ReactivePromise(pendingVotes),\n  votingPower: ReactivePromise(votingPower),\n  executingOption: ReactivePromise(canExecute),\n  isExecuted: option => votingVar.get().voteClosed && votingVar.get().voteExecuted === option,\n  hasVoted: ReactivePromise(hasVoted),\n  canModifyVote: modificableVotes => !votingVar.get().voteClosed && modificableVotes > 0,\n  isModifying: () => isModifying.get(),\n  getOption: o => votingVar.get().options[o - 10],\n  wrappableTokens: ReactivePromise(wrappableTokens, [], console.log),\n  stocks: Stocks.find(),\n  willBeAbleToExecute: ReactivePromise(willBeAbleToExecute),\n  getDescription: formatDescription,\n})\n\nconst castVote = async option => {\n  const executesOnDecided = $('#executesIfDecided').prop('checked') || false\n  if (!isModifying.get()) { // TODO: OR is a removed delegated vote that wants to be modified\n    await dispatcher.dispatch(actions.castVote, voting().index, option, executesOnDecided)\n  } else {\n    await dispatcher.dispatch(actions.modifyVote, voting().index, option, false, executesOnDecided)\n    isModifying.set(false)\n  }\n}\n\nconst removeVote = async () => {\n  await dispatcher.dispatch(actions.modifyVote, voting().index, 0, true, false)\n}\n\nconst executeVote = async option => {\n  await dispatcher.performTransaction(Voting.at(voting().address).executeOnAction, option, Company().address)\n  reload()\n}\n\nconst verify = async () => {\n  const contract = await VotingWatcher.verifyVote(voting().address)\n  return verifiedVar.set(contract ? contract.contractClass.contract_name : 'unknown')\n}\n\ntmpl.events({\n  'click .voting.button': (e) => castVote($(e.currentTarget).data('option')),\n  'click .execute.button': (e) => executeVote($(e.currentTarget).data('option')),\n  'success .dimmer': () => FlowRouter.go('/voting'),\n  'reload #votingSection': reload,\n  'click #verifyCode': verify,\n  'click #modifyVote': () => isModifying.set(true),\n  'click #removeVote': () => removeVote(),\n  'click #wrap': (e) => {\n    const element = $(e.currentTarget)\n    Tokens.wrap(element.data('parent'), element.data('wrapper'), element.data('holder'))\n  },\n})\n","import { TemplateVar } from 'meteor/frozeman:template-var'\nimport fx from '/client/lib/currency'\nimport Settings from '/client/lib/settings'\n\nconst tmpl = Template.Element_CurrencyAmount\n\ntmpl.onRendered(function() {\n  setAmount(0)\n})\n\nconst convertCurrency = amount => (\n  web3.toWei(fx(amount).from(Settings.get('displayCurrency') || 'ETH').to('ETH'), 'ether')\n)\n\nconst setAmount = amount => {\n  TemplateVar.set('unconvertedAmount', amount)\n  TemplateVar.set('amountWei', convertCurrency(amount))\n}\n\ntmpl.events({\n  'input input': e => setAmount(parseFloat($(e.target).val())),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\n\n\nimport Identity from '/client/lib/identity'\nimport Anon from '/client/lib/identity/anon'\n\nconst tmpl = Template.Element_IdentityAutocomplete\n\nconst bindSearch = (tmplIns) => {\n  const identityAutocomplete = tmplIns.$('.identityAutocomplete')\n  tmplIns.$('.ui.search').search({\n    apiSettings: {\n      url: 'https://keybase.io/_/api/1.0/user/autocomplete.json?q={query}',\n      onResponse: async res => {\n        const additionalElements = []\n        const query = this.$('.ui.search .prompt').val()\n\n        if (web3.isAddress(query)) {\n          additionalElements.push(await Identity.lookupAndFormat(query))\n        }\n\n        if (query === '' || query === 'me') {\n          const cur = Identity.current()\n          cur.name = 'Me'\n          additionalElements.push(cur)\n          console.log(cur)\n        }\n\n        return {\n          results: (res.completions||[]).map(c => ({\n            username: c.components.username.val,\n            name: (c.components.full_name || {}).val,\n            picture: c.thumbnail || 'http://placekitten.com/g/64/64',\n          })).concat(additionalElements),\n        }\n      },\n      // This is so Ethereum addresses can be inputed when offline\n      onAbort: async () => {\n        const query = tmplIns.$('.ui.search .prompt').val()\n\n        if (web3.isAddress(query)) {\n          const entity = await Identity.get(query)\n          TemplateVar.set(tmplIns, 'entity', entity)\n          identityAutocomplete.trigger('select', entity)\n        }\n      },\n    },\n    fields: {\n      title: 'name',\n      description: 'username',\n      image: 'picture',\n    },\n    minCharacters: 0,\n    onSelect: async (user) => {\n      tmplIns.$('.ui.search').addClass('loading')\n      let entity = user\n      console.log('drawing', entity)\n      if (!web3.isAddress(entity.ethereumAddress)) {\n        if (web3.isAddress(user.username)) {\n          entity.ethereumAddress = entity.username\n          delete entity.username\n        } else {\n          entity = await Identity.getUsername(user.username, 'keybase')\n        }\n      }\n      TemplateVar.set(tmplIns, 'entity', entity)\n      identityAutocomplete.trigger('select', entity)\n    },\n  })\n}\n\ntmpl.onRendered(() => bindSearch(Template.instance()))\n\ntmpl.events({\n  'click .remove': (e) => {\n    e.preventDefault()\n    TemplateVar.set('entity', null)\n    setTimeout(bindSearch.bind(this, Template.instance()), 100)\n  },\n})\n\ntmpl.helpers({\n  entity: () => TemplateVar.get('entity'),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\n\nconst tmpl = Template.Element_MiniEntity\n\ntmpl.helpers({\n  currentURL: () => FlowRouter.current().path,\n})\n","import { canPerformAction } from '/client/lib/action-dispatcher/helpers'\nconst tmpl = Template.Element_PerformAction\n\ntmpl.helpers({\n  canPerform: ReactivePromise(async action => {\n    const canIt = await canPerformAction(action)\n    return canIt ? '' : 'disabled'\n  })\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\n\nconst tmpl = Template.Element_ProcessDimmer\n\ntmpl.events({\n  'loading .dimmer': (e, instance) => {\n    TemplateVar.set(instance, 'state', 'loading')\n    instance.$('.dimmer').dimmer('show')\n  },\n  'finished .dimmer': (e, instance, data) => {\n    const dimmer = instance.$('.dimmer')\n    TemplateVar.set(instance, 'state', data.state)\n    dimmer.dimmer(data.state ? 'show' : 'hide')\n    if (data.state === 'success') {\n      setTimeout(() => (dimmer.trigger('success')), 2500)\n    }\n  },\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { $ } from 'meteor/jquery'\nimport { ReactivePromise } from 'meteor/deanius:promise'\n\nconst tmpl = Template.Layout\n\nconst toggleMetaMask = (show: boolean = true) => {\n  const metaMask = $('#Layout_MetaMask')\n  const toggleClass = (show) ? 'hidden' : 'visible'\n  if (metaMask.hasClass(toggleClass)) {\n    metaMask.transition('fade down')\n  }\n}\n\ntmpl.onRendered(() => {\n  $(document).on('click', (e) => {\n    const walletButton = $('#walletButton')\n    if (e.target !== walletButton[0] && e.target !== walletButton.find('.icon')[0]) {\n      toggleMetaMask(false)\n    }\n  })\n\n  window.resizePopups = () => {\n    $('.ui.scrollable.popup').css('max-height', $(window).height() - 128)\n  }\n\n  $(window).resize(() => (window.resizePopups()))\n})\n\ntmpl.events({\n  'click #walletButton': () => $('#Layout_MetaMask').transition('fade down'),\n  'click #reload': () => (location.reload()),\n})\n\ntmpl.helpers({\n  companyAddress: ReactivePromise(() => (localStorage.getItem('companyAddress'))),\n})\n\nwindow.addEventListener('message', (msg) => {\n  if (!msg.data.metaMask) return\n  if (msg.data.metaMask === 'show') toggleMetaMask()\n})\n","// @flow\nimport { $ } from 'meteor/jquery'\nimport { Template } from 'meteor/templating'\n\nimport { NotificationsManager } from '/client/lib/notifications'\n\nconst Notifications = NotificationsManager.Notifications\n\nconst tmpl = Template.Layout_Inbox\n\nconst performAction = id =>\n    NotificationsManager.performNotificationAction(Notifications.findOne(id))\n\nconst clearAll = () =>\n    Notifications.update({ handled: false }, { handled: true }, { multi: true })\n\ntmpl.onRendered(() => {\n  $('#inboxButton').popup({\n    inline: true,\n    on: 'click',\n    position: 'bottom center',\n    onShow: () => (window.resizePopups()),\n  })\n})\n\ntmpl.helpers({\n  unhandledNotifs: () => Notifications.find({ handled: false }, { sort: { date: -1 } }),\n})\n\ntmpl.events({\n  'click .extra a': e => performAction($(e.currentTarget).data('notification')),\n  'click #notifHeader i': clearAll,\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { $ } from 'meteor/jquery'\n\nimport TxQueue from '/client/lib/queue'\n\nwindow.TxQueue = TxQueue\n\nTxQueue.onEmpty = () => ($('#pendingTxButton').popup('hide'))\n\nconst tmpl = Template.Layout_PendingTx\n\ntmpl.onRendered(() => {\n  $('#pendingTxButton').popup({\n    inline: true,\n    on: 'click',\n    position: 'bottom center',\n  })\n})\n\ntmpl.helpers({\n  txs: () => TxQueue.queue.get(),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\n\nimport Root from '/client/root'\n\nTemplate.Layout_Sidebar.helpers({\n  modules: () => Root.modules.filter(m => m.sidebarItem),\n  isRouteActive: route => FlowRouter.getRouteName().includes(route),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\n\nconst tmpl = Template.Setup_JoinOrganization\n\ntmpl.events({\n  'click #join': () => {\n    const companyAddress = this.$('#companyAddress').val()\n    if (!web3.isAddress(companyAddress)) return alert('Not valid address')\n    localStorage.setItem('companyAddress', companyAddress)\n    location.reload()\n  },\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { $ } from 'meteor/jquery'\n\nimport Identity from '/client/lib/identity'\nimport { faucets } from '/client/lib/ethereum/networks'\nimport TxQueue from '/client/lib/queue'\n\nconst tmpl = Template.Setup_MetaMask\n\nconst toggleMetaMask = (show: boolean = true) => {\n  const metaMask = $('#Layout_MetaMask')\n  const toggleClass = (show) ? 'hidden' : 'visible'\n  if (metaMask.hasClass(toggleClass)) {\n    metaMask.transition('fade down')\n  }\n}\n\ntmpl.onRendered(function (){\n  this.autorun(() => {\n    const accounts = EthAccounts.find()\n    if (accounts.count() > 0) {\n      if (!Entities.findOne({current: true})) Identity.reset()\n      $('#setupMetaMask').text('Continue').attr('id', 'continue')\n      // toggleMetaMask(false)\n      _.throttle(account => {\n        if (account.balance < 5e17) {\n          faucetForAddress(account.address)\n        }\n      }, 10000)(getAccount())\n    }\n  })\n})\n\nconst faucetForAddress = (address, delay = 250) => {\n  const faucet = faucets[localStorage.getItem('network')]\n  if (!faucet) return\n\n  const url = faucet(address)\n\n  HTTP.call('GET', url, (err, success) => {\n    if (err) setTimeout(() => faucetForAddress(address, delay * 200), Math.min(delay, 1000000))\n    console.log('faucet', err, success)\n    if (success && success.data) TxQueue.add(success.data.txID)\n  })\n}\n\nconst getNetworkID = () => (\n  new Promise((resolve, reject) => {\n    web3.version.getNetwork((err, id) => {\n      if (err) reject(err)\n      else resolve(parseInt(id))\n    })\n  })\n)\n\nconst supportedNetworks = [3, 15, 42]\n\nconst isInWrongNetwork = async () => !_.contains(supportedNetworks, await getNetworkID())\n\nconst canContinue = async () =>\n  getAccount().balance > 0 && !(await isInWrongNetwork())\n\nconst getAccount = () => EthAccounts.findOne()\n\ntmpl.helpers({\n  account: getAccount,\n  networkID: ReactivePromise(getNetworkID),\n  canContinue: ReactivePromise(canContinue),\n  isButtonEnabled: ReactivePromise(async () => {\n    return (await canContinue()) ? '' : 'disabled'\n  }),\n  isInWrongNetwork: ReactivePromise(isInWrongNetwork),\n})\n\ntmpl.events({\n  'click #setupMetaMask': (e) => {\n    window.postMessage({ metaMask: 'show' }, '*')\n    toggleMetaMask(true)\n  },\n  'click #continue': (e, tmplIns) => (\n    TemplateVar.setTo('#setup', 'step', 'Setup_Welcome')\n  ),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { TemplateVar } from 'meteor/frozeman:template-var'\nimport { dispatcher } from '/client/lib/action-dispatcher'\nimport TxQueue from '/client/lib/queue'\nimport { CompanyFactory, CompanyConfiguratorFactory } from '/client/lib/ethereum/contracts'\n\nconst tmpl = Template.Setup\n\ntmpl.onCreated(() => {\n  const initialTmpl = (window.injectMetaMask) ? 'Setup_MetaMask' : 'Setup_Welcome'\n  TemplateVar.set('step', initialTmpl)\n})\n\ntmpl.onRendered(() => {\n  $('#inboxButton, a[href=\"/account\"]').hide()\n  $('#pendingTxButton').popup({\n    inline: true,\n    on: 'click',\n    position: 'bottom center',\n  })\n})\n\nconst setupFinished = companyAddress => {\n  localStorage.setItem('companyAddress', companyAddress)\n  location.reload()\n}\n\nconst configureCompany = async companyAddress => {\n  const companyConfiguratorFactory = await CompanyConfiguratorFactory.deployed()\n  const txID = await dispatcher.performTransaction(companyConfiguratorFactory.configureCompany, companyAddress, dispatcher.transactionParams.from)\n  TxQueue.addListener(txID, () => setupFinished(companyAddress))\n}\n\ntmpl.events({\n  'click #createOrganization': async function() {\n    const companyFactory = await CompanyFactory.deployed()\n\n    await dispatcher.performTransaction(companyFactory.deployCompany)\n    companyFactory.NewCompany({ deployer: dispatcher.transactionParams.from }).watch((err, ev) => {\n      if (err) return console.error(err)\n      configureCompany(ev.args.companyAddress)\n    })\n  },\n  'click #joinOrganization': () => TemplateVar.set('step', 'Setup_JoinOrganization'),\n})\n","// @flow\nimport { Template } from 'meteor/templating'\n\nconst tmpl = Template.Setup_Welcome\n\ntmpl.onRendered(function () {\n  this.$('#createOrganization').popup({\n    position: 'top center',\n  })\n})\n","// @flow\n\nexport default class ClosableSection {\n  static extend(tmpl) {\n    tmpl.events({\n      'click #closeSectionButton': () => history.back(), // (instance.$('> *').trigger('close')),\n    })\n  }\n}\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - API\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nvar\n  window = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.api = $.fn.api = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n    moduleSelector = $allModules.selector || '',\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.api.settings, parameters)\n          : $.extend({}, $.fn.api.settings),\n\n        // internal aliases\n        namespace       = settings.namespace,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n        className       = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // element that creates request\n        $module         = $(this),\n        $form           = $module.closest(selector.form),\n\n        // context used for state\n        $context        = (settings.stateContext)\n          ? $(settings.stateContext)\n          : $module,\n\n        // request details\n        ajaxSettings,\n        requestSettings,\n        url,\n        data,\n        requestStartTime,\n\n        // standard module\n        element         = this,\n        context         = $context[0],\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          if(!methodInvoked) {\n            module.bind.events();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            var\n              triggerEvent = module.get.event()\n            ;\n            if( triggerEvent ) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module\n                .on(triggerEvent + eventNamespace, module.event.trigger)\n              ;\n            }\n            else if(settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n\n        decode: {\n          json: function(response) {\n            if(response !== undefined && typeof response == 'string') {\n              try {\n               response = JSON.parse(response);\n              }\n              catch(e) {\n                // isnt json string\n              }\n            }\n            return response;\n          }\n        },\n\n        read: {\n          cachedResponse: function(url) {\n            var\n              response\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function(url, response) {\n            if(response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            if( $.isPlainObject(response) ) {\n              response = JSON.stringify(response);\n            }\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n\n        query: function() {\n\n          if(module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if(module.is.loading()) {\n            if(settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            }\n            else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          }\n\n          // pass element metadata to url (value, text)\n          if(settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          }\n\n          // Add form content\n          if(settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          }\n\n          // call beforesend and get any settings changes\n          requestSettings = module.get.settings();\n\n          // check if before send cancelled request\n          if(requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          }\n          else {\n            module.cancelled = false;\n          }\n\n          // get url\n          url = module.get.templatedURL();\n\n          if(!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          }\n\n          // replace variables\n          url = module.add.urlData( url );\n          // missing url parameters\n          if( !url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url;\n\n          // look for jQuery ajax parameters in settings\n          ajaxSettings = $.extend(true, {}, settings, {\n            type       : settings.method || settings.type,\n            data       : data,\n            url        : settings.base + url,\n            beforeSend : settings.beforeXHR,\n            success    : function() {},\n            failure    : function() {},\n            complete   : function() {}\n          });\n\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n          if(settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [ module.read.cachedResponse(url) ]);\n            return;\n          }\n\n          if( !settings.throttle ) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          }\n          else {\n            if(!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function(){}, settings.throttle);\n            }\n            else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.timer) {\n                  delete module.timer;\n                }\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n\n        },\n\n        should: {\n          removeError: function() {\n            return ( settings.hideError === true || (settings.hideError === 'auto' && !module.is.form()) );\n          }\n        },\n\n        is: {\n          disabled: function() {\n            return ($module.filter(selector.disabled).length > 0);\n          },\n          expectingJSON: function() {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function() {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function() {\n            return (settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync);\n          },\n          input: function() {\n            return $module.is('input');\n          },\n          loading: function() {\n            return (module.request)\n              ? (module.request.state() == 'pending')\n              : false\n            ;\n          },\n          abortedRequest: function(xhr) {\n            if(xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            }\n            else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function(response) {\n            if( (!module.is.expectingJSON()) || !$.isFunction(settings.successTest) ) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n            module.debug('Checking JSON returned success', settings.successTest, response);\n            if( settings.successTest(response) ) {\n              module.debug('Response passed success test', response);\n              return true;\n            }\n            else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n\n        was: {\n          cancelled: function() {\n            return (module.cancelled || false);\n          },\n          succesful: function() {\n            return (module.request && module.request.state() == 'resolved');\n          },\n          failure: function() {\n            return (module.request && module.request.state() == 'rejected');\n          },\n          complete: function() {\n            return (module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected') );\n          }\n        },\n\n        add: {\n          urlData: function(url, urlData) {\n            var\n              requiredVariables,\n              optionalVariables\n            ;\n            if(url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData           = urlData || settings.urlData;\n              if(requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(2, templatedString.length - 3)\n                      : templatedString.substr(1, templatedString.length - 2),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // remove value\n                  if(value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  }\n                  else {\n                    module.verbose('Found required variable', variable, value);\n                    value = (settings.encodeParameters)\n                      ? module.get.urlEncodedValue(value)\n                      : value\n                    ;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n              if(optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {/$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(3, templatedString.length - 4)\n                      : templatedString.substr(2, templatedString.length - 3),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // optional replacement\n                  if(value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  }\n                  else {\n                    module.verbose('Optional variable not found', variable);\n                    // remove preceding slash if set\n                    if(url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    }\n                    else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n            return url;\n          },\n          formData: function(data) {\n            var\n              canSerialize = ($.fn.serializeObject !== undefined),\n              formData     = (canSerialize)\n                ? $form.serializeObject()\n                : $form.serialize(),\n              hasOtherData\n            ;\n            data         = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if(hasOtherData) {\n              if(canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              }\n              else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            }\n            else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n            return data;\n          }\n        },\n\n        send: {\n          request: function() {\n            module.set.loading();\n            module.request = module.create.request();\n            if( module.is.mocked() ) {\n              module.mockedXHR = module.create.mockedXHR();\n            }\n            else {\n              module.xhr = module.create.xhr();\n            }\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n\n        event: {\n          trigger: function(event) {\n            module.query();\n            if(event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function() {\n              // nothing special\n            },\n            done: async function(response, textStatus, xhr) {\n              var\n                context            = this,\n                elapsedTime        = (new Date().getTime() - requestStartTime),\n                timeLeft           = (settings.loadingDuration - elapsedTime),\n                translatedResponse = ( $.isFunction(settings.onResponse) )\n                  ? module.is.expectingJSON()\n                    ? settings.onResponse.call(context, $.extend(true, {}, response))\n                    : settings.onResponse(response)\n                  : false\n              ;\n              translatedResponse = await translatedResponse\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.validResponse(response) ) {\n                  module.request.resolveWith(context, [response, xhr]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                context     = this,\n                elapsedTime = (new Date().getTime() - requestStartTime),\n                timeLeft    = (settings.loadingDuration - elapsedTime)\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.abortedRequest(xhr) ) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function(response, xhr) {\n              module.debug('Successful API Response', response);\n              if(settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function(firstParameter, secondParameter) {\n              var\n                xhr,\n                response\n              ;\n              // have to guess callback parameters based on request success\n              if( module.was.succesful() ) {\n                response = firstParameter;\n                xhr      = secondParameter;\n              }\n              else {\n                xhr      = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                // pull response from xhr if available\n                response     = module.get.responseFromXHR(xhr),\n                errorMessage = module.get.errorFromRequest(response, status, httpMessage)\n              ;\n              if(status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              }\n              else if(status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              }\n              else if(status == 'error') {\n                if(xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage);\n                  // make sure we have an error to display to console\n                  if( xhr.status != 200 && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if(settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n                if( module.should.removeError() ) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n\n        create: {\n\n          request: function() {\n            // api request promise\n            return $.Deferred()\n              .always(module.event.request.complete)\n              .done(module.event.request.done)\n              .fail(module.event.request.fail)\n            ;\n          },\n\n          mockedXHR: function () {\n            var\n              // xhr does not simulate these properties of xhr but must return them\n              textStatus     = false,\n              status         = false,\n              httpMessage    = false,\n              responder      = settings.mockResponse      || settings.response,\n              asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n              asyncCallback,\n              response,\n              mockedXHR\n            ;\n\n            mockedXHR = $.Deferred()\n              .always(module.event.xhr.complete)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n\n            if(responder) {\n              if( $.isFunction(responder) ) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              }\n              else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              }\n              // simulating response\n              mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n            }\n            else if( $.isFunction(asyncResponder) ) {\n              asyncCallback = function(response) {\n                module.debug('Async callback returned response', response);\n\n                if(response) {\n                  mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n                }\n                else {\n                  mockedXHR.rejectWith(context, [{ responseText: response }, status, httpMessage]);\n                }\n              };\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n            return mockedXHR;\n          },\n\n          xhr: function() {\n            var\n              xhr\n            ;\n            // ajax request promise\n            xhr = $.ajax(ajaxSettings)\n              .always(module.event.xhr.always)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n\n        set: {\n          error: function() {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n\n        remove: {\n          error: function() {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n\n        get: {\n          responseFromXHR: function(xhr) {\n            return $.isPlainObject(xhr)\n              ? (module.is.expectingJSON())\n                ? module.decode.json(xhr.responseText)\n                : xhr.responseText\n              : false\n            ;\n          },\n          errorFromRequest: function(response, status, httpMessage) {\n            return ($.isPlainObject(response) && response.error !== undefined)\n              ? response.error // use json error message\n              : (settings.error[status] !== undefined) // use server error message\n                ? settings.error[status]\n                : httpMessage\n            ;\n          },\n          request: function() {\n            return module.request || false;\n          },\n          xhr: function() {\n            return module.xhr || false;\n          },\n          settings: function() {\n            var\n              runSettings\n            ;\n            runSettings = settings.beforeSend.call(context, settings);\n            if(runSettings) {\n              if(runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n              if(runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n              if(runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n            if(runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n            if(runSettings === false) {\n              return runSettings;\n            }\n            return (runSettings !== undefined)\n              ? $.extend(true, {}, runSettings)\n              : $.extend(true, {}, settings)\n            ;\n          },\n          urlEncodedValue: function(value) {\n            var\n              decodedValue   = window.decodeURIComponent(value),\n              encodedValue   = window.encodeURIComponent(value),\n              alreadyEncoded = (decodedValue !== value)\n            ;\n            if(alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function() {\n            var\n              data = {}\n            ;\n            if( !$.isWindow(element) ) {\n              if( module.is.input() ) {\n                data.value = $module.val();\n              }\n              else if( module.is.form() ) {\n\n              }\n              else {\n                data.text = $module.text();\n              }\n            }\n            return data;\n          },\n          event: function() {\n            if( $.isWindow(element) || settings.on == 'now' ) {\n              module.debug('API called without element, no events attached');\n              return false;\n            }\n            else if(settings.on == 'auto') {\n              if( $module.is('input') ) {\n                return (element.oninput !== undefined)\n                  ? 'input'\n                  : (element.onpropertychange !== undefined)\n                    ? 'propertychange'\n                    : 'keyup'\n                ;\n              }\n              else if( $module.is('form') ) {\n                return 'submit';\n              }\n              else {\n                return 'click';\n              }\n            }\n            else {\n              return settings.on;\n            }\n          },\n          templatedURL: function(action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url    = $module.data(metadata.url) || settings.url || false;\n            if(url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n            if(action) {\n              module.debug('Looking up url for action', action, settings.api);\n              if(settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n              url = settings.api[action];\n            }\n            else if( module.is.form() ) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n            return url;\n          }\n        },\n\n        abort: function() {\n          var\n            xhr = module.get.xhr()\n          ;\n          if( xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n\n        // reset state\n        reset: function() {\n          module.remove.error();\n          module.remove.loading();\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.api.settings = {\n\n  name              : 'API',\n  namespace         : 'api',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // object containing all templates endpoints\n  api               : {},\n\n  // whether to cache responses\n  cache             : true,\n\n  // whether new requests should abort previous requests\n  interruptRequests : true,\n\n  // event binding\n  on                : 'auto',\n\n  // context for applying state classes\n  stateContext      : false,\n\n  // duration for loading state\n  loadingDuration   : 0,\n\n  // whether to hide errors after a period of time\n  hideError         : 'auto',\n\n  // duration for error state\n  errorDuration     : 2000,\n\n  // whether parameters should be encoded with encodeURIComponent\n  encodeParameters  : true,\n\n  // API action to use\n  action            : false,\n\n  // templated URL to use\n  url               : false,\n\n  // base URL to apply to all endpoints\n  base              : '',\n\n  // data that will\n  urlData           : {},\n\n  // whether to add default data to url data\n  defaultData          : true,\n\n  // whether to serialize closest form\n  serializeForm        : false,\n\n  // how long to wait before request should occur\n  throttle             : 0,\n\n  // whether to throttle first request or only repeated\n  throttleFirstRequest : true,\n\n  // standard ajax settings\n  method            : 'get',\n  data              : {},\n  dataType          : 'json',\n\n  // mock response\n  mockResponse      : false,\n  mockResponseAsync : false,\n\n  // aliases for mock\n  response          : false,\n  responseAsync     : false,\n\n  // callbacks before request\n  beforeSend  : function(settings) { return settings; },\n  beforeXHR   : function(xhr) {},\n  onRequest   : function(promise, xhr) {},\n\n  // after request\n  onResponse  : false, // function(response) { },\n\n  // response was successful, if JSON passed validation\n  onSuccess   : function(response, $module) {},\n\n  // request finished without aborting\n  onComplete  : function(response, $module) {},\n\n  // failed JSON success test\n  onFailure   : function(response, $module) {},\n\n  // server error\n  onError     : function(errorMessage, $module) {},\n\n  // request aborted\n  onAbort     : function(errorMessage, $module) {},\n\n  successTest : false,\n\n  // errors\n  error : {\n    beforeSend        : 'The before send function has aborted the request',\n    error             : 'There was an error with your request',\n    exitConditions    : 'API Request Aborted. Exit conditions met',\n    JSONParse         : 'JSON could not be parsed during error handling',\n    legacyParameters  : 'You are using legacy API success callback names',\n    method            : 'The method you called is not defined',\n    missingAction     : 'API action used but no url was defined',\n    missingSerialize  : 'jquery-serialize-object is required to add form data to an existing data object',\n    missingURL        : 'No URL specified for api event',\n    noReturnedValue   : 'The beforeSend callback must return a settings object, beforeSend ignored.',\n    noStorage         : 'Caching responses locally requires session storage',\n    parseError        : 'There was an error parsing your request',\n    requiredParameter : 'Missing a required URL parameter: ',\n    statusMessage     : 'Server gave an error: ',\n    timeout           : 'Your request timed out'\n  },\n\n  regExp  : {\n    required : /\\{\\$*[A-z0-9]+\\}/g,\n    optional : /\\{\\/\\$*[A-z0-9]+\\}/g,\n  },\n\n  className: {\n    loading : 'loading',\n    error   : 'error'\n  },\n\n  selector: {\n    disabled : '.disabled',\n    form      : 'form'\n  },\n\n  metadata: {\n    action  : 'action',\n    url     : 'url'\n  }\n};\n\n\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Colorize\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.colorize = function(parameters) {\n  var\n    settings          = ( $.isPlainObject(parameters) )\n      ? $.extend(true, {}, $.fn.colorize.settings, parameters)\n      : $.extend({}, $.fn.colorize.settings),\n    // hoist arguments\n    moduleArguments = arguments || false\n  ;\n  $(this)\n    .each(function(instanceIndex) {\n\n      var\n        $module         = $(this),\n\n        mainCanvas      = $('<canvas />')[0],\n        imageCanvas     = $('<canvas />')[0],\n        overlayCanvas   = $('<canvas />')[0],\n\n        backgroundImage = new Image(),\n\n        // defs\n        mainContext,\n        imageContext,\n        overlayContext,\n\n        image,\n        imageName,\n\n        width,\n        height,\n\n        // shortcuts\n        colors    = settings.colors,\n        paths     = settings.paths,\n        namespace = settings.namespace,\n        error     = settings.error,\n\n        // boilerplate\n        instance   = $module.data('module-' + namespace),\n        module\n      ;\n\n      module = {\n\n        checkPreconditions: function() {\n          module.debug('Checking pre-conditions');\n\n          if( !$.isPlainObject(colors) || $.isEmptyObject(colors) ) {\n            module.error(error.undefinedColors);\n            return false;\n          }\n          return true;\n        },\n\n        async: function(callback) {\n          if(settings.async) {\n            setTimeout(callback, 0);\n          }\n          else {\n            callback();\n          }\n        },\n\n        getMetadata: function() {\n          module.debug('Grabbing metadata');\n          image     = $module.data('image') || settings.image || undefined;\n          imageName = $module.data('name')  || settings.name  || instanceIndex;\n          width     = settings.width        || $module.width();\n          height    = settings.height       || $module.height();\n          if(width === 0 || height === 0) {\n            module.error(error.undefinedSize);\n          }\n        },\n\n        initialize: function() {\n          module.debug('Initializing with colors', colors);\n          if( module.checkPreconditions() ) {\n\n            module.async(function() {\n              module.getMetadata();\n              module.canvas.create();\n\n              module.draw.image(function() {\n                module.draw.colors();\n                module.canvas.merge();\n              });\n              $module\n                .data('module-' + namespace, module)\n              ;\n            });\n          }\n        },\n\n        redraw: function() {\n          module.debug('Redrawing image');\n          module.async(function() {\n            module.canvas.clear();\n            module.draw.colors();\n            module.canvas.merge();\n          });\n        },\n\n        change: {\n          color: function(colorName, color) {\n            module.debug('Changing color', colorName);\n            if(colors[colorName] === undefined) {\n              module.error(error.missingColor);\n              return false;\n            }\n            colors[colorName] = color;\n            module.redraw();\n          }\n        },\n\n        canvas: {\n          create: function() {\n            module.debug('Creating canvases');\n\n            mainCanvas.width     = width;\n            mainCanvas.height    = height;\n            imageCanvas.width    = width;\n            imageCanvas.height   = height;\n            overlayCanvas.width  = width;\n            overlayCanvas.height = height;\n\n            mainContext    = mainCanvas.getContext('2d');\n            imageContext   = imageCanvas.getContext('2d');\n            overlayContext = overlayCanvas.getContext('2d');\n\n            $module\n              .append( mainCanvas )\n            ;\n            mainContext    = $module.children('canvas')[0].getContext('2d');\n          },\n          clear: function(context) {\n            module.debug('Clearing canvas');\n            overlayContext.fillStyle = '#FFFFFF';\n            overlayContext.fillRect(0, 0, width, height);\n          },\n          merge: function() {\n            if( !$.isFunction(mainContext.blendOnto) ) {\n              module.error(error.missingPlugin);\n              return;\n            }\n            mainContext.putImageData( imageContext.getImageData(0, 0, width, height), 0, 0);\n            overlayContext.blendOnto(mainContext, 'multiply');\n          }\n        },\n\n        draw: {\n\n          image: function(callback) {\n            module.debug('Drawing image');\n            callback = callback || function(){};\n            if(image) {\n              backgroundImage.src    = image;\n              backgroundImage.onload = function() {\n                imageContext.drawImage(backgroundImage, 0, 0);\n                callback();\n              };\n            }\n            else {\n              module.error(error.noImage);\n              callback();\n            }\n          },\n\n          colors: function() {\n            module.debug('Drawing color overlays', colors);\n            $.each(colors, function(colorName, color) {\n              settings.onDraw(overlayContext, imageName, colorName, color);\n            });\n          }\n\n        },\n\n        debug: function(message, variableName) {\n          if(settings.debug) {\n            if(variableName !== undefined) {\n              console.info(settings.name + ': ' + message, variableName);\n            }\n            else {\n              console.info(settings.name + ': ' + message);\n            }\n          }\n        },\n        error: function(errorMessage) {\n          console.warn(settings.name + ': ' + errorMessage);\n        },\n        invoke: function(methodName, context, methodArguments) {\n          var\n            method\n          ;\n          methodArguments = methodArguments || Array.prototype.slice.call( arguments, 2 );\n\n          if(typeof methodName == 'string' && instance !== undefined) {\n            methodName = methodName.split('.');\n            $.each(methodName, function(index, name) {\n              if( $.isPlainObject( instance[name] ) ) {\n                instance = instance[name];\n                return true;\n              }\n              else if( $.isFunction( instance[name] ) ) {\n                method = instance[name];\n                return true;\n              }\n              module.error(settings.error.method);\n              return false;\n            });\n          }\n          return ( $.isFunction( method ) )\n            ? method.apply(context, methodArguments)\n            : false\n          ;\n        }\n\n      };\n      if(instance !== undefined && moduleArguments) {\n        // simpler than invoke realizing to invoke itself (and losing scope due prototype.call()\n        if(moduleArguments[0] == 'invoke') {\n          moduleArguments = Array.prototype.slice.call( moduleArguments, 1 );\n        }\n        return module.invoke(moduleArguments[0], this, Array.prototype.slice.call( moduleArguments, 1 ) );\n      }\n      // initializing\n      module.initialize();\n    })\n  ;\n  return this;\n};\n\n$.fn.colorize.settings = {\n  name      : 'Image Colorizer',\n  debug     : true,\n  namespace : 'colorize',\n\n  onDraw    : function(overlayContext, imageName, colorName, color) {},\n\n  // whether to block execution while updating canvas\n  async     : true,\n  // object containing names and default values of color regions\n  colors    : {},\n\n  metadata: {\n    image : 'image',\n    name  : 'name'\n  },\n\n  error: {\n    noImage         : 'No tracing image specified',\n    undefinedColors : 'No default colors specified.',\n    missingColor    : 'Attempted to change color that does not exist',\n    missingPlugin   : 'Blend onto plug-in must be included',\n    undefinedHeight : 'The width or height of image canvas could not be automatically determined. Please specify a height.'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Form Validation\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.form = function(parameters) {\n  var\n    $allModules      = $(this),\n    moduleSelector   = $allModules.selector || '',\n\n    time             = new Date().getTime(),\n    performance      = [],\n\n    query            = arguments[0],\n    legacyParameters = arguments[1],\n    methodInvoked    = (typeof query == 'string'),\n    queryArguments   = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        $module     = $(this),\n        element     = this,\n\n        formErrors  = [],\n        keyHeldDown = false,\n\n        // set at run-time\n        $field,\n        $group,\n        $message,\n        $prompt,\n        $submit,\n        $clear,\n        $reset,\n\n        settings,\n        validation,\n\n        metadata,\n        selector,\n        className,\n        error,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n\n        instance,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          // settings grabbed at run time\n          module.get.settings();\n          if(methodInvoked) {\n            if(instance === undefined) {\n              module.instantiate();\n            }\n            module.invoke(query);\n          }\n          else {\n            if(instance !== undefined) {\n              instance.invoke('destroy');\n            }\n            module.verbose('Initializing form validation', $module, settings);\n            module.bindEvents();\n            module.set.defaults();\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', instance);\n          module.removeEvents();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $field      = $module.find(selector.field);\n          $group      = $module.find(selector.group);\n          $message    = $module.find(selector.message);\n          $prompt     = $module.find(selector.prompt);\n\n          $submit     = $module.find(selector.submit);\n          $clear      = $module.find(selector.clear);\n          $reset      = $module.find(selector.reset);\n        },\n\n        submit: function() {\n          module.verbose('Submitting form', $module);\n          $module\n            .submit()\n          ;\n        },\n\n        attachEvents: function(selector, action) {\n          action = action || 'submit';\n          $(selector)\n            .on('click' + eventNamespace, function(event) {\n              module[action]();\n              event.preventDefault();\n            })\n          ;\n        },\n\n        bindEvents: function() {\n          module.verbose('Attaching form events');\n          $module\n            .on('submit' + eventNamespace, module.validate.form)\n            .on('blur'   + eventNamespace, selector.field, module.event.field.blur)\n            .on('click'  + eventNamespace, selector.submit, module.submit)\n            .on('click'  + eventNamespace, selector.reset, module.reset)\n            .on('click'  + eventNamespace, selector.clear, module.clear)\n          ;\n          if(settings.keyboardShortcuts) {\n            $module\n              .on('keydown' + eventNamespace, selector.field, module.event.field.keydown)\n            ;\n          }\n          $field\n            .each(function() {\n              var\n                $input     = $(this),\n                type       = $input.prop('type'),\n                inputEvent = module.get.changeEvent(type, $input)\n              ;\n              $(this)\n                .on(inputEvent + eventNamespace, module.event.field.change)\n              ;\n            })\n          ;\n        },\n\n        clear: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue) || '',\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('clear');\n              }\n              else if(isCheckbox) {\n                $field.prop('checked', false);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val('');\n              }\n            })\n          ;\n        },\n\n        reset: function() {\n          $field\n            .each(function () {\n              var\n                $field       = $(this),\n                $element     = $field.parent(),\n                $fieldGroup  = $field.closest($group),\n                $prompt      = $fieldGroup.find(selector.prompt),\n                defaultValue = $field.data(metadata.defaultValue),\n                isCheckbox   = $element.is(selector.uiCheckbox),\n                isDropdown   = $element.is(selector.uiDropdown),\n                isErrored    = $fieldGroup.hasClass(className.error)\n              ;\n              if(defaultValue === undefined) {\n                return;\n              }\n              if(isErrored) {\n                module.verbose('Resetting error on field', $fieldGroup);\n                $fieldGroup.removeClass(className.error);\n                $prompt.remove();\n              }\n              if(isDropdown) {\n                module.verbose('Resetting dropdown value', $element, defaultValue);\n                $element.dropdown('restore defaults');\n              }\n              else if(isCheckbox) {\n                module.verbose('Resetting checkbox value', $element, defaultValue);\n                $field.prop('checked', defaultValue);\n              }\n              else {\n                module.verbose('Resetting field value', $field, defaultValue);\n                $field.val(defaultValue);\n              }\n            })\n          ;\n        },\n\n        is: {\n          bracketedRule: function(rule) {\n            return (rule.type && rule.type.match(settings.regExp.bracket));\n          },\n          empty: function($field) {\n            if(!$field || $field.length === 0) {\n              return true;\n            }\n            else if($field.is('input[type=\"checkbox\"]')) {\n              return !$field.is(':checked');\n            }\n            else {\n              return module.is.blank($field);\n            }\n          },\n          blank: function($field) {\n            return $.trim($field.val()) === '';\n          },\n          valid: function() {\n            var\n              allValid = true\n            ;\n            module.verbose('Checking if form is valid');\n            $.each(validation, function(fieldName, field) {\n              if( !( module.validate.field(field, fieldName) ) ) {\n                allValid = false;\n              }\n            });\n            return allValid;\n          }\n        },\n\n        removeEvents: function() {\n          $module\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n          $submit\n            .off(eventNamespace)\n          ;\n          $field\n            .off(eventNamespace)\n          ;\n        },\n\n        event: {\n          field: {\n            keydown: function(event) {\n              var\n                $field       = $(this),\n                key          = event.which,\n                isInput      = $field.is(selector.input),\n                isCheckbox   = $field.is(selector.checkbox),\n                isInDropdown = ($field.closest(selector.uiDropdown).length > 0),\n                keyCode      = {\n                  enter  : 13,\n                  escape : 27\n                }\n              ;\n              if( key == keyCode.escape) {\n                module.verbose('Escape key pressed blurring field');\n                $field\n                  .blur()\n                ;\n              }\n              if(!event.ctrlKey && key == keyCode.enter && isInput && !isInDropdown && !isCheckbox) {\n                if(!keyHeldDown) {\n                  $field\n                    .one('keyup' + eventNamespace, module.event.field.keyup)\n                  ;\n                  module.submit();\n                  module.debug('Enter pressed on input submitting form');\n                }\n                keyHeldDown = true;\n              }\n            },\n            keyup: function() {\n              keyHeldDown = false;\n            },\n            blur: function(event) {\n              var\n                $field          = $(this),\n                $fieldGroup     = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if( $fieldGroup.hasClass(className.error) ) {\n                module.debug('Revalidating field', $field, validationRules);\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n              else if(settings.on == 'blur' || settings.on == 'change') {\n                if(validationRules) {\n                  module.validate.field( validationRules );\n                }\n              }\n            },\n            change: function(event) {\n              var\n                $field      = $(this),\n                $fieldGroup = $field.closest($group),\n                validationRules = module.get.validation($field)\n              ;\n              if(settings.on == 'change' || ( $fieldGroup.hasClass(className.error) && settings.revalidate) ) {\n                clearTimeout(module.timer);\n                module.timer = setTimeout(function() {\n                  module.debug('Revalidating field', $field,  module.get.validation($field));\n                  module.validate.field( validationRules );\n                }, settings.delay);\n              }\n            }\n          }\n\n        },\n\n        get: {\n          ancillaryValue: function(rule) {\n            if(!rule.type || !module.is.bracketedRule(rule)) {\n              return false;\n            }\n            return rule.type.match(settings.regExp.bracket)[1] + '';\n          },\n          ruleName: function(rule) {\n            if( module.is.bracketedRule(rule) ) {\n              return rule.type.replace(rule.type.match(settings.regExp.bracket)[0], '');\n            }\n            return rule.type;\n          },\n          changeEvent: function(type, $input) {\n            if(type == 'checkbox' || type == 'radio' || type == 'hidden' || $input.is('select')) {\n              return 'change';\n            }\n            else {\n              return module.get.inputEvent();\n            }\n          },\n          inputEvent: function() {\n            return (document.createElement('input').oninput !== undefined)\n              ? 'input'\n              : (document.createElement('input').onpropertychange !== undefined)\n                ? 'propertychange'\n                : 'keyup'\n            ;\n          },\n          prompt: function(rule, field) {\n            var\n              ruleName      = module.get.ruleName(rule),\n              ancillary     = module.get.ancillaryValue(rule),\n              prompt        = rule.prompt || settings.prompt[ruleName] || settings.text.unspecifiedRule,\n              requiresValue = (prompt.search('{value}') !== -1),\n              requiresName  = (prompt.search('{name}') !== -1),\n              $label,\n              $field,\n              name\n            ;\n            if(requiresName || requiresValue) {\n              $field = module.get.field(field.identifier);\n            }\n            if(requiresValue) {\n              prompt = prompt.replace('{value}', $field.val());\n            }\n            if(requiresName) {\n              $label = $field.closest(selector.group).find('label').eq(0);\n              name = ($label.length == 1)\n                ? $label.text()\n                : $field.prop('placeholder') || settings.text.unspecifiedField\n              ;\n              prompt = prompt.replace('{name}', name);\n            }\n            prompt = prompt.replace('{identifier}', field.identifier);\n            prompt = prompt.replace('{ruleValue}', ancillary);\n            if(!rule.prompt) {\n              module.verbose('Using default validation prompt for type', prompt, ruleName);\n            }\n            return prompt;\n          },\n          settings: function() {\n            if($.isPlainObject(parameters)) {\n              var\n                keys     = Object.keys(parameters),\n                isLegacySettings = (keys.length > 0)\n                  ? (parameters[keys[0]].identifier !== undefined && parameters[keys[0]].rules !== undefined)\n                  : false,\n                ruleKeys\n              ;\n              if(isLegacySettings) {\n                // 1.x (ducktyped)\n                settings   = $.extend(true, {}, $.fn.form.settings, legacyParameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, parameters);\n                module.error(settings.error.oldSyntax, element);\n                module.verbose('Extending settings from legacy parameters', validation, settings);\n              }\n              else {\n                // 2.x\n                if(parameters.fields) {\n                  ruleKeys = Object.keys(parameters.fields);\n                  if( typeof parameters.fields[ruleKeys[0]] == 'string' || $.isArray(parameters.fields[ruleKeys[0]]) ) {\n                    $.each(parameters.fields, function(name, rules) {\n                      if(typeof rules == 'string') {\n                        rules = [rules];\n                      }\n                      parameters.fields[name] = {\n                        rules: []\n                      };\n                      $.each(rules, function(index, rule) {\n                        parameters.fields[name].rules.push({ type: rule });\n                      });\n                    });\n                  }\n                }\n\n                settings   = $.extend(true, {}, $.fn.form.settings, parameters);\n                validation = $.extend({}, $.fn.form.settings.defaults, settings.fields);\n                module.verbose('Extending settings', validation, settings);\n              }\n            }\n            else {\n              settings   = $.fn.form.settings;\n              validation = $.fn.form.settings.defaults;\n              module.verbose('Using default form validation', validation, settings);\n            }\n\n            // shorthand\n            namespace       = settings.namespace;\n            metadata        = settings.metadata;\n            selector        = settings.selector;\n            className       = settings.className;\n            error           = settings.error;\n            moduleNamespace = 'module-' + namespace;\n            eventNamespace  = '.' + namespace;\n\n            // grab instance\n            instance = $module.data(moduleNamespace);\n\n            // refresh selector cache\n            module.refresh();\n          },\n          field: function(identifier) {\n            module.verbose('Finding field with identifier', identifier);\n            if( $field.filter('#' + identifier).length > 0 ) {\n              return $field.filter('#' + identifier);\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'\"]');\n            }\n            else if( $field.filter('[name=\"' + identifier +'[]\"]').length > 0 ) {\n              return $field.filter('[name=\"' + identifier +'[]\"]');\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]');\n            }\n            return $('<input/>');\n          },\n          fields: function(fields) {\n            var\n              $fields = $()\n            ;\n            $.each(fields, function(index, name) {\n              $fields = $fields.add( module.get.field(name) );\n            });\n            return $fields;\n          },\n          validation: function($field) {\n            var\n              fieldValidation,\n              identifier\n            ;\n            if(!validation) {\n              return false;\n            }\n            $.each(validation, function(fieldName, field) {\n              identifier = field.identifier || fieldName;\n              if( module.get.field(identifier)[0] == $field[0] ) {\n                field.identifier = identifier;\n                fieldValidation = field;\n              }\n            });\n            return fieldValidation || false;\n          },\n          value: function (field) {\n            var\n              fields = [],\n              results\n            ;\n            fields.push(field);\n            results = module.get.values.call(element, fields);\n            return results[field];\n          },\n          values: function (fields) {\n            var\n              $fields = $.isArray(fields)\n                ? module.get.fields(fields)\n                : $field,\n              values = {}\n            ;\n            $fields.each(function(index, field) {\n              var\n                $field     = $(field),\n                type       = $field.prop('type'),\n                name       = $field.prop('name'),\n                value      = $field.val(),\n                isCheckbox = $field.is(selector.checkbox),\n                isRadio    = $field.is(selector.radio),\n                isMultiple = (name.indexOf('[]') !== -1),\n                isChecked  = (isCheckbox)\n                  ? $field.is(':checked')\n                  : false\n              ;\n              if(name) {\n                if(isMultiple) {\n                  name = name.replace('[]', '');\n                  if(!values[name]) {\n                    values[name] = [];\n                  }\n                  if(isCheckbox) {\n                    if(isChecked) {\n                      values[name].push(value || true);\n                    }\n                    else {\n                      values[name].push(false);\n                    }\n                  }\n                  else {\n                    values[name].push(value);\n                  }\n                }\n                else {\n                  if(isRadio) {\n                    if(isChecked) {\n                      values[name] = value;\n                    }\n                  }\n                  else if(isCheckbox) {\n                    if(isChecked) {\n                      values[name] = value || true;\n                    }\n                    else {\n                      values[name] = false;\n                    }\n                  }\n                  else {\n                    values[name] = value;\n                  }\n                }\n              }\n            });\n            return values;\n          }\n        },\n\n        has: {\n\n          field: function(identifier) {\n            module.verbose('Checking for existence of a field with identifier', identifier);\n            if(typeof identifier !== 'string') {\n              module.error(error.identifier, identifier);\n            }\n            if( $field.filter('#' + identifier).length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[name=\"' + identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            else if( $field.filter('[data-' + metadata.validate + '=\"'+ identifier +'\"]').length > 0 ) {\n              return true;\n            }\n            return false;\n          }\n\n        },\n\n        add: {\n          prompt: function(identifier, errors) {\n            var\n              $field       = module.get.field(identifier),\n              $fieldGroup  = $field.closest($group),\n              $prompt      = $fieldGroup.children(selector.prompt),\n              promptExists = ($prompt.length !== 0)\n            ;\n            errors = (typeof errors == 'string')\n              ? [errors]\n              : errors\n            ;\n            module.verbose('Adding field error state', identifier);\n            $fieldGroup\n              .addClass(className.error)\n            ;\n            if(settings.inline) {\n              if(!promptExists) {\n                $prompt = settings.templates.prompt(errors);\n                $prompt\n                  .appendTo($fieldGroup)\n                ;\n              }\n              $prompt\n                .html(errors[0])\n              ;\n              if(!promptExists) {\n                if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                  module.verbose('Displaying error with css transition', settings.transition);\n                  $prompt.transition(settings.transition + ' in', settings.duration);\n                }\n                else {\n                  module.verbose('Displaying error with fallback javascript animation');\n                  $prompt\n                    .fadeIn(settings.duration)\n                  ;\n                }\n              }\n              else {\n                module.verbose('Inline errors are disabled, no inline error added', identifier);\n              }\n            }\n          },\n          errors: function(errors) {\n            module.debug('Adding form error messages', errors);\n            module.set.error();\n            $message\n              .html( settings.templates.error(errors) )\n            ;\n          }\n        },\n\n        remove: {\n          prompt: function(identifier) {\n            var\n              $field      = module.get.field(identifier),\n              $fieldGroup = $field.closest($group),\n              $prompt     = $fieldGroup.children(selector.prompt)\n            ;\n            $fieldGroup\n              .removeClass(className.error)\n            ;\n            if(settings.inline && $prompt.is(':visible')) {\n              module.verbose('Removing prompt for field', identifier);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                $prompt.transition(settings.transition + ' out', settings.duration, function() {\n                  $prompt.remove();\n                });\n              }\n              else {\n                $prompt\n                  .fadeOut(settings.duration, function(){\n                    $prompt.remove();\n                  })\n                ;\n              }\n            }\n          }\n        },\n\n        set: {\n          success: function() {\n            $module\n              .removeClass(className.error)\n              .addClass(className.success)\n            ;\n          },\n          defaults: function () {\n            $field\n              .each(function () {\n                var\n                  $field     = $(this),\n                  isCheckbox = ($field.filter(selector.checkbox).length > 0),\n                  value      = (isCheckbox)\n                    ? $field.is(':checked')\n                    : $field.val()\n                ;\n                $field.data(metadata.defaultValue, value);\n              })\n            ;\n          },\n          error: function() {\n            $module\n              .removeClass(className.success)\n              .addClass(className.error)\n            ;\n          },\n          value: function (field, value) {\n            var\n              fields = {}\n            ;\n            fields[field] = value;\n            return module.set.values.call(element, fields);\n          },\n          values: function (fields) {\n            if($.isEmptyObject(fields)) {\n              return;\n            }\n            $.each(fields, function(key, value) {\n              var\n                $field      = module.get.field(key),\n                $element    = $field.parent(),\n                isMultiple  = $.isArray(value),\n                isCheckbox  = $element.is(selector.uiCheckbox),\n                isDropdown  = $element.is(selector.uiDropdown),\n                isRadio     = ($field.is(selector.radio) && isCheckbox),\n                fieldExists = ($field.length > 0),\n                $multipleField\n              ;\n              if(fieldExists) {\n                if(isMultiple && isCheckbox) {\n                  module.verbose('Selecting multiple', value, $field);\n                  $element.checkbox('uncheck');\n                  $.each(value, function(index, value) {\n                    $multipleField = $field.filter('[value=\"' + value + '\"]');\n                    $element       = $multipleField.parent();\n                    if($multipleField.length > 0) {\n                      $element.checkbox('check');\n                    }\n                  });\n                }\n                else if(isRadio) {\n                  module.verbose('Selecting radio value', value, $field);\n                  $field.filter('[value=\"' + value + '\"]')\n                    .parent(selector.uiCheckbox)\n                      .checkbox('check')\n                  ;\n                }\n                else if(isCheckbox) {\n                  module.verbose('Setting checkbox value', value, $element);\n                  if(value === true) {\n                    $element.checkbox('check');\n                  }\n                  else {\n                    $element.checkbox('uncheck');\n                  }\n                }\n                else if(isDropdown) {\n                  module.verbose('Setting dropdown value', value, $element);\n                  $element.dropdown('set selected', value);\n                }\n                else {\n                  module.verbose('Setting field value', value, $field);\n                  $field.val(value);\n                }\n              }\n            });\n          }\n        },\n\n        validate: {\n\n          form: function(event, ignoreCallbacks) {\n            var\n              values = module.get.values(),\n              apiRequest\n            ;\n\n            // input keydown event will fire submit repeatedly by browser default\n            if(keyHeldDown) {\n              return false;\n            }\n\n            // reset errors\n            formErrors = [];\n            if( module.is.valid() ) {\n              module.debug('Form has no validation errors, submitting');\n              module.set.success();\n              if(ignoreCallbacks !== true) {\n                return settings.onSuccess.call(element, event, values);\n              }\n            }\n            else {\n              module.debug('Form has errors');\n              module.set.error();\n              if(!settings.inline) {\n                module.add.errors(formErrors);\n              }\n              // prevent ajax submit\n              if($module.data('moduleApi') !== undefined) {\n                event.stopImmediatePropagation();\n              }\n              if(ignoreCallbacks !== true) {\n                return settings.onFailure.call(element, formErrors, values);\n              }\n            }\n          },\n\n          // takes a validation object and returns whether field passes validation\n          field: function(field, fieldName) {\n            var\n              identifier    = field.identifier || fieldName,\n              $field        = module.get.field(identifier),\n              $dependsField = (field.depends)\n                ? module.get.field(field.depends)\n                : false,\n              fieldValid  = true,\n              fieldErrors = []\n            ;\n            if(!field.identifier) {\n              module.debug('Using field name as identifier', identifier);\n              field.identifier = identifier;\n            }\n            if($field.prop('disabled')) {\n              module.debug('Field is disabled. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.optional && module.is.blank($field)){\n              module.debug('Field is optional and blank. Skipping', identifier);\n              fieldValid = true;\n            }\n            else if(field.depends && module.is.empty($dependsField)) {\n              module.debug('Field depends on another value that is not present or empty. Skipping', $dependsField);\n              fieldValid = true;\n            }\n            else if(field.rules !== undefined) {\n              $.each(field.rules, function(index, rule) {\n                if( module.has.field(identifier) && !( module.validate.rule(field, rule) ) ) {\n                  module.debug('Field is invalid', identifier, rule.type);\n                  fieldErrors.push(module.get.prompt(rule, field));\n                  fieldValid = false;\n                }\n              });\n            }\n            if(fieldValid) {\n              module.remove.prompt(identifier, fieldErrors);\n              settings.onValid.call($field);\n            }\n            else {\n              formErrors = formErrors.concat(fieldErrors);\n              module.add.prompt(identifier, fieldErrors);\n              settings.onInvalid.call($field, fieldErrors);\n              return false;\n            }\n            return true;\n          },\n\n          // takes validation rule and returns whether field passes rule\n          rule: function(field, rule) {\n            var\n              $field       = module.get.field(field.identifier),\n              type         = rule.type,\n              value        = $field.val(),\n              isValid      = true,\n              ancillary    = module.get.ancillaryValue(rule),\n              ruleName     = module.get.ruleName(rule),\n              ruleFunction = settings.rules[ruleName]\n            ;\n            if( !$.isFunction(ruleFunction) ) {\n              module.error(error.noRule, ruleName);\n              return;\n            }\n            // cast to string avoiding encoding special values\n            value = (value === undefined || value === '' || value === null)\n              ? ''\n              : $.trim(value + '')\n            ;\n            return ruleFunction.call($field, value, ancillary);\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      module.initialize();\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.form.settings = {\n\n  name              : 'Form',\n  namespace         : 'form',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  fields            : false,\n\n  keyboardShortcuts : true,\n  on                : 'submit',\n  inline            : false,\n\n  delay             : 200,\n  revalidate        : true,\n\n  transition        : 'scale',\n  duration          : 200,\n\n  onValid           : function() {},\n  onInvalid         : function() {},\n  onSuccess         : function() { return true; },\n  onFailure         : function() { return false; },\n\n  metadata : {\n    defaultValue : 'default',\n    validate     : 'validate'\n  },\n\n  regExp: {\n    bracket : /\\[(.*)\\]/i,\n    decimal : /^\\d*(\\.)\\d+/,\n    email   : /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,\n    escape  : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    flags   : /^\\/(.*)\\/(.*)?/,\n    integer : /^\\-?\\d+$/,\n    number  : /^\\-?\\d*(\\.\\d+)?$/,\n    url     : /(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})/i\n  },\n\n  text: {\n    unspecifiedRule  : 'Please enter a valid value',\n    unspecifiedField : 'This field'\n  },\n\n  prompt: {\n    empty                : '{name} must have a value',\n    checked              : '{name} must be checked',\n    email                : '{name} must be a valid e-mail',\n    url                  : '{name} must be a valid url',\n    regExp               : '{name} is not formatted correctly',\n    integer              : '{name} must be an integer',\n    decimal              : '{name} must be a decimal number',\n    number               : '{name} must be set to a number',\n    is                   : '{name} must be \"{ruleValue}\"',\n    isExactly            : '{name} must be exactly \"{ruleValue}\"',\n    not                  : '{name} cannot be set to \"{ruleValue}\"',\n    notExactly           : '{name} cannot be set to exactly \"{ruleValue}\"',\n    contain              : '{name} cannot contain \"{ruleValue}\"',\n    containExactly       : '{name} cannot contain exactly \"{ruleValue}\"',\n    doesntContain        : '{name} must contain  \"{ruleValue}\"',\n    doesntContainExactly : '{name} must contain exactly \"{ruleValue}\"',\n    minLength            : '{name} must be at least {ruleValue} characters',\n    length               : '{name} must be at least {ruleValue} characters',\n    exactLength          : '{name} must be exactly {ruleValue} characters',\n    maxLength            : '{name} cannot be longer than {ruleValue} characters',\n    match                : '{name} must match {ruleValue} field',\n    different            : '{name} must have a different value than {ruleValue} field',\n    creditCard           : '{name} must be a valid credit card number',\n    minCount             : '{name} must have at least {ruleValue} choices',\n    exactCount           : '{name} must have exactly {ruleValue} choices',\n    maxCount             : '{name} must have {ruleValue} or less choices'\n  },\n\n  selector : {\n    checkbox   : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    clear      : '.clear',\n    field      : 'input, textarea, select',\n    group      : '.field',\n    input      : 'input',\n    message    : '.error.message',\n    prompt     : '.prompt.label',\n    radio      : 'input[type=\"radio\"]',\n    reset      : '.reset:not([type=\"reset\"])',\n    submit     : '.submit:not([type=\"submit\"])',\n    uiCheckbox : '.ui.checkbox',\n    uiDropdown : '.ui.dropdown'\n  },\n\n  className : {\n    error   : 'error',\n    label   : 'ui prompt label',\n    pressed : 'down',\n    success : 'success'\n  },\n\n  error: {\n    identifier : 'You must specify a string identifier for each field',\n    method     : 'The method you called is not defined.',\n    noRule     : 'There is no rule matching the one you specified',\n    oldSyntax  : 'Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.'\n  },\n\n  templates: {\n\n    // template that produces error message\n    error: function(errors) {\n      var\n        html = '<ul class=\"list\">'\n      ;\n      $.each(errors, function(index, value) {\n        html += '<li>' + value + '</li>';\n      });\n      html += '</ul>';\n      return $(html);\n    },\n\n    // template that produces label\n    prompt: function(errors) {\n      return $('<div/>')\n        .addClass('ui basic red pointing prompt label')\n        .html(errors[0])\n      ;\n    }\n  },\n\n  rules: {\n\n    // is not empty or blank string\n    empty: function(value) {\n      return !(value === undefined || '' === value || $.isArray(value) && value.length === 0);\n    },\n\n    // checkbox checked\n    checked: function() {\n      return ($(this).filter(':checked').length > 0);\n    },\n\n    // is most likely an email\n    email: function(value){\n      return $.fn.form.settings.regExp.email.test(value);\n    },\n\n    // value is most likely url\n    url: function(value) {\n      return $.fn.form.settings.regExp.url.test(value);\n    },\n\n    // matches specified regExp\n    regExp: function(value, regExp) {\n      var\n        regExpParts = regExp.match($.fn.form.settings.regExp.flags),\n        flags\n      ;\n      // regular expression specified as /baz/gi (flags)\n      if(regExpParts) {\n        regExp = (regExpParts.length >= 2)\n          ? regExpParts[1]\n          : regExp\n        ;\n        flags = (regExpParts.length >= 3)\n          ? regExpParts[2]\n          : ''\n        ;\n      }\n      return value.match( new RegExp(regExp, flags) );\n    },\n\n    // is valid integer or matches range\n    integer: function(value, range) {\n      var\n        intRegExp = $.fn.form.settings.regExp.integer,\n        min,\n        max,\n        parts\n      ;\n      if( !range || ['', '..'].indexOf(range) !== -1) {\n        // do nothing\n      }\n      else if(range.indexOf('..') == -1) {\n        if(intRegExp.test(range)) {\n          min = max = range - 0;\n        }\n      }\n      else {\n        parts = range.split('..', 2);\n        if(intRegExp.test(parts[0])) {\n          min = parts[0] - 0;\n        }\n        if(intRegExp.test(parts[1])) {\n          max = parts[1] - 0;\n        }\n      }\n      return (\n        intRegExp.test(value) &&\n        (min === undefined || value >= min) &&\n        (max === undefined || value <= max)\n      );\n    },\n\n    // is valid number (with decimal)\n    decimal: function(value) {\n      return $.fn.form.settings.regExp.decimal.test(value);\n    },\n\n    // is valid number\n    number: function(value) {\n      return $.fn.form.settings.regExp.number.test(value);\n    },\n\n    // is value (case insensitive)\n    is: function(value, text) {\n      text = (typeof text == 'string')\n        ? text.toLowerCase()\n        : text\n      ;\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      return (value == text);\n    },\n\n    // is value\n    isExactly: function(value, text) {\n      return (value == text);\n    },\n\n    // value is not another value (case insensitive)\n    not: function(value, notValue) {\n      value = (typeof value == 'string')\n        ? value.toLowerCase()\n        : value\n      ;\n      notValue = (typeof notValue == 'string')\n        ? notValue.toLowerCase()\n        : notValue\n      ;\n      return (value != notValue);\n    },\n\n    // value is not another value (case sensitive)\n    notExactly: function(value, notValue) {\n      return (value != notValue);\n    },\n\n    // value contains text (insensitive)\n    contains: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) !== -1);\n    },\n\n    // value contains text (case sensitive)\n    containsExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) !== -1);\n    },\n\n    // value contains text (insensitive)\n    doesntContain: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text, 'i') ) === -1);\n    },\n\n    // value contains text (case sensitive)\n    doesntContainExactly: function(value, text) {\n      // escape regex characters\n      text = text.replace($.fn.form.settings.regExp.escape, \"\\\\$&\");\n      return (value.search( new RegExp(text) ) === -1);\n    },\n\n    // is at least string length\n    minLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // see rls notes for 2.0.6 (this is a duplicate of minLength)\n    length: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length >= requiredLength)\n        : false\n      ;\n    },\n\n    // is exactly length\n    exactLength: function(value, requiredLength) {\n      return (value !== undefined)\n        ? (value.length == requiredLength)\n        : false\n      ;\n    },\n\n    // is less than length\n    maxLength: function(value, maxLength) {\n      return (value !== undefined)\n        ? (value.length <= maxLength)\n        : false\n      ;\n    },\n\n    // matches another field\n    match: function(value, identifier) {\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() == matchingValue.toString() )\n        : false\n      ;\n    },\n\n    // different than another field\n    different: function(value, identifier) {\n      // use either id or name of field\n      var\n        $form = $(this),\n        matchingValue\n      ;\n      if( $('[data-validate=\"'+ identifier +'\"]').length > 0 ) {\n        matchingValue = $('[data-validate=\"'+ identifier +'\"]').val();\n      }\n      else if($('#' + identifier).length > 0) {\n        matchingValue = $('#' + identifier).val();\n      }\n      else if($('[name=\"' + identifier +'\"]').length > 0) {\n        matchingValue = $('[name=\"' + identifier + '\"]').val();\n      }\n      else if( $('[name=\"' + identifier +'[]\"]').length > 0 ) {\n        matchingValue = $('[name=\"' + identifier +'[]\"]');\n      }\n      return (matchingValue !== undefined)\n        ? ( value.toString() !== matchingValue.toString() )\n        : false\n      ;\n    },\n\n    creditCard: function(cardNumber, cardTypes) {\n      var\n        cards = {\n          visa: {\n            pattern : /^4/,\n            length  : [16]\n          },\n          amex: {\n            pattern : /^3[47]/,\n            length  : [15]\n          },\n          mastercard: {\n            pattern : /^5[1-5]/,\n            length  : [16]\n          },\n          discover: {\n            pattern : /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n            length  : [16]\n          },\n          unionPay: {\n            pattern : /^(62|88)/,\n            length  : [16, 17, 18, 19]\n          },\n          jcb: {\n            pattern : /^35(2[89]|[3-8][0-9])/,\n            length  : [16]\n          },\n          maestro: {\n            pattern : /^(5018|5020|5038|6304|6759|676[1-3])/,\n            length  : [12, 13, 14, 15, 16, 17, 18, 19]\n          },\n          dinersClub: {\n            pattern : /^(30[0-5]|^36)/,\n            length  : [14]\n          },\n          laser: {\n            pattern : /^(6304|670[69]|6771)/,\n            length  : [16, 17, 18, 19]\n          },\n          visaElectron: {\n            pattern : /^(4026|417500|4508|4844|491(3|7))/,\n            length  : [16]\n          }\n        },\n        valid         = {},\n        validCard     = false,\n        requiredTypes = (typeof cardTypes == 'string')\n          ? cardTypes.split(',')\n          : false,\n        unionPay,\n        validation\n      ;\n\n      if(typeof cardNumber !== 'string' || cardNumber.length === 0) {\n        return;\n      }\n\n      // verify card types\n      if(requiredTypes) {\n        $.each(requiredTypes, function(index, type){\n          // verify each card type\n          validation = cards[type];\n          if(validation) {\n            valid = {\n              length  : ($.inArray(cardNumber.length, validation.length) !== -1),\n              pattern : (cardNumber.search(validation.pattern) !== -1)\n            };\n            if(valid.length && valid.pattern) {\n              validCard = true;\n            }\n          }\n        });\n\n        if(!validCard) {\n          return false;\n        }\n      }\n\n      // skip luhn for UnionPay\n      unionPay = {\n        number  : ($.inArray(cardNumber.length, cards.unionPay.length) !== -1),\n        pattern : (cardNumber.search(cards.unionPay.pattern) !== -1)\n      };\n      if(unionPay.number && unionPay.pattern) {\n        return true;\n      }\n\n      // verify luhn, adapted from  <https://gist.github.com/2134376>\n      var\n        length        = cardNumber.length,\n        multiple      = 0,\n        producedValue = [\n          [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n          [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]\n        ],\n        sum           = 0\n      ;\n      while (length--) {\n        sum += producedValue[multiple][parseInt(cardNumber.charAt(length), 10)];\n        multiple ^= 1;\n      }\n      return (sum % 10 === 0 && sum > 0);\n    },\n\n    minCount: function(value, minCount) {\n      if(minCount == 0) {\n        return true;\n      }\n      if(minCount == 1) {\n        return (value !== '');\n      }\n      return (value.split(',').length >= minCount);\n    },\n\n    exactCount: function(value, exactCount) {\n      if(exactCount == 0) {\n        return (value === '');\n      }\n      if(exactCount == 1) {\n        return (value !== '' && value.search(',') === -1);\n      }\n      return (value.split(',').length == exactCount);\n    },\n\n    maxCount: function(value, maxCount) {\n      if(maxCount == 0) {\n        return false;\n      }\n      if(maxCount == 1) {\n        return (value.search(',') === -1);\n      }\n      return (value.split(',').length <= maxCount);\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - State\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.state = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    moduleSelector  = $allModules.selector || '',\n\n    hasTouch        = ('ontouchstart' in document.documentElement),\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.state.settings, parameters)\n          : $.extend({}, $.fn.state.settings),\n\n        error           = settings.error,\n        metadata        = settings.metadata,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        states          = settings.states,\n        text            = settings.text,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        module\n      ;\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module');\n\n          // allow module to guess desired state based on element\n          if(settings.automatic) {\n            module.add.defaults();\n          }\n\n          // bind events with delegated events\n          if(settings.context && moduleSelector !== '') {\n            $(settings.context)\n              .on(moduleSelector, 'mouseenter' + eventNamespace, module.change.text)\n              .on(moduleSelector, 'mouseleave' + eventNamespace, module.reset.text)\n              .on(moduleSelector, 'click'      + eventNamespace, module.toggle.state)\n            ;\n          }\n          else {\n            $module\n              .on('mouseenter' + eventNamespace, module.change.text)\n              .on('mouseleave' + eventNamespace, module.reset.text)\n              .on('click'      + eventNamespace, module.toggle.state)\n            ;\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', instance);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $module = $(element);\n        },\n\n        add: {\n          defaults: function() {\n            var\n              userStates = parameters && $.isPlainObject(parameters.states)\n                ? parameters.states\n                : {}\n            ;\n            $.each(settings.defaults, function(type, typeStates) {\n              if( module.is[type] !== undefined && module.is[type]() ) {\n                module.verbose('Adding default states', type, element);\n                $.extend(settings.states, typeStates, userStates);\n              }\n            });\n          }\n        },\n\n        is: {\n\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          loading: function() {\n            return $module.hasClass(className.loading);\n          },\n          inactive: function() {\n            return !( $module.hasClass(className.active) );\n          },\n          state: function(state) {\n            if(className[state] === undefined) {\n              return false;\n            }\n            return $module.hasClass( className[state] );\n          },\n\n          enabled: function() {\n            return !( $module.is(settings.filter.active) );\n          },\n          disabled: function() {\n            return ( $module.is(settings.filter.active) );\n          },\n          textEnabled: function() {\n            return !( $module.is(settings.filter.text) );\n          },\n\n          // definitions for automatic type detection\n          button: function() {\n            return $module.is('.button:not(a, .submit)');\n          },\n          input: function() {\n            return $module.is('input');\n          },\n          progress: function() {\n            return $module.is('.ui.progress');\n          }\n        },\n\n        allow: function(state) {\n          module.debug('Now allowing state', state);\n          states[state] = true;\n        },\n        disallow: function(state) {\n          module.debug('No longer allowing', state);\n          states[state] = false;\n        },\n\n        allows: function(state) {\n          return states[state] || false;\n        },\n\n        enable: function() {\n          $module.removeClass(className.disabled);\n        },\n\n        disable: function() {\n          $module.addClass(className.disabled);\n        },\n\n        setState: function(state) {\n          if(module.allows(state)) {\n            $module.addClass( className[state] );\n          }\n        },\n\n        removeState: function(state) {\n          if(module.allows(state)) {\n            $module.removeClass( className[state] );\n          }\n        },\n\n        toggle: {\n          state: function() {\n            var\n              apiRequest,\n              requestCancelled\n            ;\n            if( module.allows('active') && module.is.enabled() ) {\n              module.refresh();\n              if($.fn.api !== undefined) {\n                apiRequest       = $module.api('get request');\n                requestCancelled = $module.api('was cancelled');\n                if( requestCancelled ) {\n                  module.debug('API Request cancelled by beforesend');\n                  settings.activateTest   = function(){ return false; };\n                  settings.deactivateTest = function(){ return false; };\n                }\n                else if(apiRequest) {\n                  module.listenTo(apiRequest);\n                  return;\n                }\n              }\n              module.change.state();\n            }\n          }\n        },\n\n        listenTo: function(apiRequest) {\n          module.debug('API request detected, waiting for state signal', apiRequest);\n          if(apiRequest) {\n            if(text.loading) {\n              module.update.text(text.loading);\n            }\n            $.when(apiRequest)\n              .then(function() {\n                if(apiRequest.state() == 'resolved') {\n                  module.debug('API request succeeded');\n                  settings.activateTest   = function(){ return true; };\n                  settings.deactivateTest = function(){ return true; };\n                }\n                else {\n                  module.debug('API request failed');\n                  settings.activateTest   = function(){ return false; };\n                  settings.deactivateTest = function(){ return false; };\n                }\n                module.change.state();\n              })\n            ;\n          }\n        },\n\n        // checks whether active/inactive state can be given\n        change: {\n\n          state: function() {\n            module.debug('Determining state change direction');\n            // inactive to active change\n            if( module.is.inactive() ) {\n              module.activate();\n            }\n            else {\n              module.deactivate();\n            }\n            if(settings.sync) {\n              module.sync();\n            }\n            settings.onChange.call(element);\n          },\n\n          text: function() {\n            if( module.is.textEnabled() ) {\n              if(module.is.disabled() ) {\n                module.verbose('Changing text to disabled text', text.hover);\n                module.update.text(text.disabled);\n              }\n              else if( module.is.active() ) {\n                if(text.hover) {\n                  module.verbose('Changing text to hover text', text.hover);\n                  module.update.text(text.hover);\n                }\n                else if(text.deactivate) {\n                  module.verbose('Changing text to deactivating text', text.deactivate);\n                  module.update.text(text.deactivate);\n                }\n              }\n              else {\n                if(text.hover) {\n                  module.verbose('Changing text to hover text', text.hover);\n                  module.update.text(text.hover);\n                }\n                else if(text.activate){\n                  module.verbose('Changing text to activating text', text.activate);\n                  module.update.text(text.activate);\n                }\n              }\n            }\n          }\n\n        },\n\n        activate: function() {\n          if( settings.activateTest.call(element) ) {\n            module.debug('Setting state to active');\n            $module\n              .addClass(className.active)\n            ;\n            module.update.text(text.active);\n            settings.onActivate.call(element);\n          }\n        },\n\n        deactivate: function() {\n          if( settings.deactivateTest.call(element) ) {\n            module.debug('Setting state to inactive');\n            $module\n              .removeClass(className.active)\n            ;\n            module.update.text(text.inactive);\n            settings.onDeactivate.call(element);\n          }\n        },\n\n        sync: function() {\n          module.verbose('Syncing other buttons to current state');\n          if( module.is.active() ) {\n            $allModules\n              .not($module)\n                .state('activate');\n          }\n          else {\n            $allModules\n              .not($module)\n                .state('deactivate')\n            ;\n          }\n        },\n\n        get: {\n          text: function() {\n            return (settings.selector.text)\n              ? $module.find(settings.selector.text).text()\n              : $module.html()\n            ;\n          },\n          textFor: function(state) {\n            return text[state] || false;\n          }\n        },\n\n        flash: {\n          text: function(text, duration, callback) {\n            var\n              previousText = module.get.text()\n            ;\n            module.debug('Flashing text message', text, duration);\n            text     = text     || settings.text.flash;\n            duration = duration || settings.flashDuration;\n            callback = callback || function() {};\n            module.update.text(text);\n            setTimeout(function(){\n              module.update.text(previousText);\n              callback.call(element);\n            }, duration);\n          }\n        },\n\n        reset: {\n          // on mouseout sets text to previous value\n          text: function() {\n            var\n              activeText   = text.active   || $module.data(metadata.storedText),\n              inactiveText = text.inactive || $module.data(metadata.storedText)\n            ;\n            if( module.is.textEnabled() ) {\n              if( module.is.active() && activeText) {\n                module.verbose('Resetting active text', activeText);\n                module.update.text(activeText);\n              }\n              else if(inactiveText) {\n                module.verbose('Resetting inactive text', activeText);\n                module.update.text(inactiveText);\n              }\n            }\n          }\n        },\n\n        update: {\n          text: function(text) {\n            var\n              currentText = module.get.text()\n            ;\n            if(text && text !== currentText) {\n              module.debug('Updating text', text);\n              if(settings.selector.text) {\n                $module\n                  .data(metadata.storedText, text)\n                  .find(settings.selector.text)\n                    .text(text)\n                ;\n              }\n              else {\n                $module\n                  .data(metadata.storedText, text)\n                  .html(text)\n                ;\n              }\n            }\n            else {\n              module.debug('Text is already set, ignoring update', text);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.state.settings = {\n\n  // module info\n  name           : 'State',\n\n  // debug output\n  debug          : false,\n\n  // verbose debug output\n  verbose        : false,\n\n  // namespace for events\n  namespace      : 'state',\n\n  // debug data includes performance\n  performance    : true,\n\n  // callback occurs on state change\n  onActivate     : function() {},\n  onDeactivate   : function() {},\n  onChange       : function() {},\n\n  // state test functions\n  activateTest   : function() { return true; },\n  deactivateTest : function() { return true; },\n\n  // whether to automatically map default states\n  automatic      : true,\n\n  // activate / deactivate changes all elements instantiated at same time\n  sync           : false,\n\n  // default flash text duration, used for temporarily changing text of an element\n  flashDuration  : 1000,\n\n  // selector filter\n  filter     : {\n    text   : '.loading, .disabled',\n    active : '.disabled'\n  },\n\n  context    : false,\n\n  // error\n  error: {\n    beforeSend : 'The before send function has cancelled state change',\n    method     : 'The method you called is not defined.'\n  },\n\n  // metadata\n  metadata: {\n    promise    : 'promise',\n    storedText : 'stored-text'\n  },\n\n  // change class on state\n  className: {\n    active   : 'active',\n    disabled : 'disabled',\n    error    : 'error',\n    loading  : 'loading',\n    success  : 'success',\n    warning  : 'warning'\n  },\n\n  selector: {\n    // selector for text node\n    text: false\n  },\n\n  defaults : {\n    input: {\n      disabled : true,\n      loading  : true,\n      active   : true\n    },\n    button: {\n      disabled : true,\n      loading  : true,\n      active   : true,\n    },\n    progress: {\n      active   : true,\n      success  : true,\n      warning  : true,\n      error    : true\n    }\n  },\n\n  states     : {\n    active   : true,\n    disabled : true,\n    error    : true,\n    loading  : true,\n    success  : true,\n    warning  : true\n  },\n\n  text     : {\n    disabled   : false,\n    flash      : false,\n    hover      : false,\n    active     : false,\n    inactive   : false,\n    activate   : false,\n    deactivate : false\n  }\n\n};\n\n\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Visibility\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.visibility = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue,\n\n    moduleCount    = $allModules.length,\n    loadedCount    = 0\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.visibility.settings, parameters)\n          : $.extend({}, $.fn.visibility.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n        metadata        = settings.metadata,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $placeholder,\n\n        selector        = $module.selector || '',\n        instance        = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n        disabled        = false,\n\n        contextObserver,\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', settings);\n\n          module.setup.cache();\n\n          if( module.should.trackChanges() ) {\n\n            if(settings.type == 'image') {\n              module.setup.image();\n            }\n            if(settings.type == 'fixed') {\n              module.setup.fixed();\n            }\n\n            if(settings.observeChanges) {\n              module.observeChanges();\n            }\n            module.bind.events();\n          }\n\n          module.save.position();\n          if( !module.is.visible() ) {\n            module.error(error.visible, $module);\n          }\n\n          if(settings.initialCheck) {\n            module.checkVisibility();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.debug('Storing instance', module);\n          $module\n            .data(moduleNamespace, module)\n          ;\n          instance = module;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module');\n          if(observer) {\n            observer.disconnect();\n          }\n          if(contextObserver) {\n            contextObserver.disconnect();\n          }\n          $window\n            .off('load'   + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $context\n            .off('scroll'       + eventNamespace, module.event.scroll)\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n            module.remove.placeholder();\n          }\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            contextObserver = new MutationObserver(module.event.contextChanged);\n            observer        = new MutationObserver(module.event.changed);\n            contextObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding visibility events to scroll and resize');\n            if(settings.refreshOnLoad) {\n              $window\n                .on('load'   + eventNamespace, module.event.load)\n              ;\n            }\n            $window\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $context\n              .off('scroll'      + eventNamespace)\n              .on('scroll'       + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            module.verbose('DOM tree modified, updating visibility calculations');\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu');\n              module.refresh();\n            }, 100);\n          },\n          contextChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          resize: function() {\n            module.debug('Window resized');\n            if(settings.refreshOnResize) {\n              requestAnimationFrame(module.refresh);\n            }\n          },\n          load: function() {\n            module.debug('Page finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          // publishes scrollchange event on one scroll\n          scroll: function() {\n            if(settings.throttle) {\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              }, settings.throttle);\n            }\n            else {\n              requestAnimationFrame(function() {\n                $context.triggerHandler('scrollchange' + eventNamespace, [ $context.scrollTop() ]);\n              });\n            }\n          },\n          // subscribes to scrollchange\n          scrollchange: function(event, scrollPosition) {\n            module.checkVisibility(scrollPosition);\n          },\n        },\n\n        precache: function(images, callback) {\n          if (!(images instanceof Array)) {\n            images = [images];\n          }\n          var\n            imagesLength  = images.length,\n            loadedCounter = 0,\n            cache         = [],\n            cacheImage    = document.createElement('img'),\n            handleLoad    = function() {\n              loadedCounter++;\n              if (loadedCounter >= images.length) {\n                if ($.isFunction(callback)) {\n                  callback();\n                }\n              }\n            }\n          ;\n          while (imagesLength--) {\n            cacheImage         = document.createElement('img');\n            cacheImage.onload  = handleLoad;\n            cacheImage.onerror = handleLoad;\n            cacheImage.src     = images[imagesLength];\n            cache.push(cacheImage);\n          }\n        },\n\n        enableCallbacks: function() {\n          module.debug('Allowing callbacks to occur');\n          disabled = false;\n        },\n\n        disableCallbacks: function() {\n          module.debug('Disabling all callbacks temporarily');\n          disabled = true;\n        },\n\n        should: {\n          trackChanges: function() {\n            if(methodInvoked) {\n              module.debug('One time query, no need to bind events');\n              return false;\n            }\n            module.debug('Callbacks being attached');\n            return true;\n          }\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              occurred : {},\n              screen   : {},\n              element  : {},\n            };\n          },\n          image: function() {\n            var\n              src = $module.data(metadata.src)\n            ;\n            if(src) {\n              module.verbose('Lazy loading image', src);\n              settings.once           = true;\n              settings.observeChanges = false;\n\n              // show when top visible\n              settings.onOnScreen = function() {\n                module.debug('Image on screen', element);\n                module.precache(src, function() {\n                  module.set.image(src, function() {\n                    loadedCount++;\n                    if(loadedCount == moduleCount) {\n                      settings.onAllLoaded.call(this);\n                    }\n                    settings.onLoad.call(this);\n                  });\n                });\n              };\n            }\n          },\n          fixed: function() {\n            module.debug('Setting up fixed');\n            settings.once           = false;\n            settings.observeChanges = false;\n            settings.initialCheck   = true;\n            settings.refreshOnLoad  = true;\n            if(!parameters.transition) {\n              settings.transition = false;\n            }\n            module.create.placeholder();\n            module.debug('Added placeholder', $placeholder);\n            settings.onTopPassed = function() {\n              module.debug('Element passed, adding fixed position', $module);\n              module.show.placeholder();\n              module.set.fixed();\n              if(settings.transition) {\n                if($.fn.transition !== undefined) {\n                  $module.transition(settings.transition, settings.duration);\n                }\n              }\n            };\n            settings.onTopPassedReverse = function() {\n              module.debug('Element returned to position, removing fixed', $module);\n              module.hide.placeholder();\n              module.remove.fixed();\n            };\n          }\n        },\n\n        create: {\n          placeholder: function() {\n            module.verbose('Creating fixed position placeholder');\n            $placeholder = $module\n              .clone(false)\n              .css('display', 'none')\n              .addClass(className.placeholder)\n              .insertAfter($module)\n            ;\n          }\n        },\n\n        show: {\n          placeholder: function() {\n            module.verbose('Showing placeholder');\n            $placeholder\n              .css('display', 'block')\n              .css('visibility', 'hidden')\n            ;\n          }\n        },\n        hide: {\n          placeholder: function() {\n            module.verbose('Hiding placeholder');\n            $placeholder\n              .css('display', 'none')\n              .css('visibility', '')\n            ;\n          }\n        },\n\n        set: {\n          fixed: function() {\n            module.verbose('Setting element to fixed position');\n            $module\n              .addClass(className.fixed)\n              .css({\n                position : 'fixed',\n                top      : settings.offset + 'px',\n                left     : 'auto',\n                zIndex   : settings.zIndex\n              })\n            ;\n            settings.onFixed.call(element);\n          },\n          image: function(src, callback) {\n            $module\n              .attr('src', src)\n            ;\n            if(settings.transition) {\n              if( $.fn.transition !== undefined ) {\n                $module.transition(settings.transition, settings.duration, callback);\n              }\n              else {\n                $module.fadeIn(settings.duration, callback);\n              }\n            }\n            else {\n              $module.show();\n            }\n          }\n        },\n\n        is: {\n          onScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.onScreen;\n          },\n          offScreen: function() {\n            var\n              calculations   = module.get.elementCalculations()\n            ;\n            return calculations.offScreen;\n          },\n          visible: function() {\n            if(module.cache && module.cache.element) {\n              return !(module.cache.element.width === 0 && module.cache.element.offset.top === 0);\n            }\n            return false;\n          }\n        },\n\n        refresh: function() {\n          module.debug('Refreshing constants (width/height)');\n          if(settings.type == 'fixed') {\n            module.resetFixed();\n          }\n          module.reset();\n          module.save.position();\n          if(settings.checkOnRefresh) {\n            module.checkVisibility();\n          }\n          settings.onRefresh.call(element);\n        },\n\n        resetFixed: function () {\n          module.remove.fixed();\n          module.remove.occurred();\n        },\n\n        reset: function() {\n          module.verbose('Resetting all cached values');\n          if( $.isPlainObject(module.cache) ) {\n            module.cache.screen = {};\n            module.cache.element = {};\n          }\n        },\n\n        checkVisibility: function(scroll) {\n          module.verbose('Checking visibility of element', module.cache.element);\n\n          if( !disabled && module.is.visible() ) {\n\n            // save scroll position\n            module.save.scroll(scroll);\n\n            // update calculations derived from scroll\n            module.save.calculations();\n\n            // percentage\n            module.passed();\n\n            // reverse (must be first)\n            module.passingReverse();\n            module.topVisibleReverse();\n            module.bottomVisibleReverse();\n            module.topPassedReverse();\n            module.bottomPassedReverse();\n\n            // one time\n            module.onScreen();\n            module.offScreen();\n            module.passing();\n            module.topVisible();\n            module.bottomVisible();\n            module.topPassed();\n            module.bottomPassed();\n\n            // on update callback\n            if(settings.onUpdate) {\n              settings.onUpdate.call(element, module.get.elementCalculations());\n            }\n          }\n        },\n\n        passed: function(amount, newCallback) {\n          var\n            calculations   = module.get.elementCalculations(),\n            amountInPixels\n          ;\n          // assign callback\n          if(amount && newCallback) {\n            settings.onPassed[amount] = newCallback;\n          }\n          else if(amount !== undefined) {\n            return (module.get.pixelsPassed(amount) > calculations.pixelsPassed);\n          }\n          else if(calculations.passing) {\n            $.each(settings.onPassed, function(amount, callback) {\n              if(calculations.bottomVisible || calculations.pixelsPassed > module.get.pixelsPassed(amount)) {\n                module.execute(callback, amount);\n              }\n              else if(!settings.once) {\n                module.remove.occurred(callback);\n              }\n            });\n          }\n        },\n\n        onScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOnScreen,\n            callbackName = 'onScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for onScreen', newCallback);\n            settings.onOnScreen = newCallback;\n          }\n          if(calculations.onScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOnScreen;\n          }\n        },\n\n        offScreen: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onOffScreen,\n            callbackName = 'offScreen'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for offScreen', newCallback);\n            settings.onOffScreen = newCallback;\n          }\n          if(calculations.offScreen) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.onOffScreen;\n          }\n        },\n\n        passing: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassing,\n            callbackName = 'passing'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing', newCallback);\n            settings.onPassing = newCallback;\n          }\n          if(calculations.passing) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return calculations.passing;\n          }\n        },\n\n\n        topVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisible,\n            callbackName = 'topVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible', newCallback);\n            settings.onTopVisible = newCallback;\n          }\n          if(calculations.topVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topVisible;\n          }\n        },\n\n        bottomVisible: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisible,\n            callbackName = 'bottomVisible'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible', newCallback);\n            settings.onBottomVisible = newCallback;\n          }\n          if(calculations.bottomVisible) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomVisible;\n          }\n        },\n\n        topPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassed,\n            callbackName = 'topPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed', newCallback);\n            settings.onTopPassed = newCallback;\n          }\n          if(calculations.topPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.topPassed;\n          }\n        },\n\n        bottomPassed: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassed,\n            callbackName = 'bottomPassed'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed', newCallback);\n            settings.onBottomPassed = newCallback;\n          }\n          if(calculations.bottomPassed) {\n            module.execute(callback, callbackName);\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return calculations.bottomPassed;\n          }\n        },\n\n        passingReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onPassingReverse,\n            callbackName = 'passingReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for passing reverse', newCallback);\n            settings.onPassingReverse = newCallback;\n          }\n          if(!calculations.passing) {\n            if(module.get.occurred('passing')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback !== undefined) {\n            return !calculations.passing;\n          }\n        },\n\n\n        topVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopVisibleReverse,\n            callbackName = 'topVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top visible reverse', newCallback);\n            settings.onTopVisibleReverse = newCallback;\n          }\n          if(!calculations.topVisible) {\n            if(module.get.occurred('topVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.topVisible;\n          }\n        },\n\n        bottomVisibleReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomVisibleReverse,\n            callbackName = 'bottomVisibleReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom visible reverse', newCallback);\n            settings.onBottomVisibleReverse = newCallback;\n          }\n          if(!calculations.bottomVisible) {\n            if(module.get.occurred('bottomVisible')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomVisible;\n          }\n        },\n\n        topPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onTopPassedReverse,\n            callbackName = 'topPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for top passed reverse', newCallback);\n            settings.onTopPassedReverse = newCallback;\n          }\n          if(!calculations.topPassed) {\n            if(module.get.occurred('topPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.onTopPassed;\n          }\n        },\n\n        bottomPassedReverse: function(newCallback) {\n          var\n            calculations = module.get.elementCalculations(),\n            callback     = newCallback || settings.onBottomPassedReverse,\n            callbackName = 'bottomPassedReverse'\n          ;\n          if(newCallback) {\n            module.debug('Adding callback for bottom passed reverse', newCallback);\n            settings.onBottomPassedReverse = newCallback;\n          }\n          if(!calculations.bottomPassed) {\n            if(module.get.occurred('bottomPassed')) {\n              module.execute(callback, callbackName);\n            }\n          }\n          else if(!settings.once) {\n            module.remove.occurred(callbackName);\n          }\n          if(newCallback === undefined) {\n            return !calculations.bottomPassed;\n          }\n        },\n\n        execute: function(callback, callbackName) {\n          var\n            calculations = module.get.elementCalculations(),\n            screen       = module.get.screenCalculations()\n          ;\n          callback = callback || false;\n          if(callback) {\n            if(settings.continuous) {\n              module.debug('Callback being called continuously', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n            else if(!module.get.occurred(callbackName)) {\n              module.debug('Conditions met', callbackName, calculations);\n              callback.call(element, calculations, screen);\n            }\n          }\n          module.save.occurred(callbackName);\n        },\n\n        remove: {\n          fixed: function() {\n            module.debug('Removing fixed position');\n            $module\n              .removeClass(className.fixed)\n              .css({\n                position : '',\n                top      : '',\n                left     : '',\n                zIndex   : ''\n              })\n            ;\n            settings.onUnfixed.call(element);\n          },\n          placeholder: function() {\n            module.debug('Removing placeholder content');\n            if($placeholder) {\n              $placeholder.remove();\n            }\n          },\n          occurred: function(callback) {\n            if(callback) {\n              var\n                occurred = module.cache.occurred\n              ;\n              if(occurred[callback] !== undefined && occurred[callback] === true) {\n                module.debug('Callback can now be called again', callback);\n                module.cache.occurred[callback] = false;\n              }\n            }\n            else {\n              module.cache.occurred = {};\n            }\n          }\n        },\n\n        save: {\n          calculations: function() {\n            module.verbose('Saving all calculations necessary to determine positioning');\n            module.save.direction();\n            module.save.screenCalculations();\n            module.save.elementCalculations();\n          },\n          occurred: function(callback) {\n            if(callback) {\n              if(module.cache.occurred[callback] === undefined || (module.cache.occurred[callback] !== true)) {\n                module.verbose('Saving callback occurred', callback);\n                module.cache.occurred[callback] = true;\n              }\n            }\n          },\n          scroll: function(scrollPosition) {\n            scrollPosition      = scrollPosition + settings.offset || $context.scrollTop() + settings.offset;\n            module.cache.scroll = scrollPosition;\n          },\n          direction: function() {\n            var\n              scroll     = module.get.scroll(),\n              lastScroll = module.get.lastScroll(),\n              direction\n            ;\n            if(scroll > lastScroll && lastScroll) {\n              direction = 'down';\n            }\n            else if(scroll < lastScroll && lastScroll) {\n              direction = 'up';\n            }\n            else {\n              direction = 'static';\n            }\n            module.cache.direction = direction;\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            var\n              element = module.cache.element,\n              screen  = module.get.screenSize()\n            ;\n            module.verbose('Saving element position');\n            // (quicker than $.extend)\n            element.fits          = (element.height < screen.height);\n            element.offset        = $module.offset();\n            element.width         = $module.outerWidth();\n            element.height        = $module.outerHeight();\n            // store\n            module.cache.element = element;\n            return element;\n          },\n          elementCalculations: function() {\n            var\n              screen     = module.get.screenCalculations(),\n              element    = module.get.elementPosition()\n            ;\n            // offset\n            if(settings.includeMargin) {\n              element.margin        = {};\n              element.margin.top    = parseInt($module.css('margin-top'), 10);\n              element.margin.bottom = parseInt($module.css('margin-bottom'), 10);\n              element.top    = element.offset.top - element.margin.top;\n              element.bottom = element.offset.top + element.height + element.margin.bottom;\n            }\n            else {\n              element.top    = element.offset.top;\n              element.bottom = element.offset.top + element.height;\n            }\n\n            // visibility\n            element.topVisible       = (screen.bottom >= element.top);\n            element.topPassed        = (screen.top >= element.top);\n            element.bottomVisible    = (screen.bottom >= element.bottom);\n            element.bottomPassed     = (screen.top >= element.bottom);\n            element.pixelsPassed     = 0;\n            element.percentagePassed = 0;\n\n            // meta calculations\n            element.onScreen  = (element.topVisible && !element.bottomPassed);\n            element.passing   = (element.topPassed && !element.bottomPassed);\n            element.offScreen = (!element.onScreen);\n\n            // passing calculations\n            if(element.passing) {\n              element.pixelsPassed     = (screen.top - element.top);\n              element.percentagePassed = (screen.top - element.top) / element.height;\n            }\n            module.cache.element = element;\n            module.verbose('Updated element calculations', element);\n            return element;\n          },\n          screenCalculations: function() {\n            var\n              scroll = module.get.scroll()\n            ;\n            module.save.direction();\n            module.cache.screen.top    = scroll;\n            module.cache.screen.bottom = scroll + module.cache.screen.height;\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            module.verbose('Saving window position');\n            module.cache.screen = {\n              height: $context.height()\n            };\n          },\n          position: function() {\n            module.save.screenSize();\n            module.save.elementPosition();\n          }\n        },\n\n        get: {\n          pixelsPassed: function(amount) {\n            var\n              element = module.get.elementCalculations()\n            ;\n            if(amount.search('%') > -1) {\n              return ( element.height * (parseInt(amount, 10) / 100) );\n            }\n            return parseInt(amount, 10);\n          },\n          occurred: function(callback) {\n            return (module.cache.occurred !== undefined)\n              ? module.cache.occurred[callback] || false\n              : false\n            ;\n          },\n          direction: function() {\n            if(module.cache.direction === undefined) {\n              module.save.direction();\n            }\n            return module.cache.direction;\n          },\n          elementPosition: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementPosition();\n            }\n            return module.cache.element;\n          },\n          elementCalculations: function() {\n            if(module.cache.element === undefined) {\n              module.save.elementCalculations();\n            }\n            return module.cache.element;\n          },\n          screenCalculations: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenCalculations();\n            }\n            return module.cache.screen;\n          },\n          screenSize: function() {\n            if(module.cache.screen === undefined) {\n              module.save.screenSize();\n            }\n            return module.cache.screen;\n          },\n          scroll: function() {\n            if(module.cache.scroll === undefined) {\n              module.save.scroll();\n            }\n            return module.cache.scroll;\n          },\n          lastScroll: function() {\n            if(module.cache.screen === undefined) {\n              module.debug('First scroll event, no last scroll could be found');\n              return false;\n            }\n            return module.cache.screen.top;\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        instance.save.scroll();\n        instance.save.calculations();\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.visibility.settings = {\n\n  name                   : 'Visibility',\n  namespace              : 'visibility',\n\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  // whether to use mutation observers to follow changes\n  observeChanges         : true,\n\n  // check position immediately on init\n  initialCheck           : true,\n\n  // whether to refresh calculations after all page images load\n  refreshOnLoad          : true,\n\n  // whether to refresh calculations after page resize event\n  refreshOnResize        : true,\n\n  // should call callbacks on refresh event (resize, etc)\n  checkOnRefresh         : true,\n\n  // callback should only occur one time\n  once                   : true,\n\n  // callback should fire continuously whe evaluates to true\n  continuous             : false,\n\n  // offset to use with scroll top\n  offset                 : 0,\n\n  // whether to include margin in elements position\n  includeMargin          : false,\n\n  // scroll context for visibility checks\n  context                : window,\n\n  // visibility check delay in ms (defaults to animationFrame)\n  throttle               : false,\n\n  // special visibility type (image, fixed)\n  type                   : false,\n\n  // z-index to use with visibility 'fixed'\n  zIndex                 : '10',\n\n  // image only animation settings\n  transition             : 'fade in',\n  duration               : 1000,\n\n  // array of callbacks for percentage\n  onPassed               : {},\n\n  // standard callbacks\n  onOnScreen             : false,\n  onOffScreen            : false,\n  onPassing              : false,\n  onTopVisible           : false,\n  onBottomVisible        : false,\n  onTopPassed            : false,\n  onBottomPassed         : false,\n\n  // reverse callbacks\n  onPassingReverse       : false,\n  onTopVisibleReverse    : false,\n  onBottomVisibleReverse : false,\n  onTopPassedReverse     : false,\n  onBottomPassedReverse  : false,\n\n  // special callbacks for image\n  onLoad                 : function() {},\n  onAllLoaded            : function() {},\n\n  // special callbacks for fixed position\n  onFixed                : function() {},\n  onUnfixed              : function() {},\n\n  // utility callbacks\n  onUpdate               : false, // disabled by default for performance\n  onRefresh              : function(){},\n\n  metadata : {\n    src: 'src'\n  },\n\n  className: {\n    fixed       : 'fixed',\n    placeholder : 'placeholder'\n  },\n\n  error : {\n    method  : 'The method you called is not defined.',\n    visible : 'Element is hidden, you must call refresh after element becomes visible'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Visit\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.visit = $.fn.visit = function(parameters) {\n  var\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.visit.settings, parameters)\n          : $.extend({}, $.fn.visit.settings),\n\n        error           = settings.error,\n        namespace       = settings.namespace,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n        $displays       = $(),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n      module = {\n\n        initialize: function() {\n          if(settings.count) {\n            module.store(settings.key.count, settings.count);\n          }\n          else if(settings.id) {\n            module.add.id(settings.id);\n          }\n          else if(settings.increment && methodInvoked !== 'increment') {\n            module.increment();\n          }\n          module.add.display($module);\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of visit module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        increment: function(id) {\n          var\n            currentValue = module.get.count(),\n            newValue     = +(currentValue) + 1\n          ;\n          if(id) {\n            module.add.id(id);\n          }\n          else {\n            if(newValue > settings.limit && !settings.surpass) {\n              newValue = settings.limit;\n            }\n            module.debug('Incrementing visits', newValue);\n            module.store(settings.key.count, newValue);\n          }\n        },\n\n        decrement: function(id) {\n          var\n            currentValue = module.get.count(),\n            newValue     = +(currentValue) - 1\n          ;\n          if(id) {\n            module.remove.id(id);\n          }\n          else {\n            module.debug('Removing visit');\n            module.store(settings.key.count, newValue);\n          }\n        },\n\n        get: {\n          count: function() {\n            return +(module.retrieve(settings.key.count)) || 0;\n          },\n          idCount: function(ids) {\n            ids = ids || module.get.ids();\n            return ids.length;\n          },\n          ids: function(delimitedIDs) {\n            var\n              idArray = []\n            ;\n            delimitedIDs = delimitedIDs || module.retrieve(settings.key.ids);\n            if(typeof delimitedIDs === 'string') {\n              idArray = delimitedIDs.split(settings.delimiter);\n            }\n            module.verbose('Found visited ID list', idArray);\n            return idArray;\n          },\n          storageOptions: function(data) {\n            var\n              options = {}\n            ;\n            if(settings.expires) {\n              options.expires = settings.expires;\n            }\n            if(settings.domain) {\n              options.domain = settings.domain;\n            }\n            if(settings.path) {\n              options.path = settings.path;\n            }\n            return options;\n          }\n        },\n\n        has: {\n          visited: function(id, ids) {\n            var\n              visited = false\n            ;\n            ids = ids || module.get.ids();\n            if(id !== undefined && ids) {\n              $.each(ids, function(index, value){\n                if(value == id) {\n                  visited = true;\n                }\n              });\n            }\n            return visited;\n          }\n        },\n\n        set: {\n          count: function(value) {\n            module.store(settings.key.count, value);\n          },\n          ids: function(value) {\n            module.store(settings.key.ids, value);\n          }\n        },\n\n        reset: function() {\n          module.store(settings.key.count, 0);\n          module.store(settings.key.ids, null);\n        },\n\n        add: {\n          id: function(id) {\n            var\n              currentIDs = module.retrieve(settings.key.ids),\n              newIDs = (currentIDs === undefined || currentIDs === '')\n                ? id\n                : currentIDs + settings.delimiter + id\n            ;\n            if( module.has.visited(id) ) {\n              module.debug('Unique content already visited, not adding visit', id, currentIDs);\n            }\n            else if(id === undefined) {\n              module.debug('ID is not defined');\n            }\n            else {\n              module.debug('Adding visit to unique content', id);\n              module.store(settings.key.ids, newIDs);\n            }\n            module.set.count( module.get.idCount() );\n          },\n          display: function(selector) {\n            var\n              $element = $(selector)\n            ;\n            if($element.length > 0 && !$.isWindow($element[0])) {\n              module.debug('Updating visit count for element', $element);\n              $displays = ($displays.length > 0)\n                ? $displays.add($element)\n                : $element\n              ;\n            }\n          }\n        },\n\n        remove: {\n          id: function(id) {\n            var\n              currentIDs = module.get.ids(),\n              newIDs     = []\n            ;\n            if(id !== undefined && currentIDs !== undefined) {\n              module.debug('Removing visit to unique content', id, currentIDs);\n              $.each(currentIDs, function(index, value){\n                if(value !== id) {\n                  newIDs.push(value);\n                }\n              });\n              newIDs = newIDs.join(settings.delimiter);\n              module.store(settings.key.ids, newIDs );\n            }\n            module.set.count( module.get.idCount() );\n          }\n        },\n\n        check: {\n          limit: function(value) {\n            value = value || module.get.count();\n            if(settings.limit) {\n              if(value >= settings.limit) {\n                module.debug('Pages viewed exceeded limit, firing callback', value, settings.limit);\n                settings.onLimit.call(element, value);\n              }\n              module.debug('Limit not reached', value, settings.limit);\n              settings.onChange.call(element, value);\n            }\n            module.update.display(value);\n          }\n        },\n\n        update: {\n          display: function(value) {\n            value = value || module.get.count();\n            if($displays.length > 0) {\n              module.debug('Updating displayed view count', $displays);\n              $displays.html(value);\n            }\n          }\n        },\n\n        store: function(key, value) {\n          var\n            options = module.get.storageOptions(value)\n          ;\n          if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n            window.localStorage.setItem(key, value);\n            module.debug('Value stored using local storage', key, value);\n          }\n          else if($.cookie !== undefined) {\n            $.cookie(key, value, options);\n            module.debug('Value stored using cookie', key, value, options);\n          }\n          else {\n            module.error(error.noCookieStorage);\n            return;\n          }\n          if(key == settings.key.count) {\n            module.check.limit(value);\n          }\n        },\n        retrieve: function(key, value) {\n          var\n            storedValue\n          ;\n          if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n            storedValue = window.localStorage.getItem(key);\n          }\n          // get by cookie\n          else if($.cookie !== undefined) {\n            storedValue = $.cookie(key);\n          }\n          else {\n            module.error(error.noCookieStorage);\n          }\n          if(storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n            storedValue = undefined;\n          }\n          return storedValue;\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          module.debug('Changing internal', name, value);\n          if(value !== undefined) {\n            if( $.isPlainObject(name) ) {\n              $.extend(true, module, name);\n            }\n            else {\n              module[name] = value;\n            }\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.visit.settings = {\n\n  name          : 'Visit',\n\n  debug         : false,\n  verbose       : false,\n  performance   : true,\n\n  namespace     : 'visit',\n\n  increment     : false,\n  surpass       : false,\n  count         : false,\n  limit         : false,\n\n  delimiter     : '&',\n  storageMethod : 'localstorage',\n\n  key           : {\n    count : 'visit-count',\n    ids   : 'visit-ids'\n  },\n\n  expires       : 30,\n  domain        : false,\n  path          : '/',\n\n  onLimit       : function() {},\n  onChange      : function() {},\n\n  error         : {\n    method          : 'The method you called is not defined',\n    missingPersist  : 'Using the persist setting requires the inclusion of PersistJS',\n    noCookieStorage : 'The default storage cookie requires $.cookie to be included.'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Site\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n$.site = $.fn.site = function(parameters) {\n  var\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    settings        = ( $.isPlainObject(parameters) )\n      ? $.extend(true, {}, $.site.settings, parameters)\n      : $.extend({}, $.site.settings),\n\n    namespace       = settings.namespace,\n    error           = settings.error,\n\n    eventNamespace  = '.' + namespace,\n    moduleNamespace = 'module-' + namespace,\n\n    $document       = $(document),\n    $module         = $document,\n    element         = this,\n    instance        = $module.data(moduleNamespace),\n\n    module,\n    returnedValue\n  ;\n  module = {\n\n    initialize: function() {\n      module.instantiate();\n    },\n\n    instantiate: function() {\n      module.verbose('Storing instance of site', module);\n      instance = module;\n      $module\n        .data(moduleNamespace, module)\n      ;\n    },\n\n    normalize: function() {\n      module.fix.console();\n      module.fix.requestAnimationFrame();\n    },\n\n    fix: {\n      console: function() {\n        module.debug('Normalizing window.console');\n        if (console === undefined || console.log === undefined) {\n          module.verbose('Console not available, normalizing events');\n          module.disable.console();\n        }\n        if (typeof console.group == 'undefined' || typeof console.groupEnd == 'undefined' || typeof console.groupCollapsed == 'undefined') {\n          module.verbose('Console group not available, normalizing events');\n          window.console.group = function() {};\n          window.console.groupEnd = function() {};\n          window.console.groupCollapsed = function() {};\n        }\n        if (typeof console.markTimeline == 'undefined') {\n          module.verbose('Mark timeline not available, normalizing events');\n          window.console.markTimeline = function() {};\n        }\n      },\n      consoleClear: function() {\n        module.debug('Disabling programmatic console clearing');\n        window.console.clear = function() {};\n      },\n      requestAnimationFrame: function() {\n        module.debug('Normalizing requestAnimationFrame');\n        if(window.requestAnimationFrame === undefined) {\n          module.debug('RequestAnimationFrame not available, normalizing event');\n          window.requestAnimationFrame = window.requestAnimationFrame\n            || window.mozRequestAnimationFrame\n            || window.webkitRequestAnimationFrame\n            || window.msRequestAnimationFrame\n            || function(callback) { setTimeout(callback, 0); }\n          ;\n        }\n      }\n    },\n\n    moduleExists: function(name) {\n      return ($.fn[name] !== undefined && $.fn[name].settings !== undefined);\n    },\n\n    enabled: {\n      modules: function(modules) {\n        var\n          enabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(module.moduleExists(name)) {\n            enabledModules.push(name);\n          }\n        });\n        return enabledModules;\n      }\n    },\n\n    disabled: {\n      modules: function(modules) {\n        var\n          disabledModules = []\n        ;\n        modules = modules || settings.modules;\n        $.each(modules, function(index, name) {\n          if(!module.moduleExists(name)) {\n            disabledModules.push(name);\n          }\n        });\n        return disabledModules;\n      }\n    },\n\n    change: {\n      setting: function(setting, value, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? (modules === 'all')\n            ? settings.modules\n            : [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            namespace = (module.moduleExists(name))\n              ? $.fn[name].settings.namespace || false\n              : true,\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', setting, value, name);\n            $.fn[name].settings[setting] = value;\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', setting, value);\n              }\n            }\n          }\n        });\n      },\n      settings: function(newSettings, modules, modifyExisting) {\n        modules = (typeof modules === 'string')\n          ? [modules]\n          : modules || settings.modules\n        ;\n        modifyExisting = (modifyExisting !== undefined)\n          ? modifyExisting\n          : true\n        ;\n        $.each(modules, function(index, name) {\n          var\n            $existingModules\n          ;\n          if(module.moduleExists(name)) {\n            module.verbose('Changing default setting', newSettings, name);\n            $.extend(true, $.fn[name].settings, newSettings);\n            if(modifyExisting && namespace) {\n              $existingModules = $(':data(module-' + namespace + ')');\n              if($existingModules.length > 0) {\n                module.verbose('Modifying existing settings', $existingModules);\n                $existingModules[name]('setting', newSettings);\n              }\n            }\n          }\n        });\n      }\n    },\n\n    enable: {\n      console: function() {\n        module.console(true);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling debug for modules', modules);\n        module.change.setting('debug', true, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Enabling verbose debug for modules', modules);\n        module.change.setting('verbose', true, modules, modifyExisting);\n      }\n    },\n    disable: {\n      console: function() {\n        module.console(false);\n      },\n      debug: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling debug for modules', modules);\n        module.change.setting('debug', false, modules, modifyExisting);\n      },\n      verbose: function(modules, modifyExisting) {\n        modules = modules || settings.modules;\n        module.debug('Disabling verbose debug for modules', modules);\n        module.change.setting('verbose', false, modules, modifyExisting);\n      }\n    },\n\n    console: function(enable) {\n      if(enable) {\n        if(instance.cache.console === undefined) {\n          module.error(error.console);\n          return;\n        }\n        module.debug('Restoring console function');\n        window.console = instance.cache.console;\n      }\n      else {\n        module.debug('Disabling console function');\n        instance.cache.console = window.console;\n        window.console = {\n          clear          : function(){},\n          error          : function(){},\n          group          : function(){},\n          groupCollapsed : function(){},\n          groupEnd       : function(){},\n          info           : function(){},\n          log            : function(){},\n          markTimeline   : function(){},\n          warn           : function(){}\n        };\n      }\n    },\n\n    destroy: function() {\n      module.verbose('Destroying previous site for', $module);\n      $module\n        .removeData(moduleNamespace)\n      ;\n    },\n\n    cache: {},\n\n    setting: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, settings, name);\n      }\n      else if(value !== undefined) {\n        settings[name] = value;\n      }\n      else {\n        return settings[name];\n      }\n    },\n    internal: function(name, value) {\n      if( $.isPlainObject(name) ) {\n        $.extend(true, module, name);\n      }\n      else if(value !== undefined) {\n        module[name] = value;\n      }\n      else {\n        return module[name];\n      }\n    },\n    debug: function() {\n      if(settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.debug.apply(console, arguments);\n        }\n      }\n    },\n    verbose: function() {\n      if(settings.verbose && settings.debug) {\n        if(settings.performance) {\n          module.performance.log(arguments);\n        }\n        else {\n          module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n          module.verbose.apply(console, arguments);\n        }\n      }\n    },\n    error: function() {\n      module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n      module.error.apply(console, arguments);\n    },\n    performance: {\n      log: function(message) {\n        var\n          currentTime,\n          executionTime,\n          previousTime\n        ;\n        if(settings.performance) {\n          currentTime   = new Date().getTime();\n          previousTime  = time || currentTime;\n          executionTime = currentTime - previousTime;\n          time          = currentTime;\n          performance.push({\n            'Element'        : element,\n            'Name'           : message[0],\n            'Arguments'      : [].slice.call(message, 1) || '',\n            'Execution Time' : executionTime\n          });\n        }\n        clearTimeout(module.performance.timer);\n        module.performance.timer = setTimeout(module.performance.display, 500);\n      },\n      display: function() {\n        var\n          title = settings.name + ':',\n          totalTime = 0\n        ;\n        time = false;\n        clearTimeout(module.performance.timer);\n        $.each(performance, function(index, data) {\n          totalTime += data['Execution Time'];\n        });\n        title += ' ' + totalTime + 'ms';\n        if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n          console.groupCollapsed(title);\n          if(console.table) {\n            console.table(performance);\n          }\n          else {\n            $.each(performance, function(index, data) {\n              console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n            });\n          }\n          console.groupEnd();\n        }\n        performance = [];\n      }\n    },\n    invoke: function(query, passedArguments, context) {\n      var\n        object = instance,\n        maxDepth,\n        found,\n        response\n      ;\n      passedArguments = passedArguments || queryArguments;\n      context         = element         || context;\n      if(typeof query == 'string' && object !== undefined) {\n        query    = query.split(/[\\. ]/);\n        maxDepth = query.length - 1;\n        $.each(query, function(depth, value) {\n          var camelCaseValue = (depth != maxDepth)\n            ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n            : query\n          ;\n          if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n            object = object[camelCaseValue];\n          }\n          else if( object[camelCaseValue] !== undefined ) {\n            found = object[camelCaseValue];\n            return false;\n          }\n          else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n            object = object[value];\n          }\n          else if( object[value] !== undefined ) {\n            found = object[value];\n            return false;\n          }\n          else {\n            module.error(error.method, query);\n            return false;\n          }\n        });\n      }\n      if ( $.isFunction( found ) ) {\n        response = found.apply(context, passedArguments);\n      }\n      else if(found !== undefined) {\n        response = found;\n      }\n      if($.isArray(returnedValue)) {\n        returnedValue.push(response);\n      }\n      else if(returnedValue !== undefined) {\n        returnedValue = [returnedValue, response];\n      }\n      else if(response !== undefined) {\n        returnedValue = response;\n      }\n      return found;\n    }\n  };\n\n  if(methodInvoked) {\n    if(instance === undefined) {\n      module.initialize();\n    }\n    module.invoke(query);\n  }\n  else {\n    if(instance !== undefined) {\n      module.destroy();\n    }\n    module.initialize();\n  }\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.site.settings = {\n\n  name        : 'Site',\n  namespace   : 'site',\n\n  error : {\n    console : 'Console cannot be restored, most likely it was overwritten outside of module',\n    method : 'The method you called is not defined.'\n  },\n\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  modules: [\n    'accordion',\n    'api',\n    'checkbox',\n    'dimmer',\n    'dropdown',\n    'embed',\n    'form',\n    'modal',\n    'nag',\n    'popup',\n    'rating',\n    'shape',\n    'sidebar',\n    'state',\n    'sticky',\n    'tab',\n    'transition',\n    'visit',\n    'visibility'\n  ],\n\n  siteNamespace   : 'site',\n  namespaceStub   : {\n    cache     : {},\n    config    : {},\n    sections  : {},\n    section   : {},\n    utilities : {}\n  }\n\n};\n\n// allows for selection of elements with data attributes\n$.extend($.expr[ \":\" ], {\n  data: ($.expr.createPseudo)\n    ? $.expr.createPseudo(function(dataName) {\n        return function(elem) {\n          return !!$.data(elem, dataName);\n        };\n      })\n    : function(elem, i, match) {\n      // support: jQuery < 1.8\n      return !!$.data(elem, match[ 3 ]);\n    }\n});\n\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Accordion\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.accordion = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.accordion.settings, parameters)\n          : $.extend({}, $.fn.accordion.settings),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        $module  = $(this),\n        $title   = $module.find(selector.title),\n        $content = $module.find(selector.content),\n\n        element  = this,\n        instance = $module.data(moduleNamespace),\n        observer,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous instance', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $title   = $module.find(selector.title);\n          $content = $module.find(selector.content);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding delegated events');\n            $module\n              .on(settings.on + eventNamespace, selector.trigger, module.event.click)\n            ;\n          }\n        },\n\n        event: {\n          click: function() {\n            module.toggle.call(this);\n          }\n        },\n\n        toggle: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive && !isAnimating),\n            isOpening   = (!isActive && isAnimating)\n          ;\n          module.debug('Toggling visibility of content', $activeTitle);\n          if(isOpen || isOpening) {\n            if(settings.collapsible) {\n              module.close.call($activeTitle);\n            }\n            else {\n              module.debug('Cannot close accordion content collapsing is disabled');\n            }\n          }\n          else {\n            module.open.call($activeTitle);\n          }\n        },\n\n        open: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating = $activeContent.hasClass(className.animating),\n            isActive    = $activeContent.hasClass(className.active),\n            isOpen      = (isActive || isAnimating)\n          ;\n          if(isOpen) {\n            module.debug('Accordion already open, skipping', $activeContent);\n            return;\n          }\n          module.debug('Opening accordion content', $activeTitle);\n          settings.onOpening.call($activeContent);\n          if(settings.exclusive) {\n            module.closeOthers.call($activeTitle);\n          }\n          $activeTitle\n            .addClass(className.active)\n          ;\n          $activeContent\n            .stop(true, true)\n            .addClass(className.animating)\n          ;\n          if(settings.animateChildren) {\n            if($.fn.transition !== undefined && $module.transition('is supported')) {\n              $activeContent\n                .children()\n                  .transition({\n                    animation   : 'fade in',\n                    queue       : false,\n                    useFailSafe : true,\n                    debug       : settings.debug,\n                    verbose     : settings.verbose,\n                    duration    : settings.duration\n                  })\n              ;\n            }\n            else {\n              $activeContent\n                .children()\n                  .stop(true, true)\n                  .animate({\n                    opacity: 1\n                  }, settings.duration, module.resetOpacity)\n              ;\n            }\n          }\n          $activeContent\n            .slideDown(settings.duration, settings.easing, function() {\n              $activeContent\n                .removeClass(className.animating)\n                .addClass(className.active)\n              ;\n              module.reset.display.call(this);\n              settings.onOpen.call(this);\n              settings.onChange.call(this);\n            })\n          ;\n        },\n\n        close: function(query) {\n          var\n            $activeTitle = (query !== undefined)\n              ? (typeof query === 'number')\n                ? $title.eq(query)\n                : $(query).closest(selector.title)\n              : $(this).closest(selector.title),\n            $activeContent = $activeTitle.next($content),\n            isAnimating    = $activeContent.hasClass(className.animating),\n            isActive       = $activeContent.hasClass(className.active),\n            isOpening      = (!isActive && isAnimating),\n            isClosing      = (isActive && isAnimating)\n          ;\n          if((isActive || isOpening) && !isClosing) {\n            module.debug('Closing accordion content', $activeContent);\n            settings.onClosing.call($activeContent);\n            $activeTitle\n              .removeClass(className.active)\n            ;\n            $activeContent\n              .stop(true, true)\n              .addClass(className.animating)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $activeContent\n                  .children()\n                    .transition({\n                      animation   : 'fade out',\n                      queue       : false,\n                      useFailSafe : true,\n                      debug       : settings.debug,\n                      verbose     : settings.verbose,\n                      duration    : settings.duration\n                    })\n                ;\n              }\n              else {\n                $activeContent\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $activeContent\n              .slideUp(settings.duration, settings.easing, function() {\n                $activeContent\n                  .removeClass(className.animating)\n                  .removeClass(className.active)\n                ;\n                module.reset.display.call(this);\n                settings.onClose.call(this);\n                settings.onChange.call(this);\n              })\n            ;\n          }\n        },\n\n        closeOthers: function(index) {\n          var\n            $activeTitle = (index !== undefined)\n              ? $title.eq(index)\n              : $(this).closest(selector.title),\n            $parentTitles    = $activeTitle.parents(selector.content).prev(selector.title),\n            $activeAccordion = $activeTitle.closest(selector.accordion),\n            activeSelector   = selector.title + '.' + className.active + ':visible',\n            activeContent    = selector.content + '.' + className.active + ':visible',\n            $openTitles,\n            $nestedTitles,\n            $openContents\n          ;\n          if(settings.closeNested) {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $openContents = $openTitles.next($content);\n          }\n          else {\n            $openTitles   = $activeAccordion.find(activeSelector).not($parentTitles);\n            $nestedTitles = $activeAccordion.find(activeContent).find(activeSelector).not($parentTitles);\n            $openTitles   = $openTitles.not($nestedTitles);\n            $openContents = $openTitles.next($content);\n          }\n          if( ($openTitles.length > 0) ) {\n            module.debug('Exclusive enabled, closing other content', $openTitles);\n            $openTitles\n              .removeClass(className.active)\n            ;\n            $openContents\n              .removeClass(className.animating)\n              .stop(true, true)\n            ;\n            if(settings.animateChildren) {\n              if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $openContents\n                  .children()\n                    .transition({\n                      animation   : 'fade out',\n                      useFailSafe : true,\n                      debug       : settings.debug,\n                      verbose     : settings.verbose,\n                      duration    : settings.duration\n                    })\n                ;\n              }\n              else {\n                $openContents\n                  .children()\n                    .stop(true, true)\n                    .animate({\n                      opacity: 0\n                    }, settings.duration, module.resetOpacity)\n                ;\n              }\n            }\n            $openContents\n              .slideUp(settings.duration , settings.easing, function() {\n                $(this).removeClass(className.active);\n                module.reset.display.call(this);\n              })\n            ;\n          }\n        },\n\n        reset: {\n\n          display: function() {\n            module.verbose('Removing inline display from element', this);\n            $(this).css('display', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n          opacity: function() {\n            module.verbose('Removing inline opacity from element', this);\n            $(this).css('opacity', '');\n            if( $(this).attr('style') === '') {\n              $(this)\n                .attr('style', '')\n                .removeAttr('style')\n              ;\n            }\n          },\n\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          module.debug('Changing internal', name, value);\n          if(value !== undefined) {\n            if( $.isPlainObject(name) ) {\n              $.extend(true, module, name);\n            }\n            else {\n              module[name] = value;\n            }\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.accordion.settings = {\n\n  name            : 'Accordion',\n  namespace       : 'accordion',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  on              : 'click', // event on title that opens accordion\n\n  observeChanges  : true,  // whether accordion should automatically refresh on DOM insertion\n\n  exclusive       : true,  // whether a single accordion content panel should be open at once\n  collapsible     : true,  // whether accordion content can be closed\n  closeNested     : false, // whether nested content should be closed when a panel is closed\n  animateChildren : true,  // whether children opacity should be animated\n\n  duration        : 350, // duration of animation\n  easing          : 'easeOutQuad', // easing equation for animation\n\n\n  onOpening       : function(){}, // callback before open animation\n  onOpen          : function(){}, // callback after open animation\n  onClosing       : function(){}, // callback before closing animation\n  onClose         : function(){}, // callback after closing animation\n  onChange        : function(){}, // callback after closing or opening animation\n\n  error: {\n    method : 'The method you called is not defined'\n  },\n\n  className   : {\n    active    : 'active',\n    animating : 'animating'\n  },\n\n  selector    : {\n    accordion : '.accordion',\n    title     : '.title',\n    trigger   : '.title',\n    content   : '.content'\n  }\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Checkbox\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.checkbox = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = $.extend(true, {}, $.fn.checkbox.settings, parameters),\n\n        className       = settings.className,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $label          = $(this).children(selector.label),\n        $input          = $(this).children(selector.input),\n        input           = $input[0],\n\n        initialLoad     = false,\n        shortcutPressed = false,\n        instance        = $module.data(moduleNamespace),\n\n        observer,\n        element         = this,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.verbose('Initializing checkbox', settings);\n\n          module.create.label();\n          module.bind.events();\n\n          module.set.tabbable();\n          module.hide.input();\n\n          module.observeChanges();\n          module.instantiate();\n          module.setup();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying module');\n          module.unbind.events();\n          module.show.input();\n          $module.removeData(moduleNamespace);\n        },\n\n        fix: {\n          reference: function() {\n            if( $module.is(selector.input) ) {\n              module.debug('Behavior called on <input> adjusting invoked element');\n              $module = $module.closest(selector.checkbox);\n              module.refresh();\n            }\n          }\n        },\n\n        setup: function() {\n          module.set.initialLoad();\n          if( module.is.indeterminate() ) {\n            module.debug('Initial value is indeterminate');\n            module.indeterminate();\n          }\n          else if( module.is.checked() ) {\n            module.debug('Initial value is checked');\n            module.check();\n          }\n          else {\n            module.debug('Initial value is unchecked');\n            module.uncheck();\n          }\n          module.remove.initialLoad();\n        },\n\n        refresh: function() {\n          $label = $module.children(selector.label);\n          $input = $module.children(selector.input);\n          input  = $input[0];\n        },\n\n        hide: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be unselectable');\n            $input.addClass(className.hidden);\n          }\n        },\n        show: {\n          input: function() {\n            module.verbose('Modifying <input> z-index to be selectable');\n            $input.removeClass(className.hidden);\n          }\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, updating selector cache');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $element = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($element.length > 0) {\n            module.debug('Attaching checkbox events to element', selector, event);\n            $element\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound);\n          }\n        },\n\n        event: {\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            if( $target.is(selector.input) ) {\n              module.verbose('Using default check action on initialized checkbox');\n              return;\n            }\n            if( $target.is(selector.link) ) {\n              module.debug('Clicking link inside checkbox, skipping toggle');\n              return;\n            }\n            module.toggle();\n            $input.focus();\n            event.preventDefault();\n          },\n          keydown: function(event) {\n            var\n              key     = event.which,\n              keyCode = {\n                enter  : 13,\n                space  : 32,\n                escape : 27\n              }\n            ;\n            if(key == keyCode.escape) {\n              module.verbose('Escape key pressed blurring field');\n              $input.blur();\n              shortcutPressed = true;\n            }\n            else if(!event.ctrlKey && ( key == keyCode.space || key == keyCode.enter) ) {\n              module.verbose('Enter/space key pressed, toggling checkbox');\n              module.toggle();\n              shortcutPressed = true;\n            }\n            else {\n              shortcutPressed = false;\n            }\n          },\n          keyup: function(event) {\n            if(shortcutPressed) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        check: function() {\n          if( !module.should.allowCheck() ) {\n            return;\n          }\n          module.debug('Checking checkbox', $input);\n          module.set.checked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onChecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        uncheck: function() {\n          if( !module.should.allowUncheck() ) {\n            return;\n          }\n          module.debug('Unchecking checkbox');\n          module.set.unchecked();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onUnchecked.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        indeterminate: function() {\n          if( module.should.allowIndeterminate() ) {\n            module.debug('Checkbox is already indeterminate');\n            return;\n          }\n          module.debug('Making checkbox indeterminate');\n          module.set.indeterminate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onIndeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        determinate: function() {\n          if( module.should.allowDeterminate() ) {\n            module.debug('Checkbox is already determinate');\n            return;\n          }\n          module.debug('Making checkbox determinate');\n          module.set.determinate();\n          if( !module.should.ignoreCallbacks() ) {\n            settings.onDeterminate.call(input);\n            settings.onChange.call(input);\n          }\n        },\n\n        enable: function() {\n          if( module.is.enabled() ) {\n            module.debug('Checkbox is already enabled');\n            return;\n          }\n          module.debug('Enabling checkbox');\n          module.set.enabled();\n          settings.onEnable.call(input);\n          // preserve legacy callbacks\n          settings.onEnabled.call(input);\n        },\n\n        disable: function() {\n          if( module.is.disabled() ) {\n            module.debug('Checkbox is already disabled');\n            return;\n          }\n          module.debug('Disabling checkbox');\n          module.set.disabled();\n          settings.onDisable.call(input);\n          // preserve legacy callbacks\n          settings.onDisabled.call(input);\n        },\n\n        get: {\n          radios: function() {\n            var\n              name = module.get.name()\n            ;\n            return $('input[name=\"' + name + '\"]').closest(selector.checkbox);\n          },\n          otherRadios: function() {\n            return module.get.radios().not($module);\n          },\n          name: function() {\n            return $input.attr('name');\n          }\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          },\n          radio: function() {\n            return ($input.hasClass(className.radio) || $input.attr('type') == 'radio');\n          },\n          indeterminate: function() {\n            return $input.prop('indeterminate') !== undefined && $input.prop('indeterminate');\n          },\n          checked: function() {\n            return $input.prop('checked') !== undefined && $input.prop('checked');\n          },\n          disabled: function() {\n            return $input.prop('disabled') !== undefined && $input.prop('disabled');\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          determinate: function() {\n            return !module.is.indeterminate();\n          },\n          unchecked: function() {\n            return !module.is.checked();\n          }\n        },\n\n        should: {\n          allowCheck: function() {\n            if(module.is.determinate() && module.is.checked() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow check, checkbox is already checked');\n              return false;\n            }\n            if(settings.beforeChecked.apply(input) === false) {\n              module.debug('Should not allow check, beforeChecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowUncheck: function() {\n            if(module.is.determinate() && module.is.unchecked() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow uncheck, checkbox is already unchecked');\n              return false;\n            }\n            if(settings.beforeUnchecked.apply(input) === false) {\n              module.debug('Should not allow uncheck, beforeUnchecked cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowIndeterminate: function() {\n            if(module.is.indeterminate() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow indeterminate, checkbox is already indeterminate');\n              return false;\n            }\n            if(settings.beforeIndeterminate.apply(input) === false) {\n              module.debug('Should not allow indeterminate, beforeIndeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          allowDeterminate: function() {\n            if(module.is.determinate() && !module.should.forceCallbacks() ) {\n              module.debug('Should not allow determinate, checkbox is already determinate');\n              return false;\n            }\n            if(settings.beforeDeterminate.apply(input) === false) {\n              module.debug('Should not allow determinate, beforeDeterminate cancelled');\n              return false;\n            }\n            return true;\n          },\n          forceCallbacks: function() {\n            return (module.is.initialLoad() && settings.fireOnInit);\n          },\n          ignoreCallbacks: function() {\n            return (initialLoad && !settings.fireOnInit);\n          }\n        },\n\n        can: {\n          change: function() {\n            return !( $module.hasClass(className.disabled) || $module.hasClass(className.readOnly) || $input.prop('disabled') || $input.prop('readonly') );\n          },\n          uncheck: function() {\n            return (typeof settings.uncheckable === 'boolean')\n              ? settings.uncheckable\n              : !module.is.radio()\n            ;\n          }\n        },\n\n        set: {\n          initialLoad: function() {\n            initialLoad = true;\n          },\n          checked: function() {\n            module.verbose('Setting class to checked');\n            $module\n              .removeClass(className.indeterminate)\n              .addClass(className.checked)\n            ;\n            if( module.is.radio() ) {\n              module.uncheckOthers();\n            }\n            if(!module.is.indeterminate() && module.is.checked()) {\n              module.debug('Input is already checked, skipping input property change');\n              return;\n            }\n            module.verbose('Setting state to checked', input);\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', true)\n            ;\n            module.trigger.change();\n          },\n          unchecked: function() {\n            module.verbose('Removing checked class');\n            $module\n              .removeClass(className.indeterminate)\n              .removeClass(className.checked)\n            ;\n            if(!module.is.indeterminate() &&  module.is.unchecked() ) {\n              module.debug('Input is already unchecked');\n              return;\n            }\n            module.debug('Setting state to unchecked');\n            $input\n              .prop('indeterminate', false)\n              .prop('checked', false)\n            ;\n            module.trigger.change();\n          },\n          indeterminate: function() {\n            module.verbose('Setting class to indeterminate');\n            $module\n              .addClass(className.indeterminate)\n            ;\n            if( module.is.indeterminate() ) {\n              module.debug('Input is already indeterminate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to indeterminate');\n            $input\n              .prop('indeterminate', true)\n            ;\n            module.trigger.change();\n          },\n          determinate: function() {\n            module.verbose('Removing indeterminate class');\n            $module\n              .removeClass(className.indeterminate)\n            ;\n            if( module.is.determinate() ) {\n              module.debug('Input is already determinate, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to determinate');\n            $input\n              .prop('indeterminate', false)\n            ;\n          },\n          disabled: function() {\n            module.verbose('Setting class to disabled');\n            $module\n              .addClass(className.disabled)\n            ;\n            if( module.is.disabled() ) {\n              module.debug('Input is already disabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to disabled');\n            $input\n              .prop('disabled', 'disabled')\n            ;\n            module.trigger.change();\n          },\n          enabled: function() {\n            module.verbose('Removing disabled class');\n            $module.removeClass(className.disabled);\n            if( module.is.enabled() ) {\n              module.debug('Input is already enabled, skipping input property change');\n              return;\n            }\n            module.debug('Setting state to enabled');\n            $input\n              .prop('disabled', false)\n            ;\n            module.trigger.change();\n          },\n          tabbable: function() {\n            module.verbose('Adding tabindex to checkbox');\n            if( $input.attr('tabindex') === undefined) {\n              $input.attr('tabindex', 0);\n            }\n          }\n        },\n\n        remove: {\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              events       = document.createEvent('HTMLEvents'),\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n\n        create: {\n          label: function() {\n            if($input.prevAll(selector.label).length > 0) {\n              $input.prev(selector.label).detach().insertAfter($input);\n              module.debug('Moving existing label', $label);\n            }\n            else if( !module.has.label() ) {\n              $label = $('<label>').insertAfter($input);\n              module.debug('Creating label', $label);\n            }\n          }\n        },\n\n        has: {\n          label: function() {\n            return ($label.length > 0);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching checkbox events');\n            $module\n              .on('click'   + eventNamespace, module.event.click)\n              .on('keydown' + eventNamespace, selector.input, module.event.keydown)\n              .on('keyup'   + eventNamespace, selector.input, module.event.keyup)\n            ;\n          }\n        },\n\n        unbind: {\n          events: function() {\n            module.debug('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        uncheckOthers: function() {\n          var\n            $radios = module.get.otherRadios()\n          ;\n          module.debug('Unchecking other radios', $radios);\n          $radios.removeClass(className.checked);\n        },\n\n        toggle: function() {\n          if( !module.can.change() ) {\n            if(!module.is.radio()) {\n              module.debug('Checkbox is read-only or disabled, ignoring toggle');\n            }\n            return;\n          }\n          if( module.is.indeterminate() || module.is.unchecked() ) {\n            module.debug('Currently unchecked');\n            module.check();\n          }\n          else if( module.is.checked() && module.can.uncheck() ) {\n            module.debug('Currently checked');\n            module.uncheck();\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.checkbox.settings = {\n\n  name                : 'Checkbox',\n  namespace           : 'checkbox',\n\n  silent              : false,\n  debug               : false,\n  verbose             : true,\n  performance         : true,\n\n  // delegated event context\n  uncheckable         : 'auto',\n  fireOnInit          : false,\n\n  onChange            : function(){},\n\n  beforeChecked       : function(){},\n  beforeUnchecked     : function(){},\n  beforeDeterminate   : function(){},\n  beforeIndeterminate : function(){},\n\n  onChecked           : function(){},\n  onUnchecked         : function(){},\n\n  onDeterminate       : function() {},\n  onIndeterminate     : function() {},\n\n  onEnable            : function(){},\n  onDisable           : function(){},\n\n  // preserve misspelled callbacks (will be removed in 3.0)\n  onEnabled           : function(){},\n  onDisabled          : function(){},\n\n  className       : {\n    checked       : 'checked',\n    indeterminate : 'indeterminate',\n    disabled      : 'disabled',\n    hidden        : 'hidden',\n    radio         : 'radio',\n    readOnly      : 'read-only'\n  },\n\n  error     : {\n    method       : 'The method you called is not defined'\n  },\n\n  selector : {\n    checkbox : '.ui.checkbox',\n    label    : 'label, .box',\n    input    : 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    link     : 'a[href]'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Dimmer\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dimmer = function(parameters) {\n  var\n    $allModules     = $(this),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dimmer.settings, parameters)\n          : $.extend({}, $.fn.dimmer.settings),\n\n        selector        = settings.selector,\n        namespace       = settings.namespace,\n        className       = settings.className,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n        moduleSelector  = $allModules.selector || '',\n\n        clickEvent      = ('ontouchstart' in document.documentElement)\n          ? 'touchstart'\n          : 'click',\n\n        $module = $(this),\n        $dimmer,\n        $dimmable,\n\n        element   = this,\n        instance  = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        preinitialize: function() {\n          if( module.is.dimmer() ) {\n\n            $dimmable = $module.parent();\n            $dimmer   = $module;\n          }\n          else {\n            $dimmable = $module;\n            if( module.has.dimmer() ) {\n              if(settings.dimmerName) {\n                $dimmer = $dimmable.find(selector.dimmer).filter('.' + settings.dimmerName);\n              }\n              else {\n                $dimmer = $dimmable.find(selector.dimmer);\n              }\n            }\n            else {\n              $dimmer = module.create();\n            }\n          }\n        },\n\n        initialize: function() {\n          module.debug('Initializing dimmer', settings);\n\n          module.bind.events();\n          module.set.dimmable();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module', $dimmer);\n          module.unbind.events();\n          module.remove.variation();\n          $dimmable\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            if(settings.on == 'hover') {\n              $dimmable\n                .on('mouseenter' + eventNamespace, module.show)\n                .on('mouseleave' + eventNamespace, module.hide)\n              ;\n            }\n            else if(settings.on == 'click') {\n              $dimmable\n                .on(clickEvent + eventNamespace, module.toggle)\n              ;\n            }\n            if( module.is.page() ) {\n              module.debug('Setting as a page dimmer', $dimmable);\n              module.set.pageDimmer();\n            }\n\n            if( module.is.closable() ) {\n              module.verbose('Adding dimmer close event', $dimmer);\n              $dimmable\n                .on(clickEvent + eventNamespace, selector.dimmer, module.event.click)\n              ;\n            }\n          }\n        },\n\n        unbind: {\n          events: function() {\n            $module\n              .removeData(moduleNamespace)\n            ;\n            $dimmable\n              .off(eventNamespace)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            module.verbose('Determining if event occured on dimmer', event);\n            if( $dimmer.find(event.target).length === 0 || $(event.target).is(selector.content) ) {\n              module.hide();\n              event.stopImmediatePropagation();\n            }\n          }\n        },\n\n        addContent: function(element) {\n          var\n            $content = $(element)\n          ;\n          module.debug('Add content to dimmer', $content);\n          if($content.parent()[0] !== $dimmer[0]) {\n            $content.detach().appendTo($dimmer);\n          }\n        },\n\n        create: function() {\n          var\n            $element = $( settings.template.dimmer() )\n          ;\n          if(settings.variation) {\n            module.debug('Creating dimmer with variation', settings.variation);\n            $element.addClass(settings.variation);\n          }\n          if(settings.dimmerName) {\n            module.debug('Creating named dimmer', settings.dimmerName);\n            $element.addClass(settings.dimmerName);\n          }\n          $element\n            .appendTo($dimmable)\n          ;\n          return $element;\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Showing dimmer', $dimmer, settings);\n          if( (!module.is.dimmed() || module.is.animating()) && module.is.enabled() ) {\n            module.animate.show(callback);\n            settings.onShow.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is already shown or disabled');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.dimmed() || module.is.animating() ) {\n            module.debug('Hiding dimmer', $dimmer);\n            module.animate.hide(callback);\n            settings.onHide.call(element);\n            settings.onChange.call(element);\n          }\n          else {\n            module.debug('Dimmer is not visible');\n          }\n        },\n\n        toggle: function() {\n          module.verbose('Toggling dimmer visibility', $dimmer);\n          if( !module.is.dimmed() ) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              if(settings.opacity !== 'auto') {\n                module.set.opacity();\n              }\n              $dimmer\n                .transition({\n                  animation   : settings.transition + ' in',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onStart     : function() {\n                    module.set.dimmed();\n                  },\n                  onComplete  : function() {\n                    module.set.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Showing dimmer animation with javascript');\n              module.set.dimmed();\n              if(settings.opacity == 'auto') {\n                settings.opacity = 0.8;\n              }\n              $dimmer\n                .stop()\n                .css({\n                  opacity : 0,\n                  width   : '100%',\n                  height  : '100%'\n                })\n                .fadeTo(module.get.duration(), settings.opacity, function() {\n                  $dimmer.removeAttr('style');\n                  module.set.active();\n                  callback();\n                })\n              ;\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(settings.useCSS && $.fn.transition !== undefined && $dimmer.transition('is supported')) {\n              module.verbose('Hiding dimmer with css');\n              $dimmer\n                .transition({\n                  animation   : settings.transition + ' out',\n                  queue       : false,\n                  duration    : module.get.duration(),\n                  useFailSafe : true,\n                  onStart     : function() {\n                    module.remove.dimmed();\n                  },\n                  onComplete  : function() {\n                    module.remove.active();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.verbose('Hiding dimmer with javascript');\n              module.remove.dimmed();\n              $dimmer\n                .stop()\n                .fadeOut(module.get.duration(), function() {\n                  module.remove.active();\n                  $dimmer.removeAttr('style');\n                  callback();\n                })\n              ;\n            }\n          }\n        },\n\n        get: {\n          dimmer: function() {\n            return $dimmer;\n          },\n          duration: function() {\n            if(typeof settings.duration == 'object') {\n              if( module.is.active() ) {\n                return settings.duration.hide;\n              }\n              else {\n                return settings.duration.show;\n              }\n            }\n            return settings.duration;\n          }\n        },\n\n        has: {\n          dimmer: function() {\n            if(settings.dimmerName) {\n              return ($module.find(selector.dimmer).filter('.' + settings.dimmerName).length > 0);\n            }\n            else {\n              return ( $module.find(selector.dimmer).length > 0 );\n            }\n          }\n        },\n\n        is: {\n          active: function() {\n            return $dimmer.hasClass(className.active);\n          },\n          animating: function() {\n            return ( $dimmer.is(':animated') || $dimmer.hasClass(className.animating) );\n          },\n          closable: function() {\n            if(settings.closable == 'auto') {\n              if(settings.on == 'hover') {\n                return false;\n              }\n              return true;\n            }\n            return settings.closable;\n          },\n          dimmer: function() {\n            return $module.hasClass(className.dimmer);\n          },\n          dimmable: function() {\n            return $module.hasClass(className.dimmable);\n          },\n          dimmed: function() {\n            return $dimmable.hasClass(className.dimmed);\n          },\n          disabled: function() {\n            return $dimmable.hasClass(className.disabled);\n          },\n          enabled: function() {\n            return !module.is.disabled();\n          },\n          page: function () {\n            return $dimmable.is('body');\n          },\n          pageDimmer: function() {\n            return $dimmer.hasClass(className.pageDimmer);\n          }\n        },\n\n        can: {\n          show: function() {\n            return !$dimmer.hasClass(className.disabled);\n          }\n        },\n\n        set: {\n          opacity: function(opacity) {\n            var\n              color      = $dimmer.css('background-color'),\n              colorArray = color.split(','),\n              isRGB      = (colorArray && colorArray.length == 3),\n              isRGBA     = (colorArray && colorArray.length == 4)\n            ;\n            opacity    = settings.opacity === 0 ? 0 : settings.opacity || opacity;\n            if(isRGB || isRGBA) {\n              colorArray[3] = opacity + ')';\n              color         = colorArray.join(',');\n            }\n            else {\n              color = 'rgba(0, 0, 0, ' + opacity + ')';\n            }\n            module.debug('Setting opacity to', opacity);\n            $dimmer.css('background-color', color);\n          },\n          active: function() {\n            $dimmer.addClass(className.active);\n          },\n          dimmable: function() {\n            $dimmable.addClass(className.dimmable);\n          },\n          dimmed: function() {\n            $dimmable.addClass(className.dimmed);\n          },\n          pageDimmer: function() {\n            $dimmer.addClass(className.pageDimmer);\n          },\n          disabled: function() {\n            $dimmer.addClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.addClass(variation);\n            }\n          }\n        },\n\n        remove: {\n          active: function() {\n            $dimmer\n              .removeClass(className.active)\n            ;\n          },\n          dimmed: function() {\n            $dimmable.removeClass(className.dimmed);\n          },\n          disabled: function() {\n            $dimmer.removeClass(className.disabled);\n          },\n          variation: function(variation) {\n            variation = variation || settings.variation;\n            if(variation) {\n              $dimmer.removeClass(variation);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      module.preinitialize();\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.dimmer.settings = {\n\n  name        : 'Dimmer',\n  namespace   : 'dimmer',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  // name to distinguish between multiple dimmers in context\n  dimmerName  : false,\n\n  // whether to add a variation type\n  variation   : false,\n\n  // whether to bind close events\n  closable    : 'auto',\n\n  // whether to use css animations\n  useCSS      : true,\n\n  // css animation to use\n  transition  : 'fade',\n\n  // event to bind to\n  on          : false,\n\n  // overriding opacity value\n  opacity     : 'auto',\n\n  // transition durations\n  duration    : {\n    show : 500,\n    hide : 500\n  },\n\n  onChange    : function(){},\n  onShow      : function(){},\n  onHide      : function(){},\n\n  error   : {\n    method   : 'The method you called is not defined.'\n  },\n\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    dimmable   : 'dimmable',\n    dimmed     : 'dimmed',\n    dimmer     : 'dimmer',\n    disabled   : 'disabled',\n    hide       : 'hide',\n    pageDimmer : 'page',\n    show       : 'show'\n  },\n\n  selector: {\n    dimmer   : '> .ui.dimmer',\n    content  : '.ui.dimmer > .content, .ui.dimmer > .content > .center'\n  },\n\n  template: {\n    dimmer: function() {\n     return $('<div />').attr('class', 'ui dimmer');\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Dropdown\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.dropdown = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = ('ontouchstart' in document.documentElement),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function(elementIndex) {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.dropdown.settings, parameters)\n          : $.extend({}, $.fn.dropdown.settings),\n\n        className       = settings.className,\n        message         = settings.message,\n        fields          = settings.fields,\n        keys            = settings.keys,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        selector        = settings.selector,\n        error           = settings.error,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $text           = $module.find(selector.text),\n        $search         = $module.find(selector.search),\n        $sizer          = $module.find(selector.sizer),\n        $input          = $module.find(selector.input),\n        $icon           = $module.find(selector.icon),\n\n        $combo = ($module.prev().find(selector.text).length > 0)\n          ? $module.prev().find(selector.text)\n          : $module.prev(),\n\n        $menu           = $module.children(selector.menu),\n        $item           = $menu.find(selector.item),\n\n        activated       = false,\n        itemActivated   = false,\n        internalChange  = false,\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        initialLoad,\n        pageLostFocus,\n        willRefocus,\n        elementNamespace,\n        id,\n        selectObserver,\n        menuObserver,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing dropdown', settings);\n\n          if( module.is.alreadySetup() ) {\n            module.setup.reference();\n          }\n          else {\n            module.setup.layout();\n            module.refreshData();\n\n            module.save.defaults();\n            module.restore.selected();\n\n            module.create.id();\n            module.bind.events();\n\n            module.observeChanges();\n            module.instantiate();\n          }\n\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of dropdown', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous dropdown', $module);\n          module.remove.tabbable();\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          $menu\n            .off(eventNamespace)\n          ;\n          $document\n            .off(elementNamespace)\n          ;\n          module.disconnect.menuObserver();\n          module.disconnect.selectObserver();\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            selectObserver = new MutationObserver(module.event.select.mutation);\n            menuObserver   = new MutationObserver(module.event.menu.mutation);\n            module.debug('Setting up mutation observer', selectObserver, menuObserver);\n            module.observe.select();\n            module.observe.menu();\n          }\n        },\n\n        disconnect: {\n          menuObserver: function() {\n            if(menuObserver) {\n              menuObserver.disconnect();\n            }\n          },\n          selectObserver: function() {\n            if(menuObserver) {\n              menuObserver.disconnect();\n            }\n          }\n        },\n        observe: {\n          select: function() {\n            if(module.has.input()) {\n              selectObserver.observe($input[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          menu: function() {\n            if(module.has.menu()) {\n              menuObserver.observe($menu[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          }\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2, 8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          },\n          userChoice: function(values) {\n            var\n              $userChoices,\n              $userChoice,\n              isUserValue,\n              html\n            ;\n            values = values || module.get.userValues();\n            if(!values) {\n              return false;\n            }\n            values = $.isArray(values)\n              ? values\n              : [values]\n            ;\n            $.each(values, function(index, value) {\n              if(module.get.item(value) === false) {\n                html         = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $userChoice  = $('<div />')\n                  .html(html)\n                  .attr('data-' + metadata.value, value)\n                  .attr('data-' + metadata.text, value)\n                  .addClass(className.addition)\n                  .addClass(className.item)\n                ;\n                if(settings.hideAdditions) {\n                  $userChoice.addClass(className.hidden);\n                }\n                $userChoices = ($userChoices === undefined)\n                  ? $userChoice\n                  : $userChoices.add($userChoice)\n                ;\n                module.verbose('Creating user choices for value', value, $userChoice);\n              }\n            });\n            return $userChoices;\n          },\n          userLabels: function(value) {\n            var\n              userValues = module.get.userValues()\n            ;\n            if(userValues) {\n              module.debug('Adding user labels', userValues);\n              $.each(userValues, function(index, value) {\n                module.verbose('Adding custom user value');\n                module.add.label(value, value);\n              });\n            }\n          },\n          menu: function() {\n            $menu = $('<div />')\n              .addClass(className.menu)\n              .appendTo($module)\n            ;\n          },\n          sizer: function() {\n            $sizer = $('<span />')\n              .addClass(className.sizer)\n              .insertAfter($search)\n            ;\n          }\n        },\n\n        search: function(query) {\n          query = (query !== undefined)\n            ? query\n            : module.get.query()\n          ;\n          module.verbose('Searching for query', query);\n          if(module.has.minCharacters(query)) {\n            module.filter(query);\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        select: {\n          firstUnfiltered: function() {\n            module.verbose('Selecting first non-filtered element');\n            module.remove.selectedItem();\n            $item\n              .not(selector.unselectable)\n              .not(selector.addition + selector.hidden)\n                .eq(0)\n                .addClass(className.selected)\n            ;\n          },\n          nextAvailable: function($selected) {\n            $selected = $selected.eq(0);\n            var\n              $nextAvailable = $selected.nextAll(selector.item).not(selector.unselectable).eq(0),\n              $prevAvailable = $selected.prevAll(selector.item).not(selector.unselectable).eq(0),\n              hasNext        = ($nextAvailable.length > 0)\n            ;\n            if(hasNext) {\n              module.verbose('Moving selection to', $nextAvailable);\n              $nextAvailable.addClass(className.selected);\n            }\n            else {\n              module.verbose('Moving selection to', $prevAvailable);\n              $prevAvailable.addClass(className.selected);\n            }\n          }\n        },\n\n        setup: {\n          api: function() {\n            var\n              apiSettings = {\n                debug   : settings.debug,\n                urlData : {\n                  value : module.get.value(),\n                  query : module.get.query()\n                },\n                on    : false\n              }\n            ;\n            module.verbose('First request, initializing API');\n            $module\n              .api(apiSettings)\n            ;\n          },\n          layout: function() {\n            if( $module.is('select') ) {\n              module.setup.select();\n              module.setup.returnedObject();\n            }\n            if( !module.has.menu() ) {\n              module.create.menu();\n            }\n            if( module.is.search() && !module.has.search() ) {\n              module.verbose('Adding search input');\n              $search = $('<input />')\n                .addClass(className.search)\n                .prop('autocomplete', 'off')\n                .insertBefore($text)\n              ;\n            }\n            if( module.is.multiple() && module.is.searchSelection() && !module.has.sizer()) {\n              module.create.sizer();\n            }\n            if(settings.allowTab) {\n              module.set.tabbable();\n            }\n          },\n          select: function() {\n            var\n              selectValues  = module.get.selectValues()\n            ;\n            module.debug('Dropdown initialized on a select', selectValues);\n            if( $module.is('select') ) {\n              $input = $module;\n            }\n            // see if select is placed correctly already\n            if($input.parent(selector.dropdown).length > 0) {\n              module.debug('UI dropdown already exists. Creating dropdown menu only');\n              $module = $input.closest(selector.dropdown);\n              if( !module.has.menu() ) {\n                module.create.menu();\n              }\n              $menu = $module.children(selector.menu);\n              module.setup.menu(selectValues);\n            }\n            else {\n              module.debug('Creating entire dropdown from select');\n              $module = $('<div />')\n                .attr('class', $input.attr('class') )\n                .addClass(className.selection)\n                .addClass(className.dropdown)\n                .html( templates.dropdown(selectValues) )\n                .insertBefore($input)\n              ;\n              if($input.hasClass(className.multiple) && $input.prop('multiple') === false) {\n                module.error(error.missingMultiple);\n                $input.prop('multiple', true);\n              }\n              if($input.is('[multiple]')) {\n                module.set.multiple();\n              }\n              if ($input.prop('disabled')) {\n                module.debug('Disabling dropdown');\n                $module.addClass(className.disabled);\n              }\n              $input\n                .removeAttr('class')\n                .detach()\n                .prependTo($module)\n              ;\n            }\n            module.refresh();\n          },\n          menu: function(values) {\n            $menu.html( templates.menu(values, fields));\n            $item = $menu.find(selector.item);\n          },\n          reference: function() {\n            module.debug('Dropdown behavior was called on select, replacing with closest dropdown');\n            // replace module reference\n            $module = $module.parent(selector.dropdown);\n            module.refresh();\n            module.setup.returnedObject();\n            // invoke method in context of current instance\n            if(methodInvoked) {\n              instance = module;\n              module.invoke(query);\n            }\n          },\n          returnedObject: function() {\n            var\n              $firstModules = $allModules.slice(0, elementIndex),\n              $lastModules = $allModules.slice(elementIndex + 1)\n            ;\n            // adjust all modules to use correct reference\n            $allModules = $firstModules.add($module).add($lastModules);\n          }\n        },\n\n        refresh: function() {\n          module.refreshSelectors();\n          module.refreshData();\n        },\n\n        refreshItems: function() {\n          $item = $menu.find(selector.item);\n        },\n\n        refreshSelectors: function() {\n          module.verbose('Refreshing selector cache');\n          $text   = $module.find(selector.text);\n          $search = $module.find(selector.search);\n          $input  = $module.find(selector.input);\n          $icon   = $module.find(selector.icon);\n          $combo  = ($module.prev().find(selector.text).length > 0)\n            ? $module.prev().find(selector.text)\n            : $module.prev()\n          ;\n          $menu    = $module.children(selector.menu);\n          $item    = $menu.find(selector.item);\n        },\n\n        refreshData: function() {\n          module.verbose('Refreshing cached metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n        },\n\n        clearData: function() {\n          module.verbose('Clearing metadata');\n          $item\n            .removeData(metadata.text)\n            .removeData(metadata.value)\n          ;\n          $module\n            .removeData(metadata.defaultText)\n            .removeData(metadata.defaultValue)\n            .removeData(metadata.placeholderText)\n          ;\n        },\n\n        toggle: function() {\n          module.verbose('Toggling menu visibility');\n          if( !module.is.active() ) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.can.show() && !module.is.active() ) {\n            module.debug('Showing dropdown');\n            if(module.has.message() && !(module.has.maxSelections() || module.has.allResultsFiltered()) ) {\n              module.remove.message();\n            }\n            if(module.is.allFiltered()) {\n              return true;\n            }\n            if(settings.onShow.call(element) !== false) {\n              module.animate.show(function() {\n                if( module.can.click() ) {\n                  module.bind.intent();\n                }\n                if(module.has.menuSearch()) {\n                  module.focusSearch();\n                }\n                module.set.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.active() ) {\n            module.debug('Hiding dropdown');\n            if(settings.onHide.call(element) !== false) {\n              module.animate.hide(function() {\n                module.remove.visible();\n                callback.call(element);\n              });\n            }\n          }\n        },\n\n        hideOthers: function() {\n          module.verbose('Finding other dropdowns to hide');\n          $allModules\n            .not($module)\n              .has(selector.menu + '.' + className.visible)\n                .dropdown('hide')\n          ;\n        },\n\n        hideMenu: function() {\n          module.verbose('Hiding menu  instantaneously');\n          module.remove.active();\n          module.remove.visible();\n          $menu.transition('hide');\n        },\n\n        hideSubMenus: function() {\n          var\n            $subMenus = $menu.children(selector.item).find(selector.menu)\n          ;\n          module.verbose('Hiding sub menus', $subMenus);\n          $subMenus.transition('hide');\n        },\n\n        bind: {\n          events: function() {\n            if(hasTouch) {\n              module.bind.touchEvents();\n            }\n            module.bind.keyboardEvents();\n            module.bind.inputEvents();\n            module.bind.mouseEvents();\n          },\n          touchEvents: function() {\n            module.debug('Touch device detected binding additional touch events');\n            if( module.is.searchSelection() ) {\n              // do nothing special yet\n            }\n            else if( module.is.single() ) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.test.toggle)\n              ;\n            }\n            $menu\n              .on('touchstart' + eventNamespace, selector.item, module.event.item.mouseenter)\n            ;\n          },\n          keyboardEvents: function() {\n            module.verbose('Binding keyboard events');\n            $module\n              .on('keydown' + eventNamespace, module.event.keydown)\n            ;\n            if( module.has.search() ) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.search, module.event.input)\n              ;\n            }\n            if( module.is.multiple() ) {\n              $document\n                .on('keydown' + elementNamespace, module.event.document.keydown)\n              ;\n            }\n          },\n          inputEvents: function() {\n            module.verbose('Binding input change events');\n            $module\n              .on('change' + eventNamespace, selector.input, module.event.change)\n            ;\n          },\n          mouseEvents: function() {\n            module.verbose('Binding mouse events');\n            if(module.is.multiple()) {\n              $module\n                .on('click'   + eventNamespace, selector.label,  module.event.label.click)\n                .on('click'   + eventNamespace, selector.remove, module.event.remove.click)\n              ;\n            }\n            if( module.is.searchSelection() ) {\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('mousedown' + eventNamespace, selector.menu,   module.event.menu.mousedown)\n                .on('mouseup'   + eventNamespace, selector.menu,   module.event.menu.mouseup)\n                .on('click'     + eventNamespace, selector.icon,   module.event.icon.click)\n                .on('focus'     + eventNamespace, selector.search, module.event.search.focus)\n                .on('click'     + eventNamespace, selector.search, module.event.search.focus)\n                .on('blur'      + eventNamespace, selector.search, module.event.search.blur)\n                .on('click'     + eventNamespace, selector.text,   module.event.text.focus)\n              ;\n              if(module.is.multiple()) {\n                $module\n                  .on('click' + eventNamespace, module.event.click)\n                ;\n              }\n            }\n            else {\n              if(settings.on == 'click') {\n                $module\n                  .on('click' + eventNamespace, selector.icon, module.event.icon.click)\n                  .on('click' + eventNamespace, module.event.test.toggle)\n                ;\n              }\n              else if(settings.on == 'hover') {\n                $module\n                  .on('mouseenter' + eventNamespace, module.delay.show)\n                  .on('mouseleave' + eventNamespace, module.delay.hide)\n                ;\n              }\n              else {\n                $module\n                  .on(settings.on + eventNamespace, module.toggle)\n                ;\n              }\n              $module\n                .on('mousedown' + eventNamespace, module.event.mousedown)\n                .on('mouseup'   + eventNamespace, module.event.mouseup)\n                .on('focus'     + eventNamespace, module.event.focus)\n                .on('blur'      + eventNamespace, module.event.blur)\n              ;\n            }\n            $menu\n              .on('mouseenter' + eventNamespace, selector.item, module.event.item.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.item, module.event.item.mouseleave)\n              .on('click'      + eventNamespace, selector.item, module.event.item.click)\n            ;\n          },\n          intent: function() {\n            module.verbose('Binding hide intent event to document');\n            if(hasTouch) {\n              $document\n                .on('touchstart' + elementNamespace, module.event.test.touch)\n                .on('touchmove'  + elementNamespace, module.event.test.touch)\n              ;\n            }\n            $document\n              .on('click' + elementNamespace, module.event.test.hide)\n            ;\n          }\n        },\n\n        unbind: {\n          intent: function() {\n            module.verbose('Removing hide intent event from document');\n            if(hasTouch) {\n              $document\n                .off('touchstart' + elementNamespace)\n                .off('touchmove' + elementNamespace)\n              ;\n            }\n            $document\n              .off('click' + elementNamespace)\n            ;\n          }\n        },\n\n        filter: function(query) {\n          var\n            searchTerm = (query !== undefined)\n              ? query\n              : module.get.query(),\n            afterFiltered = function() {\n              if(module.is.multiple()) {\n                module.filterActive();\n              }\n              module.select.firstUnfiltered();\n              if( module.has.allResultsFiltered() ) {\n                if( settings.onNoResults.call(element, searchTerm) ) {\n                  if(settings.allowAdditions) {\n                    if(settings.hideAdditions) {\n                      module.verbose('User addition with no menu, setting empty style');\n                      module.set.empty();\n                      module.hideMenu();\n                    }\n                  }\n                  else {\n                    module.verbose('All items filtered, showing message', searchTerm);\n                    module.add.message(message.noResults);\n                  }\n                }\n                else {\n                  module.verbose('All items filtered, hiding dropdown', searchTerm);\n                  module.hideMenu();\n                }\n              }\n              else {\n                module.remove.empty();\n                module.remove.message();\n              }\n              if(settings.allowAdditions) {\n                module.add.userSuggestion(query);\n              }\n              if(module.is.searchSelection() && module.can.show() && module.is.focusedOnSearch() ) {\n                module.show();\n              }\n            }\n          ;\n          if(settings.useLabels && module.has.maxSelections()) {\n            return;\n          }\n          if(settings.apiSettings) {\n            if( module.can.useAPI() ) {\n              module.queryRemote(searchTerm, function() {\n                afterFiltered();\n              });\n            }\n            else {\n              module.error(error.noAPI);\n            }\n          }\n          else {\n            module.filterItems(searchTerm);\n            afterFiltered();\n          }\n        },\n\n        queryRemote: function(query, callback) {\n          var\n            apiSettings = {\n              errorDuration : false,\n              cache         : 'local',\n              throttle      : settings.throttle,\n              urlData       : {\n                query: query\n              },\n              onError: function() {\n                module.add.message(message.serverError);\n                callback();\n              },\n              onFailure: function() {\n                module.add.message(message.serverError);\n                callback();\n              },\n              onSuccess : function(response) {\n                module.remove.message();\n                module.setup.menu({\n                  values: response[fields.remoteValues]\n                });\n                callback();\n              }\n            }\n          ;\n          if( !$module.api('get request') ) {\n            module.setup.api();\n          }\n          apiSettings = $.extend(true, {}, apiSettings, settings.apiSettings);\n          $module\n            .api('setting', apiSettings)\n            .api('query')\n          ;\n        },\n\n        filterItems: function(query) {\n          var\n            searchTerm = (query !== undefined)\n              ? query\n              : module.get.query(),\n            results          =  null,\n            escapedTerm      = module.escape.regExp(searchTerm),\n            beginsWithRegExp = new RegExp('^' + escapedTerm, 'igm')\n          ;\n          // avoid loop if we're matching nothing\n          if( module.has.query() ) {\n            results = [];\n\n            module.verbose('Searching for matching values', searchTerm);\n            $item\n              .each(function(){\n                var\n                  $choice = $(this),\n                  text,\n                  value\n                ;\n                if(settings.match == 'both' || settings.match == 'text') {\n                  text = String(module.get.choiceText($choice, false));\n                  if(text.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === 'exact' && module.exactSearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if (settings.fullTextSearch === true && module.fuzzySearch(searchTerm, text)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n                if(settings.match == 'both' || settings.match == 'value') {\n                  value = String(module.get.choiceValue($choice, text));\n\n                  if(value.search(beginsWithRegExp) !== -1) {\n                    results.push(this);\n                    return true;\n                  }\n                  else if(settings.fullTextSearch && module.fuzzySearch(searchTerm, value)) {\n                    results.push(this);\n                    return true;\n                  }\n                }\n              })\n            ;\n          }\n          module.debug('Showing only matched items', searchTerm);\n          module.remove.filteredItem();\n          if(results) {\n            $item\n              .not(results)\n              .addClass(className.filtered)\n            ;\n          }\n        },\n\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n        exactSearch: function (query, term) {\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(term.indexOf(query) > -1) {\n             return true;\n          }\n          return false;\n        },\n        filterActive: function() {\n          if(settings.useLabels) {\n            $item.filter('.' + className.active)\n              .addClass(className.filtered)\n            ;\n          }\n        },\n\n        focusSearch: function(skipHandler) {\n          if( module.has.search() && !module.is.focusedOnSearch() ) {\n            if(skipHandler) {\n              $module.off('focus' + eventNamespace, selector.search);\n              $search.focus();\n              $module.on('focus'  + eventNamespace, selector.search, module.event.search.focus);\n            }\n            else {\n              $search.focus();\n            }\n          }\n        },\n\n        forceSelection: function() {\n          var\n            $currentlySelected = $item.not(className.filtered).filter('.' + className.selected).eq(0),\n            $activeItem        = $item.not(className.filtered).filter('.' + className.active).eq(0),\n            $selectedItem      = ($currentlySelected.length > 0)\n              ? $currentlySelected\n              : $activeItem,\n            hasSelected = ($selectedItem.length > 0)\n          ;\n          if(hasSelected) {\n            module.debug('Forcing partial selection to selected item', $selectedItem);\n            module.event.item.click.call($selectedItem, {}, true);\n            return;\n          }\n          else {\n            if(settings.allowAdditions) {\n              module.set.selected(module.get.query());\n              module.remove.searchTerm();\n            }\n            else {\n              module.remove.searchTerm();\n            }\n          }\n        },\n\n        event: {\n          change: function() {\n            if(!internalChange) {\n              module.debug('Input changed, updating selection');\n              module.set.selected();\n            }\n          },\n          focus: function() {\n            if(settings.showOnFocus && !activated && module.is.hidden() && !pageLostFocus) {\n              module.show();\n            }\n          },\n          blur: function(event) {\n            pageLostFocus = (document.activeElement === this);\n            if(!activated && !pageLostFocus) {\n              module.remove.activeLabel();\n              module.hide();\n            }\n          },\n          mousedown: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = true;\n            }\n            else {\n              // prevents focus callback from occurring on mousedown\n              activated = true;\n            }\n          },\n          mouseup: function() {\n            if(module.is.searchSelection()) {\n              // prevent menu hiding on immediate re-focus\n              willRefocus = false;\n            }\n            else {\n              activated = false;\n            }\n          },\n          click: function(event) {\n            var\n              $target = $(event.target)\n            ;\n            // focus search\n            if($target.is($module)) {\n              if(!module.is.focusedOnSearch()) {\n                module.focusSearch();\n              }\n              else {\n                module.show();\n              }\n            }\n          },\n          search: {\n            focus: function() {\n              activated = true;\n              if(module.is.multiple()) {\n                module.remove.activeLabel();\n              }\n              if(settings.showOnFocus) {\n                module.search();\n              }\n            },\n            blur: function(event) {\n              pageLostFocus = (document.activeElement === this);\n              if(!willRefocus) {\n                if(!itemActivated && !pageLostFocus) {\n                  if(settings.forceSelection && module.has.query()) {\n                    module.forceSelection();\n                  }\n                  module.hide();\n                }\n              }\n              willRefocus = false;\n            }\n          },\n          icon: {\n            click: function(event) {\n              module.toggle();\n              event.stopPropagation();\n            }\n          },\n          text: {\n            focus: function(event) {\n              activated = true;\n              module.focusSearch();\n            }\n          },\n          input: function(event) {\n            if(module.is.multiple() || module.is.searchSelection()) {\n              module.set.filtered();\n            }\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.search, settings.delay.search);\n          },\n          label: {\n            click: function(event) {\n              var\n                $label        = $(this),\n                $labels       = $module.find(selector.label),\n                $activeLabels = $labels.filter('.' + className.active),\n                $nextActive   = $label.nextAll('.' + className.active),\n                $prevActive   = $label.prevAll('.' + className.active),\n                $range = ($nextActive.length > 0)\n                  ? $label.nextUntil($nextActive).add($activeLabels).add($label)\n                  : $label.prevUntil($prevActive).add($activeLabels).add($label)\n              ;\n              if(event.shiftKey) {\n                $activeLabels.removeClass(className.active);\n                $range.addClass(className.active);\n              }\n              else if(event.ctrlKey) {\n                $label.toggleClass(className.active);\n              }\n              else {\n                $activeLabels.removeClass(className.active);\n                $label.addClass(className.active);\n              }\n              settings.onLabelSelect.apply(this, $labels.filter('.' + className.active));\n            }\n          },\n          remove: {\n            click: function() {\n              var\n                $label = $(this).parent()\n              ;\n              if( $label.hasClass(className.active) ) {\n                // remove all selected labels\n                module.remove.activeLabels();\n              }\n              else {\n                // remove this label only\n                module.remove.activeLabels( $label );\n              }\n            }\n          },\n          test: {\n            toggle: function(event) {\n              var\n                toggleBehavior = (module.is.multiple())\n                  ? module.show\n                  : module.toggle\n              ;\n              if(module.is.bubbledLabelClick(event)) {\n                return;\n              }\n              if( module.determine.eventOnElement(event, toggleBehavior) ) {\n                event.preventDefault();\n              }\n            },\n            touch: function(event) {\n              module.determine.eventOnElement(event, function() {\n                if(event.type == 'touchstart') {\n                  module.timer = setTimeout(function() {\n                    module.hide();\n                  }, settings.delay.touch);\n                }\n                else if(event.type == 'touchmove') {\n                  clearTimeout(module.timer);\n                }\n              });\n              event.stopPropagation();\n            },\n            hide: function(event) {\n              module.determine.eventInModule(event, module.hide);\n            }\n          },\n          select: {\n            mutation: function(mutations) {\n              module.debug('<select> modified, recreating menu');\n              module.setup.select();\n            }\n          },\n          menu: {\n            mutation: function(mutations) {\n              var\n                mutation   = mutations[0],\n                $addedNode = mutation.addedNodes\n                  ? $(mutation.addedNodes[0])\n                  : $(false),\n                $removedNode = mutation.removedNodes\n                  ? $(mutation.removedNodes[0])\n                  : $(false),\n                $changedNodes  = $addedNode.add($removedNode),\n                isUserAddition = $changedNodes.is(selector.addition) || $changedNodes.closest(selector.addition).length > 0,\n                isMessage      = $changedNodes.is(selector.message)  || $changedNodes.closest(selector.message).length > 0\n              ;\n              if(isUserAddition || isMessage) {\n                module.debug('Updating item selector cache');\n                module.refreshItems();\n              }\n              else {\n                module.debug('Menu modified, updating selector cache');\n                module.refresh();\n              }\n            },\n            mousedown: function() {\n              itemActivated = true;\n            },\n            mouseup: function() {\n              itemActivated = false;\n            }\n          },\n          item: {\n            mouseenter: function(event) {\n              var\n                $target        = $(event.target),\n                $item          = $(this),\n                $subMenu       = $item.children(selector.menu),\n                $otherMenus    = $item.siblings(selector.item).children(selector.menu),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              if( !isBubbledEvent && hasSubMenu ) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Showing sub-menu', $subMenu);\n                  $.each($otherMenus, function() {\n                    module.animate.hide(false, $(this));\n                  });\n                  module.animate.show(false, $subMenu);\n                }, settings.delay.show);\n                event.preventDefault();\n              }\n            },\n            mouseleave: function(event) {\n              var\n                $subMenu = $(this).children(selector.menu)\n              ;\n              if($subMenu.length > 0) {\n                clearTimeout(module.itemTimer);\n                module.itemTimer = setTimeout(function() {\n                  module.verbose('Hiding sub-menu', $subMenu);\n                  module.animate.hide(false, $subMenu);\n                }, settings.delay.hide);\n              }\n            },\n            click: function (event, skipRefocus) {\n              var\n                $choice        = $(this),\n                $target        = (event)\n                  ? $(event.target)\n                  : $(''),\n                $subMenu       = $choice.find(selector.menu),\n                text           = module.get.choiceText($choice),\n                value          = module.get.choiceValue($choice, text),\n                hasSubMenu     = ($subMenu.length > 0),\n                isBubbledEvent = ($subMenu.find($target).length > 0)\n              ;\n              if(!isBubbledEvent && (!hasSubMenu || settings.allowCategorySelection)) {\n                if(module.is.searchSelection()) {\n                  if(settings.allowAdditions) {\n                    module.remove.userAddition();\n                  }\n                  module.remove.searchTerm();\n                  if(!module.is.focusedOnSearch() && !(skipRefocus == true)) {\n                    module.focusSearch(true);\n                  }\n                }\n                if(!settings.useLabels) {\n                  module.remove.filteredItem();\n                  module.set.scrollPosition($choice);\n                }\n                module.determine.selectAction.call(this, text, value);\n              }\n            }\n          },\n\n          document: {\n            // label selection should occur even when element has no focus\n            keydown: function(event) {\n              var\n                pressedKey    = event.which,\n                isShortcutKey = module.is.inObject(pressedKey, keys)\n              ;\n              if(isShortcutKey) {\n                var\n                  $label            = $module.find(selector.label),\n                  $activeLabel      = $label.filter('.' + className.active),\n                  activeValue       = $activeLabel.data(metadata.value),\n                  labelIndex        = $label.index($activeLabel),\n                  labelCount        = $label.length,\n                  hasActiveLabel    = ($activeLabel.length > 0),\n                  hasMultipleActive = ($activeLabel.length > 1),\n                  isFirstLabel      = (labelIndex === 0),\n                  isLastLabel       = (labelIndex + 1 == labelCount),\n                  isSearch          = module.is.searchSelection(),\n                  isFocusedOnSearch = module.is.focusedOnSearch(),\n                  isFocused         = module.is.focused(),\n                  caretAtStart      = (isFocusedOnSearch && module.get.caretPosition() === 0),\n                  $nextLabel\n                ;\n                if(isSearch && !hasActiveLabel && !isFocusedOnSearch) {\n                  return;\n                }\n\n                if(pressedKey == keys.leftArrow) {\n                  // activate previous label\n                  if((isFocused || caretAtStart) && !hasActiveLabel) {\n                    module.verbose('Selecting previous label');\n                    $label.last().addClass(className.active);\n                  }\n                  else if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting previous label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding previous label to selection');\n                    }\n                    if(isFirstLabel && !hasMultipleActive) {\n                      $activeLabel.addClass(className.active);\n                    }\n                    else {\n                      $activeLabel.prev(selector.siblingLabel)\n                        .addClass(className.active)\n                        .end()\n                      ;\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.rightArrow) {\n                  // activate first label\n                  if(isFocused && !hasActiveLabel) {\n                    $label.first().addClass(className.active);\n                  }\n                  // activate next label\n                  if(hasActiveLabel) {\n                    if(!event.shiftKey) {\n                      module.verbose('Selecting next label');\n                      $label.removeClass(className.active);\n                    }\n                    else {\n                      module.verbose('Adding next label to selection');\n                    }\n                    if(isLastLabel) {\n                      if(isSearch) {\n                        if(!isFocusedOnSearch) {\n                          module.focusSearch();\n                        }\n                        else {\n                          $label.removeClass(className.active);\n                        }\n                      }\n                      else if(hasMultipleActive) {\n                        $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                      }\n                      else {\n                        $activeLabel.addClass(className.active);\n                      }\n                    }\n                    else {\n                      $activeLabel.next(selector.siblingLabel).addClass(className.active);\n                    }\n                    event.preventDefault();\n                  }\n                }\n                else if(pressedKey == keys.deleteKey || pressedKey == keys.backspace) {\n                  if(hasActiveLabel) {\n                    module.verbose('Removing active labels');\n                    if(isLastLabel) {\n                      if(isSearch && !isFocusedOnSearch) {\n                        module.focusSearch();\n                      }\n                    }\n                    $activeLabel.last().next(selector.siblingLabel).addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                    event.preventDefault();\n                  }\n                  else if(caretAtStart && !hasActiveLabel && pressedKey == keys.backspace) {\n                    module.verbose('Removing last label on input backspace');\n                    $activeLabel = $label.last().addClass(className.active);\n                    module.remove.activeLabels($activeLabel);\n                  }\n                }\n                else {\n                  $activeLabel.removeClass(className.active);\n                }\n              }\n            }\n          },\n\n          keydown: function(event) {\n            var\n              pressedKey    = event.which,\n              isShortcutKey = module.is.inObject(pressedKey, keys)\n            ;\n            if(isShortcutKey) {\n              var\n                $currentlySelected = $item.not(selector.unselectable).filter('.' + className.selected).eq(0),\n                $activeItem        = $menu.children('.' + className.active).eq(0),\n                $selectedItem      = ($currentlySelected.length > 0)\n                  ? $currentlySelected\n                  : $activeItem,\n                $visibleItems = ($selectedItem.length > 0)\n                  ? $selectedItem.siblings(':not(.' + className.filtered +')').addBack()\n                  : $menu.children(':not(.' + className.filtered +')'),\n                $subMenu              = $selectedItem.children(selector.menu),\n                $parentMenu           = $selectedItem.closest(selector.menu),\n                inVisibleMenu         = ($parentMenu.hasClass(className.visible) || $parentMenu.hasClass(className.animating) || $parentMenu.parent(selector.menu).length > 0),\n                hasSubMenu            = ($subMenu.length> 0),\n                hasSelectedItem       = ($selectedItem.length > 0),\n                selectedIsSelectable  = ($selectedItem.not(selector.unselectable).length > 0),\n                delimiterPressed      = (pressedKey == keys.delimiter && settings.allowAdditions && module.is.multiple()),\n                isAdditionWithoutMenu = (settings.allowAdditions && settings.hideAdditions && (pressedKey == keys.enter || delimiterPressed) && selectedIsSelectable),\n                $nextItem,\n                isSubMenuItem,\n                newIndex\n              ;\n              // allow selection with menu closed\n              if(isAdditionWithoutMenu) {\n                module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                module.event.item.click.call($selectedItem, event);\n                if(module.is.searchSelection()) {\n                  module.remove.searchTerm();\n                }\n              }\n\n              // visible menu keyboard shortcuts\n              if( module.is.visible() ) {\n\n                // enter (select or open sub-menu)\n                if(pressedKey == keys.enter || delimiterPressed) {\n                  if(pressedKey == keys.enter && hasSelectedItem && hasSubMenu && !settings.allowCategorySelection) {\n                    module.verbose('Pressed enter on unselectable category, opening sub menu');\n                    pressedKey = keys.rightArrow;\n                  }\n                  else if(selectedIsSelectable) {\n                    module.verbose('Selecting item from keyboard shortcut', $selectedItem);\n                    module.event.item.click.call($selectedItem, event);\n                    if(module.is.searchSelection()) {\n                      module.remove.searchTerm();\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // sub-menu actions\n                if(hasSelectedItem) {\n\n                  if(pressedKey == keys.leftArrow) {\n\n                    isSubMenuItem = ($parentMenu[0] !== $menu[0]);\n\n                    if(isSubMenuItem) {\n                      module.verbose('Left key pressed, closing sub-menu');\n                      module.animate.hide(false, $parentMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $parentMenu\n                        .closest(selector.item)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n\n                  // right arrow (show sub-menu)\n                  if(pressedKey == keys.rightArrow) {\n                    if(hasSubMenu) {\n                      module.verbose('Right key pressed, opening sub-menu');\n                      module.animate.show(false, $subMenu);\n                      $selectedItem\n                        .removeClass(className.selected)\n                      ;\n                      $subMenu\n                        .find(selector.item).eq(0)\n                          .addClass(className.selected)\n                      ;\n                      event.preventDefault();\n                    }\n                  }\n                }\n\n                // up arrow (traverse menu up)\n                if(pressedKey == keys.upArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $selectedItem.prevAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($visibleItems.index( $nextItem ) < 0) {\n                    module.verbose('Up key pressed but reached top of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Up key pressed, changing active item');\n                    $selectedItem\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.selectedItem($nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // down arrow (traverse menu down)\n                if(pressedKey == keys.downArrow) {\n                  $nextItem = (hasSelectedItem && inVisibleMenu)\n                    ? $nextItem = $selectedItem.nextAll(selector.item + ':not(' + selector.unselectable + ')').eq(0)\n                    : $item.eq(0)\n                  ;\n                  if($nextItem.length === 0) {\n                    module.verbose('Down key pressed but reached bottom of current menu');\n                    event.preventDefault();\n                    return;\n                  }\n                  else {\n                    module.verbose('Down key pressed, changing active item');\n                    $item\n                      .removeClass(className.selected)\n                    ;\n                    $nextItem\n                      .addClass(className.selected)\n                    ;\n                    module.set.scrollPosition($nextItem);\n                    if(settings.selectOnKeydown && module.is.single()) {\n                      module.set.activeItem($nextItem);\n                      module.set.selected(module.get.choiceValue($nextItem), $nextItem);\n                    }\n                  }\n                  event.preventDefault();\n                }\n\n                // page down (show next page)\n                if(pressedKey == keys.pageUp) {\n                  module.scrollPage('up');\n                  event.preventDefault();\n                }\n                if(pressedKey == keys.pageDown) {\n                  module.scrollPage('down');\n                  event.preventDefault();\n                }\n\n                // escape (close menu)\n                if(pressedKey == keys.escape) {\n                  module.verbose('Escape key pressed, closing dropdown');\n                  module.hide();\n                }\n\n              }\n              else {\n                // delimiter key\n                if(delimiterPressed) {\n                  event.preventDefault();\n                }\n                // down arrow (open menu)\n                if(pressedKey == keys.downArrow && !module.is.visible()) {\n                  module.verbose('Down key pressed, showing dropdown');\n                  module.select.firstUnfiltered();\n                  module.show();\n                  event.preventDefault();\n                }\n              }\n            }\n            else {\n              if( !module.has.search() ) {\n                module.set.selectedLetter( String.fromCharCode(pressedKey) );\n              }\n            }\n          }\n        },\n\n        trigger: {\n          change: function() {\n            var\n              events       = document.createEvent('HTMLEvents'),\n              inputElement = $input[0]\n            ;\n            if(inputElement) {\n              module.verbose('Triggering native change event');\n              events.initEvent('change', true, false);\n              inputElement.dispatchEvent(events);\n            }\n          }\n        },\n\n        determine: {\n          selectAction: function(text, value) {\n            module.verbose('Determining action', settings.action);\n            if( $.isFunction( module.action[settings.action] ) ) {\n              module.verbose('Triggering preset action', settings.action, text, value);\n              module.action[ settings.action ].call(element, text, value, this);\n            }\n            else if( $.isFunction(settings.action) ) {\n              module.verbose('Triggering user action', settings.action, text, value);\n              settings.action.call(element, text, value, this);\n            }\n            else {\n              module.error(error.action, settings.action);\n            }\n          },\n          eventInModule: function(event, callback) {\n            var\n              $target    = $(event.target),\n              inDocument = ($target.closest(document.documentElement).length > 0),\n              inModule   = ($target.closest($module).length > 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inDocument && !inModule) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown, canceling callback');\n              return false;\n            }\n          },\n          eventOnElement: function(event, callback) {\n            var\n              $target      = $(event.target),\n              $label       = $target.closest(selector.siblingLabel),\n              inVisibleDOM = document.body.contains(event.target),\n              notOnLabel   = ($module.find($label).length === 0),\n              notInMenu    = ($target.closest($menu).length === 0)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if(inVisibleDOM && notOnLabel && notInMenu) {\n              module.verbose('Triggering event', callback);\n              callback();\n              return true;\n            }\n            else {\n              module.verbose('Event occurred in dropdown menu, canceling callback');\n              return false;\n            }\n          }\n        },\n\n        action: {\n\n          nothing: function() {},\n\n          activate: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            if( module.can.activate( $(element) ) ) {\n              module.set.selected(value, $(element));\n              if(module.is.multiple() && !module.is.allFiltered()) {\n                return;\n              }\n              else {\n                module.hideAndClear();\n              }\n            }\n          },\n\n          select: function(text, value, element) {\n            // mimics action.activate but does not select text\n            module.action.activate.call(element);\n          },\n\n          combo: function(text, value, element) {\n            value = (value !== undefined)\n              ? value\n              : text\n            ;\n            module.set.selected(value, $(element));\n            module.hideAndClear();\n          },\n\n          hide: function(text, value, element) {\n            module.set.value(value, text);\n            module.hideAndClear();\n          }\n\n        },\n\n        get: {\n          id: function() {\n            return id;\n          },\n          defaultText: function() {\n            return $module.data(metadata.defaultText);\n          },\n          defaultValue: function() {\n            return $module.data(metadata.defaultValue);\n          },\n          placeholderText: function() {\n            return $module.data(metadata.placeholderText) || '';\n          },\n          text: function() {\n            return $text.text();\n          },\n          query: function() {\n            return $.trim($search.val());\n          },\n          searchWidth: function(value) {\n            value = (value !== undefined)\n              ? value\n              : $search.val()\n            ;\n            $sizer.text(value);\n            // prevent rounding issues\n            return Math.ceil( $sizer.width() + 1);\n          },\n          selectionCount: function() {\n            var\n              values = module.get.values(),\n              count\n            ;\n            count = ( module.is.multiple() )\n              ? $.isArray(values)\n                ? values.length\n                : 0\n              : (module.get.value() !== '')\n                ? 1\n                : 0\n            ;\n            return count;\n          },\n          transition: function($subMenu) {\n            return (settings.transition == 'auto')\n              ? module.is.upward($subMenu)\n                ? 'slide up'\n                : 'slide down'\n              : settings.transition\n            ;\n          },\n          userValues: function() {\n            var\n              values = module.get.values()\n            ;\n            if(!values) {\n              return false;\n            }\n            values = $.isArray(values)\n              ? values\n              : [values]\n            ;\n            return $.grep(values, function(value) {\n              return (module.get.item(value) === false);\n            });\n          },\n          uniqueArray: function(array) {\n            return $.grep(array, function (value, index) {\n                return $.inArray(value, array) === index;\n            });\n          },\n          caretPosition: function() {\n            var\n              input = $search.get(0),\n              range,\n              rangeLength\n            ;\n            if('selectionStart' in input) {\n              return input.selectionStart;\n            }\n            else if (document.selection) {\n              input.focus();\n              range       = document.selection.createRange();\n              rangeLength = range.text.length;\n              range.moveStart('character', -input.value.length);\n              return range.text.length - rangeLength;\n            }\n          },\n          value: function() {\n            var\n              value = ($input.length > 0)\n                ? $input.val()\n                : $module.data(metadata.value),\n              isEmptyMultiselect = ($.isArray(value) && value.length === 1 && value[0] === '')\n            ;\n            // prevents placeholder element from being selected when multiple\n            return (value === undefined || isEmptyMultiselect)\n              ? ''\n              : value\n            ;\n          },\n          values: function() {\n            var\n              value = module.get.value()\n            ;\n            if(value === '') {\n              return '';\n            }\n            return ( !module.has.selectInput() && module.is.multiple() )\n              ? (typeof value == 'string') // delimited string\n                ? value.split(settings.delimiter)\n                : ''\n              : value\n            ;\n          },\n          remoteValues: function() {\n            var\n              values = module.get.values(),\n              remoteValues = false\n            ;\n            if(values) {\n              if(typeof values == 'string') {\n                values = [values];\n              }\n              $.each(values, function(index, value) {\n                var\n                  name = module.read.remoteData(value)\n                ;\n                module.verbose('Restoring value from session data', name, value);\n                if(name) {\n                  if(!remoteValues) {\n                    remoteValues = {};\n                  }\n                  remoteValues[value] = name;\n                }\n              });\n            }\n            return remoteValues;\n          },\n          choiceText: function($choice, preserveHTML) {\n            preserveHTML = (preserveHTML !== undefined)\n              ? preserveHTML\n              : settings.preserveHTML\n            ;\n            if($choice) {\n              if($choice.find(selector.menu).length > 0) {\n                module.verbose('Retrieving text of element with sub-menu');\n                $choice = $choice.clone();\n                $choice.find(selector.menu).remove();\n                $choice.find(selector.menuIcon).remove();\n              }\n              return ($choice.data(metadata.text) !== undefined)\n                ? $choice.data(metadata.text)\n                : (preserveHTML)\n                  ? $.trim($choice.html())\n                  : $.trim($choice.text())\n              ;\n            }\n          },\n          choiceValue: function($choice, choiceText) {\n            choiceText = choiceText || module.get.choiceText($choice);\n            if(!$choice) {\n              return false;\n            }\n            return ($choice.data(metadata.value) !== undefined)\n              ? String( $choice.data(metadata.value) )\n              : (typeof choiceText === 'string')\n                ? $.trim(choiceText.toLowerCase())\n                : String(choiceText)\n            ;\n          },\n          inputEvent: function() {\n            var\n              input = $search[0]\n            ;\n            if(input) {\n              return (input.oninput !== undefined)\n                ? 'input'\n                : (input.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n              ;\n            }\n            return false;\n          },\n          selectValues: function() {\n            var\n              select = {}\n            ;\n            select.values = [];\n            $module\n              .find('option')\n                .each(function() {\n                  var\n                    $option  = $(this),\n                    name     = $option.html(),\n                    disabled = $option.attr('disabled'),\n                    value    = ( $option.attr('value') !== undefined )\n                      ? $option.attr('value')\n                      : name\n                  ;\n                  if(settings.placeholder === 'auto' && value === '') {\n                    select.placeholder = name;\n                  }\n                  else {\n                    select.values.push({\n                      name     : name,\n                      value    : value,\n                      disabled : disabled\n                    });\n                  }\n                })\n            ;\n            if(settings.placeholder && settings.placeholder !== 'auto') {\n              module.debug('Setting placeholder value to', settings.placeholder);\n              select.placeholder = settings.placeholder;\n            }\n            if(settings.sortSelect) {\n              select.values.sort(function(a, b) {\n                return (a.name > b.name)\n                  ? 1\n                  : -1\n                ;\n              });\n              module.debug('Retrieved and sorted values from select', select);\n            }\n            else {\n              module.debug('Retrieved values from select', select);\n            }\n            return select;\n          },\n          activeItem: function() {\n            return $item.filter('.'  + className.active);\n          },\n          selectedItem: function() {\n            var\n              $selectedItem = $item.not(selector.unselectable).filter('.'  + className.selected)\n            ;\n            return ($selectedItem.length > 0)\n              ? $selectedItem\n              : $item.eq(0)\n            ;\n          },\n          itemWithAdditions: function(value) {\n            var\n              $items       = module.get.item(value),\n              $userItems   = module.create.userChoice(value),\n              hasUserItems = ($userItems && $userItems.length > 0)\n            ;\n            if(hasUserItems) {\n              $items = ($items.length > 0)\n                ? $items.add($userItems)\n                : $userItems\n              ;\n            }\n            return $items;\n          },\n          item: function(value, strict) {\n            var\n              $selectedItem = false,\n              shouldSearch,\n              isMultiple\n            ;\n            value = (value !== undefined)\n              ? value\n              : ( module.get.values() !== undefined)\n                ? module.get.values()\n                : module.get.text()\n            ;\n            shouldSearch = (isMultiple)\n              ? (value.length > 0)\n              : (value !== undefined && value !== null)\n            ;\n            isMultiple = (module.is.multiple() && $.isArray(value));\n            strict     = (value === '' || value === 0)\n              ? true\n              : strict || false\n            ;\n            if(shouldSearch) {\n              $item\n                .each(function() {\n                  var\n                    $choice       = $(this),\n                    optionText    = module.get.choiceText($choice),\n                    optionValue   = module.get.choiceValue($choice, optionText)\n                  ;\n                  // safe early exit\n                  if(optionValue === null || optionValue === undefined) {\n                    return;\n                  }\n                  if(isMultiple) {\n                    if($.inArray( String(optionValue), value) !== -1 || $.inArray(optionText, value) !== -1) {\n                      $selectedItem = ($selectedItem)\n                        ? $selectedItem.add($choice)\n                        : $choice\n                      ;\n                    }\n                  }\n                  else if(strict) {\n                    module.verbose('Ambiguous dropdown value using strict type check', $choice, value);\n                    if( optionValue === value || optionText === value) {\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                  else {\n                    if( String(optionValue) == String(value) || optionText == value) {\n                      module.verbose('Found select item by value', optionValue, value);\n                      $selectedItem = $choice;\n                      return true;\n                    }\n                  }\n                })\n              ;\n            }\n            return $selectedItem;\n          }\n        },\n\n        check: {\n          maxSelections: function(selectionCount) {\n            if(settings.maxSelections) {\n              selectionCount = (selectionCount !== undefined)\n                ? selectionCount\n                : module.get.selectionCount()\n              ;\n              if(selectionCount >= settings.maxSelections) {\n                module.debug('Maximum selection count reached');\n                if(settings.useLabels) {\n                  $item.addClass(className.filtered);\n                  module.add.message(message.maxSelections);\n                }\n                return true;\n              }\n              else {\n                module.verbose('No longer at maximum selection count');\n                module.remove.message();\n                module.remove.filteredItem();\n                if(module.is.searchSelection()) {\n                  module.filterItems();\n                }\n                return false;\n              }\n            }\n            return true;\n          }\n        },\n\n        restore: {\n          defaults: function() {\n            module.clear();\n            module.restore.defaultText();\n            module.restore.defaultValue();\n          },\n          defaultText: function() {\n            var\n              defaultText     = module.get.defaultText(),\n              placeholderText = module.get.placeholderText\n            ;\n            if(defaultText === placeholderText) {\n              module.debug('Restoring default placeholder text', defaultText);\n              module.set.placeholderText(defaultText);\n            }\n            else {\n              module.debug('Restoring default text', defaultText);\n              module.set.text(defaultText);\n            }\n          },\n          placeholderText: function() {\n            module.set.placeholderText();\n          },\n          defaultValue: function() {\n            var\n              defaultValue = module.get.defaultValue()\n            ;\n            if(defaultValue !== undefined) {\n              module.debug('Restoring default value', defaultValue);\n              if(defaultValue !== '') {\n                module.set.value(defaultValue);\n                module.set.selected();\n              }\n              else {\n                module.remove.activeItem();\n                module.remove.selectedItem();\n              }\n            }\n          },\n          labels: function() {\n            if(settings.allowAdditions) {\n              if(!settings.useLabels) {\n                module.error(error.labels);\n                settings.useLabels = true;\n              }\n              module.debug('Restoring selected values');\n              module.create.userLabels();\n            }\n            module.check.maxSelections();\n          },\n          selected: function() {\n            module.restore.values();\n            if(module.is.multiple()) {\n              module.debug('Restoring previously selected values and labels');\n              module.restore.labels();\n            }\n            else {\n              module.debug('Restoring previously selected values');\n            }\n          },\n          values: function() {\n            // prevents callbacks from occurring on initial load\n            module.set.initialLoad();\n            if(settings.apiSettings && settings.saveRemoteData && module.get.remoteValues()) {\n              module.restore.remoteValues();\n            }\n            else {\n              module.set.selected();\n            }\n            module.remove.initialLoad();\n          },\n          remoteValues: function() {\n            var\n              values = module.get.remoteValues()\n            ;\n            module.debug('Recreating selected from session data', values);\n            if(values) {\n              if( module.is.single() ) {\n                $.each(values, function(value, name) {\n                  module.set.text(name);\n                });\n              }\n              else {\n                $.each(values, function(value, name) {\n                  module.add.label(value, name);\n                });\n              }\n            }\n          }\n        },\n\n        read: {\n          remoteData: function(value) {\n            var\n              name\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            name = sessionStorage.getItem(value);\n            return (name !== undefined)\n              ? name\n              : false\n            ;\n          }\n        },\n\n        save: {\n          defaults: function() {\n            module.save.defaultText();\n            module.save.placeholderText();\n            module.save.defaultValue();\n          },\n          defaultValue: function() {\n            var\n              value = module.get.value()\n            ;\n            module.verbose('Saving default value as', value);\n            $module.data(metadata.defaultValue, value);\n          },\n          defaultText: function() {\n            var\n              text = module.get.text()\n            ;\n            module.verbose('Saving default text as', text);\n            $module.data(metadata.defaultText, text);\n          },\n          placeholderText: function() {\n            var\n              text\n            ;\n            if(settings.placeholder !== false && $text.hasClass(className.placeholder)) {\n              text = module.get.text();\n              module.verbose('Saving placeholder text as', text);\n              $module.data(metadata.placeholderText, text);\n            }\n          },\n          remoteData: function(name, value) {\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            module.verbose('Saving remote data to session storage', value, name);\n            sessionStorage.setItem(value, name);\n          }\n        },\n\n        clear: function() {\n          if(module.is.multiple()) {\n            module.remove.labels();\n          }\n          else {\n            module.remove.activeItem();\n            module.remove.selectedItem();\n          }\n          module.set.placeholderText();\n          module.clearValue();\n        },\n\n        clearValue: function() {\n          module.set.value('');\n        },\n\n        scrollPage: function(direction, $selectedItem) {\n          var\n            $currentItem  = $selectedItem || module.get.selectedItem(),\n            $menu         = $currentItem.closest(selector.menu),\n            menuHeight    = $menu.outerHeight(),\n            currentScroll = $menu.scrollTop(),\n            itemHeight    = $item.eq(0).outerHeight(),\n            itemsPerPage  = Math.floor(menuHeight / itemHeight),\n            maxScroll     = $menu.prop('scrollHeight'),\n            newScroll     = (direction == 'up')\n              ? currentScroll - (itemHeight * itemsPerPage)\n              : currentScroll + (itemHeight * itemsPerPage),\n            $selectableItem = $item.not(selector.unselectable),\n            isWithinRange,\n            $nextSelectedItem,\n            elementIndex\n          ;\n          elementIndex      = (direction == 'up')\n            ? $selectableItem.index($currentItem) - itemsPerPage\n            : $selectableItem.index($currentItem) + itemsPerPage\n          ;\n          isWithinRange = (direction == 'up')\n            ? (elementIndex >= 0)\n            : (elementIndex < $selectableItem.length)\n          ;\n          $nextSelectedItem = (isWithinRange)\n            ? $selectableItem.eq(elementIndex)\n            : (direction == 'up')\n              ? $selectableItem.first()\n              : $selectableItem.last()\n          ;\n          if($nextSelectedItem.length > 0) {\n            module.debug('Scrolling page', direction, $nextSelectedItem);\n            $currentItem\n              .removeClass(className.selected)\n            ;\n            $nextSelectedItem\n              .addClass(className.selected)\n            ;\n            if(settings.selectOnKeydown && module.is.single()) {\n              module.set.selectedItem($nextSelectedItem);\n            }\n            $menu\n              .scrollTop(newScroll)\n            ;\n          }\n        },\n\n        set: {\n          filtered: function() {\n            var\n              isMultiple       = module.is.multiple(),\n              isSearch         = module.is.searchSelection(),\n              isSearchMultiple = (isMultiple && isSearch),\n              searchValue      = (isSearch)\n                ? module.get.query()\n                : '',\n              hasSearchValue   = (typeof searchValue === 'string' && searchValue.length > 0),\n              searchWidth      = module.get.searchWidth(),\n              valueIsSet       = searchValue !== ''\n            ;\n            if(isMultiple && hasSearchValue) {\n              module.verbose('Adjusting input width', searchWidth, settings.glyphWidth);\n              $search.css('width', searchWidth);\n            }\n            if(hasSearchValue || (isSearchMultiple && valueIsSet)) {\n              module.verbose('Hiding placeholder text');\n              $text.addClass(className.filtered);\n            }\n            else if(!isMultiple || (isSearchMultiple && !valueIsSet)) {\n              module.verbose('Showing placeholder text');\n              $text.removeClass(className.filtered);\n            }\n          },\n          empty: function() {\n            $module.addClass(className.empty);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          placeholderText: function(text) {\n            text = text || module.get.placeholderText();\n            module.debug('Setting placeholder text', text);\n            module.set.text(text);\n            $text.addClass(className.placeholder);\n          },\n          tabbable: function() {\n            if( module.has.search() ) {\n              module.debug('Added tabindex to searchable dropdown');\n              $search\n                .val('')\n                .attr('tabindex', 0)\n              ;\n              $menu\n                .attr('tabindex', -1)\n              ;\n            }\n            else {\n              module.debug('Added tabindex to dropdown');\n              if( $module.attr('tabindex') === undefined) {\n                $module\n                  .attr('tabindex', 0)\n                ;\n                $menu\n                  .attr('tabindex', -1)\n                ;\n              }\n            }\n          },\n          initialLoad: function() {\n            module.verbose('Setting initial load');\n            initialLoad = true;\n          },\n          activeItem: function($item) {\n            if( settings.allowAdditions && $item.filter(selector.addition).length > 0 ) {\n              $item.addClass(className.filtered);\n            }\n            else {\n              $item.addClass(className.active);\n            }\n          },\n          scrollPosition: function($item, forceScroll) {\n            var\n              edgeTolerance = 5,\n              $menu,\n              hasActive,\n              offset,\n              itemHeight,\n              itemOffset,\n              menuOffset,\n              menuScroll,\n              menuHeight,\n              abovePage,\n              belowPage\n            ;\n\n            $item       = $item || module.get.selectedItem();\n            $menu       = $item.closest(selector.menu);\n            hasActive   = ($item && $item.length > 0);\n            forceScroll = (forceScroll !== undefined)\n              ? forceScroll\n              : false\n            ;\n            if($item && $menu.length > 0 && hasActive) {\n              itemOffset = $item.position().top;\n\n              $menu.addClass(className.loading);\n              menuScroll = $menu.scrollTop();\n              menuOffset = $menu.offset().top;\n              itemOffset = $item.offset().top;\n              offset     = menuScroll - menuOffset + itemOffset;\n              if(!forceScroll) {\n                menuHeight = $menu.height();\n                belowPage  = menuScroll + menuHeight < (offset + edgeTolerance);\n                abovePage  = ((offset - edgeTolerance) < menuScroll);\n              }\n              module.debug('Scrolling to active item', offset);\n              if(forceScroll || abovePage || belowPage) {\n                $menu.scrollTop(offset);\n              }\n              $menu.removeClass(className.loading);\n            }\n          },\n          text: function(text) {\n            if(settings.action !== 'select') {\n              if(settings.action == 'combo') {\n                module.debug('Changing combo button text', text, $combo);\n                if(settings.preserveHTML) {\n                  $combo.html(text);\n                }\n                else {\n                  $combo.text(text);\n                }\n              }\n              else {\n                if(text !== module.get.placeholderText()) {\n                  $text.removeClass(className.placeholder);\n                }\n                module.debug('Changing text', text, $text);\n                $text\n                  .removeClass(className.filtered)\n                ;\n                if(settings.preserveHTML) {\n                  $text.html(text);\n                }\n                else {\n                  $text.text(text);\n                }\n              }\n            }\n          },\n          selectedItem: function($item) {\n            module.debug('Setting user selection to item', $item);\n            module.remove.activeItem();\n            module.set.activeItem($item);\n            module.set.selected(module.get.choiceValue($item), $item);\n          },\n          selectedLetter: function(letter) {\n            var\n              $selectedItem         = $item.filter('.' + className.selected),\n              alreadySelectedLetter = $selectedItem.length > 0 && module.has.firstLetter($selectedItem, letter),\n              $nextValue            = false,\n              $nextItem\n            ;\n            // check next of same letter\n            if(alreadySelectedLetter) {\n              $nextItem = $selectedItem.nextAll($item).eq(0);\n              if( module.has.firstLetter($nextItem, letter) ) {\n                $nextValue  = $nextItem;\n              }\n            }\n            // check all values\n            if(!$nextValue) {\n              $item\n                .each(function(){\n                  if(module.has.firstLetter($(this), letter)) {\n                    $nextValue = $(this);\n                    return false;\n                  }\n                })\n              ;\n            }\n            // set next value\n            if($nextValue) {\n              module.verbose('Scrolling to next value with letter', letter);\n              module.set.scrollPosition($nextValue);\n              $selectedItem.removeClass(className.selected);\n              $nextValue.addClass(className.selected);\n              if(settings.selectOnKeydown && module.is.single()) {\n                module.set.selectedItem($nextValue);\n              }\n            }\n          },\n          direction: function($menu) {\n            if(settings.direction == 'auto') {\n              if(module.is.onScreen($menu)) {\n                module.remove.upward($menu);\n              }\n              else {\n                module.set.upward($menu);\n              }\n            }\n            else if(settings.direction == 'upward') {\n              module.set.upward($menu);\n            }\n          },\n          upward: function($menu) {\n            var $element = $menu || $module;\n            $element.addClass(className.upward);\n          },\n          value: function(value, text, $selected) {\n            var\n              escapedValue = module.escape.value(value),\n              hasInput     = ($input.length > 0),\n              isAddition   = !module.has.value(value),\n              currentValue = module.get.values(),\n              stringValue  = (value !== undefined)\n                ? String(value)\n                : value,\n              newValue\n            ;\n            if(hasInput) {\n              if(!settings.allowReselection && stringValue == currentValue) {\n                module.verbose('Skipping value update already same value', value, currentValue);\n                if(!module.is.initialLoad()) {\n                  return;\n                }\n              }\n\n              if( module.is.single() && module.has.selectInput() && module.can.extendSelect() ) {\n                module.debug('Adding user option', value);\n                module.add.optionValue(value);\n              }\n              module.debug('Updating input value', escapedValue, currentValue);\n              internalChange = true;\n              $input\n                .val(escapedValue)\n              ;\n              if(settings.fireOnInit === false && module.is.initialLoad()) {\n                module.debug('Input native change event ignored on initial load');\n              }\n              else {\n                module.trigger.change();\n              }\n              internalChange = false;\n            }\n            else {\n              module.verbose('Storing value in metadata', escapedValue, $input);\n              if(escapedValue !== currentValue) {\n                $module.data(metadata.value, stringValue);\n              }\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onChange);\n            }\n            else {\n              settings.onChange.call(element, value, text, $selected);\n            }\n          },\n          active: function() {\n            $module\n              .addClass(className.active)\n            ;\n          },\n          multiple: function() {\n            $module.addClass(className.multiple);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          exactly: function(value, $selectedItem) {\n            module.debug('Setting selected to exact values');\n            module.clear();\n            module.set.selected(value, $selectedItem);\n          },\n          selected: function(value, $selectedItem) {\n            var\n              isMultiple = module.is.multiple(),\n              $userSelectedItem\n            ;\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n            if(!$selectedItem) {\n              return;\n            }\n            module.debug('Setting selected menu item to', $selectedItem);\n            if(module.is.multiple()) {\n              module.remove.searchWidth();\n            }\n            if(module.is.single()) {\n              module.remove.activeItem();\n              module.remove.selectedItem();\n            }\n            else if(settings.useLabels) {\n              module.remove.selectedItem();\n            }\n            // select each item\n            $selectedItem\n              .each(function() {\n                var\n                  $selected      = $(this),\n                  selectedText   = module.get.choiceText($selected),\n                  selectedValue  = module.get.choiceValue($selected, selectedText),\n\n                  isFiltered     = $selected.hasClass(className.filtered),\n                  isActive       = $selected.hasClass(className.active),\n                  isUserValue    = $selected.hasClass(className.addition),\n                  shouldAnimate  = (isMultiple && $selectedItem.length == 1)\n                ;\n                if(isMultiple) {\n                  if(!isActive || isUserValue) {\n                    if(settings.apiSettings && settings.saveRemoteData) {\n                      module.save.remoteData(selectedText, selectedValue);\n                    }\n                    if(settings.useLabels) {\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.add.label(selectedValue, selectedText, shouldAnimate);\n                      module.set.activeItem($selected);\n                      module.filterActive();\n                      module.select.nextAvailable($selectedItem);\n                    }\n                    else {\n                      module.add.value(selectedValue, selectedText, $selected);\n                      module.set.text(module.add.variables(message.count));\n                      module.set.activeItem($selected);\n                    }\n                  }\n                  else if(!isFiltered) {\n                    module.debug('Selected active value, removing label');\n                    module.remove.selected(selectedValue);\n                  }\n                }\n                else {\n                  if(settings.apiSettings && settings.saveRemoteData) {\n                    module.save.remoteData(selectedText, selectedValue);\n                  }\n                  module.set.text(selectedText);\n                  module.set.value(selectedValue, selectedText, $selected);\n                  $selected\n                    .addClass(className.active)\n                    .addClass(className.selected)\n                  ;\n                }\n              })\n            ;\n          }\n        },\n\n        add: {\n          label: function(value, text, shouldAnimate) {\n            var\n              $next  = module.is.searchSelection()\n                ? $search\n                : $text,\n              escapedValue = module.escape.value(value),\n              $label\n            ;\n            $label =  $('<a />')\n              .addClass(className.label)\n              .attr('data-value', escapedValue)\n              .html(templates.label(escapedValue, text))\n            ;\n            $label = settings.onLabelCreate.call($label, escapedValue, text);\n\n            if(module.has.label(value)) {\n              module.debug('Label already exists, skipping', escapedValue);\n              return;\n            }\n            if(settings.label.variation) {\n              $label.addClass(settings.label.variation);\n            }\n            if(shouldAnimate === true) {\n              module.debug('Animating in label', $label);\n              $label\n                .addClass(className.hidden)\n                .insertBefore($next)\n                .transition(settings.label.transition, settings.label.duration)\n              ;\n            }\n            else {\n              module.debug('Adding selection label', $label);\n              $label\n                .insertBefore($next)\n              ;\n            }\n          },\n          message: function(message) {\n            var\n              $message = $menu.children(selector.message),\n              html     = settings.templates.message(module.add.variables(message))\n            ;\n            if($message.length > 0) {\n              $message\n                .html(html)\n              ;\n            }\n            else {\n              $message = $('<div/>')\n                .html(html)\n                .addClass(className.message)\n                .appendTo($menu)\n              ;\n            }\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + escapedValue + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(hasOption) {\n              return;\n            }\n            // temporarily disconnect observer\n            module.disconnect.selectObserver();\n            if( module.is.single() ) {\n              module.verbose('Removing previous user addition');\n              $input.find('option.' + className.addition).remove();\n            }\n            $('<option/>')\n              .prop('value', escapedValue)\n              .addClass(className.addition)\n              .html(value)\n              .appendTo($input)\n            ;\n            module.verbose('Adding user addition as an <option>', value);\n            module.observe.select();\n          },\n          userSuggestion: function(value) {\n            var\n              $addition         = $menu.children(selector.addition),\n              $existingItem     = module.get.item(value),\n              alreadyHasValue   = $existingItem && $existingItem.not(selector.addition).length,\n              hasUserSuggestion = $addition.length > 0,\n              html\n            ;\n            if(settings.useLabels && module.has.maxSelections()) {\n              return;\n            }\n            if(value === '' || alreadyHasValue) {\n              $addition.remove();\n              return;\n            }\n            if(hasUserSuggestion) {\n              $addition\n                .data(metadata.value, value)\n                .data(metadata.text, value)\n                .attr('data-' + metadata.value, value)\n                .attr('data-' + metadata.text, value)\n                .removeClass(className.filtered)\n              ;\n              if(!settings.hideAdditions) {\n                html = settings.templates.addition( module.add.variables(message.addResult, value) );\n                $addition\n                  .html(html)\n                ;\n              }\n              module.verbose('Replacing user suggestion with new value', $addition);\n            }\n            else {\n              $addition = module.create.userChoice(value);\n              $addition\n                .prependTo($menu)\n              ;\n              module.verbose('Adding item choice to menu corresponding with user choice addition', $addition);\n            }\n            if(!settings.hideAdditions || module.is.allFiltered()) {\n              $addition\n                .addClass(className.selected)\n                .siblings()\n                .removeClass(className.selected)\n              ;\n            }\n            module.refreshItems();\n          },\n          variables: function(message, term) {\n            var\n              hasCount    = (message.search('{count}') !== -1),\n              hasMaxCount = (message.search('{maxCount}') !== -1),\n              hasTerm     = (message.search('{term}') !== -1),\n              values,\n              count,\n              query\n            ;\n            module.verbose('Adding templated variables to message', message);\n            if(hasCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{count}', count);\n            }\n            if(hasMaxCount) {\n              count  = module.get.selectionCount();\n              message = message.replace('{maxCount}', settings.maxSelections);\n            }\n            if(hasTerm) {\n              query   = term || module.get.query();\n              message = message.replace('{term}', query);\n            }\n            return message;\n          },\n          value: function(addedValue, addedText, $selectedItem) {\n            var\n              currentValue = module.get.values(),\n              newValue\n            ;\n            if(addedValue === '') {\n              module.debug('Cannot select blank values from multiselect');\n              return;\n            }\n            // extend current array\n            if($.isArray(currentValue)) {\n              newValue = currentValue.concat([addedValue]);\n              newValue = module.get.uniqueArray(newValue);\n            }\n            else {\n              newValue = [addedValue];\n            }\n            // add values\n            if( module.has.selectInput() ) {\n              if(module.can.extendSelect()) {\n                module.debug('Adding value to select', addedValue, newValue, $input);\n                module.add.optionValue(addedValue);\n              }\n            }\n            else {\n              newValue = newValue.join(settings.delimiter);\n              module.debug('Setting hidden input to delimited value', newValue, $input);\n            }\n\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('Skipping onadd callback on initial load', settings.onAdd);\n            }\n            else {\n              settings.onAdd.call(element, addedValue, addedText, $selectedItem);\n            }\n            module.set.value(newValue, addedValue, addedText, $selectedItem);\n            module.check.maxSelections();\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          activeLabel: function() {\n            $module.find(selector.label).removeClass(className.active);\n          },\n          empty: function() {\n            $module.removeClass(className.empty);\n          },\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          },\n          upward: function($menu) {\n            var $element = $menu || $module;\n            $element.removeClass(className.upward);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          activeItem: function() {\n            $item.removeClass(className.active);\n          },\n          filteredItem: function() {\n            if(settings.useLabels && module.has.maxSelections() ) {\n              return;\n            }\n            if(settings.useLabels && module.is.multiple()) {\n              $item.not('.' + className.active).removeClass(className.filtered);\n            }\n            else {\n              $item.removeClass(className.filtered);\n            }\n            module.remove.empty();\n          },\n          optionValue: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $option      = $input.find('option[value=\"' + escapedValue + '\"]'),\n              hasOption    = ($option.length > 0)\n            ;\n            if(!hasOption || !$option.hasClass(className.addition)) {\n              return;\n            }\n            // temporarily disconnect observer\n            if(selectObserver) {\n              selectObserver.disconnect();\n              module.verbose('Temporarily disconnecting mutation observer');\n            }\n            $option.remove();\n            module.verbose('Removing user addition as an <option>', escapedValue);\n            if(selectObserver) {\n              selectObserver.observe($input[0], {\n                childList : true,\n                subtree   : true\n              });\n            }\n          },\n          message: function() {\n            $menu.children(selector.message).remove();\n          },\n          searchWidth: function() {\n            $search.css('width', '');\n          },\n          searchTerm: function() {\n            module.verbose('Cleared search term');\n            $search.val('');\n            module.set.filtered();\n          },\n          userAddition: function() {\n            $item.filter(selector.addition).remove();\n          },\n          selected: function(value, $selectedItem) {\n            $selectedItem = (settings.allowAdditions)\n              ? $selectedItem || module.get.itemWithAdditions(value)\n              : $selectedItem || module.get.item(value)\n            ;\n\n            if(!$selectedItem) {\n              return false;\n            }\n\n            $selectedItem\n              .each(function() {\n                var\n                  $selected     = $(this),\n                  selectedText  = module.get.choiceText($selected),\n                  selectedValue = module.get.choiceValue($selected, selectedText)\n                ;\n                if(module.is.multiple()) {\n                  if(settings.useLabels) {\n                    module.remove.value(selectedValue, selectedText, $selected);\n                    module.remove.label(selectedValue);\n                  }\n                  else {\n                    module.remove.value(selectedValue, selectedText, $selected);\n                    if(module.get.selectionCount() === 0) {\n                      module.set.placeholderText();\n                    }\n                    else {\n                      module.set.text(module.add.variables(message.count));\n                    }\n                  }\n                }\n                else {\n                  module.remove.value(selectedValue, selectedText, $selected);\n                }\n                $selected\n                  .removeClass(className.filtered)\n                  .removeClass(className.active)\n                ;\n                if(settings.useLabels) {\n                  $selected.removeClass(className.selected);\n                }\n              })\n            ;\n          },\n          selectedItem: function() {\n            $item.removeClass(className.selected);\n          },\n          value: function(removedValue, removedText, $removedItem) {\n            var\n              values = module.get.values(),\n              newValue\n            ;\n            if( module.has.selectInput() ) {\n              module.verbose('Input is <select> removing selected option', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              module.remove.optionValue(removedValue);\n            }\n            else {\n              module.verbose('Removing from delimited values', removedValue);\n              newValue = module.remove.arrayValue(removedValue, values);\n              newValue = newValue.join(settings.delimiter);\n            }\n            if(settings.fireOnInit === false && module.is.initialLoad()) {\n              module.verbose('No callback on initial load', settings.onRemove);\n            }\n            else {\n              settings.onRemove.call(element, removedValue, removedText, $removedItem);\n            }\n            module.set.value(newValue, removedText, $removedItem);\n            module.check.maxSelections();\n          },\n          arrayValue: function(removedValue, values) {\n            if( !$.isArray(values) ) {\n              values = [values];\n            }\n            values = $.grep(values, function(value){\n              return (removedValue != value);\n            });\n            module.verbose('Removed value from delimited string', removedValue, values);\n            return values;\n          },\n          label: function(value, shouldAnimate) {\n            var\n              $labels       = $module.find(selector.label),\n              $removedLabel = $labels.filter('[data-value=\"' + value +'\"]')\n            ;\n            module.verbose('Removing label', $removedLabel);\n            $removedLabel.remove();\n          },\n          activeLabels: function($activeLabels) {\n            $activeLabels = $activeLabels || $module.find(selector.label).filter('.' + className.active);\n            module.verbose('Removing active label selections', $activeLabels);\n            module.remove.labels($activeLabels);\n          },\n          labels: function($labels) {\n            $labels = $labels || $module.find(selector.label);\n            module.verbose('Removing labels', $labels);\n            $labels\n              .each(function(){\n                var\n                  $label      = $(this),\n                  value       = $label.data(metadata.value),\n                  stringValue = (value !== undefined)\n                    ? String(value)\n                    : value,\n                  isUserValue = module.is.userValue(stringValue)\n                ;\n                if(settings.onLabelRemove.call($label, value) === false) {\n                  module.debug('Label remove callback cancelled removal');\n                  return;\n                }\n                module.remove.message();\n                if(isUserValue) {\n                  module.remove.value(stringValue);\n                  module.remove.label(stringValue);\n                }\n                else {\n                  // selected will also remove label\n                  module.remove.selected(stringValue);\n                }\n              })\n            ;\n          },\n          tabbable: function() {\n            if( module.has.search() ) {\n              module.debug('Searchable dropdown initialized');\n              $search\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n            else {\n              module.debug('Simple selection dropdown initialized');\n              $module\n                .removeAttr('tabindex')\n              ;\n              $menu\n                .removeAttr('tabindex')\n              ;\n            }\n          }\n        },\n\n        has: {\n          menuSearch: function() {\n            return (module.has.search() && $search.closest($menu).length > 0);\n          },\n          search: function() {\n            return ($search.length > 0);\n          },\n          sizer: function() {\n            return ($sizer.length > 0);\n          },\n          selectInput: function() {\n            return ( $input.is('select') );\n          },\n          minCharacters: function(searchTerm) {\n            if(settings.minCharacters) {\n              searchTerm = (searchTerm !== undefined)\n                ? String(searchTerm)\n                : String(module.get.query())\n              ;\n              return (searchTerm.length >= settings.minCharacters);\n            }\n            return true;\n          },\n          firstLetter: function($item, letter) {\n            var\n              text,\n              firstLetter\n            ;\n            if(!$item || $item.length === 0 || typeof letter !== 'string') {\n              return false;\n            }\n            text        = module.get.choiceText($item, false);\n            letter      = letter.toLowerCase();\n            firstLetter = String(text).charAt(0).toLowerCase();\n            return (letter == firstLetter);\n          },\n          input: function() {\n            return ($input.length > 0);\n          },\n          items: function() {\n            return ($item.length > 0);\n          },\n          menu: function() {\n            return ($menu.length > 0);\n          },\n          message: function() {\n            return ($menu.children(selector.message).length !== 0);\n          },\n          label: function(value) {\n            var\n              escapedValue = module.escape.value(value),\n              $labels      = $module.find(selector.label)\n            ;\n            return ($labels.filter('[data-value=\"' + escapedValue +'\"]').length > 0);\n          },\n          maxSelections: function() {\n            return (settings.maxSelections && module.get.selectionCount() >= settings.maxSelections);\n          },\n          allResultsFiltered: function() {\n            var\n              $normalResults = $item.not(selector.addition)\n            ;\n            return ($normalResults.filter(selector.unselectable).length === $normalResults.length);\n          },\n          userSuggestion: function() {\n            return ($menu.children(selector.addition).length > 0);\n          },\n          query: function() {\n            return (module.get.query() !== '');\n          },\n          value: function(value) {\n            var\n              values   = module.get.values(),\n              hasValue = $.isArray(values)\n               ? values && ($.inArray(value, values) !== -1)\n               : (values == value)\n            ;\n            return (hasValue)\n              ? true\n              : false\n            ;\n          }\n        },\n\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          bubbledLabelClick: function(event) {\n            return $(event.target).is('select, input') && $module.closest('label').length > 0;\n          },\n          alreadySetup: function() {\n            return ($module.is('select') && $module.parent(selector.dropdown).length > 0  && $module.prev().length === 0);\n          },\n          animating: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.transition && $subMenu.transition('is animating')\n              : $menu.transition    && $menu.transition('is animating')\n            ;\n          },\n          disabled: function() {\n            return $module.hasClass(className.disabled);\n          },\n          focused: function() {\n            return (document.activeElement === $module[0]);\n          },\n          focusedOnSearch: function() {\n            return (document.activeElement === $search[0]);\n          },\n          allFiltered: function() {\n            return( (module.is.multiple() || module.has.search()) && !(settings.hideAdditions == false && module.has.userSuggestion()) && !module.has.message() && module.has.allResultsFiltered() );\n          },\n          hidden: function($subMenu) {\n            return !module.is.visible($subMenu);\n          },\n          initialLoad: function() {\n            return initialLoad;\n          },\n          onScreen: function($subMenu) {\n            var\n              $currentMenu   = $subMenu || $menu,\n              canOpenDownward = true,\n              onScreen = {},\n              calculations\n            ;\n            $currentMenu.addClass(className.loading);\n            calculations = {\n              context: {\n                scrollTop : $context.scrollTop(),\n                height    : $context.outerHeight()\n              },\n              menu : {\n                offset: $currentMenu.offset(),\n                height: $currentMenu.outerHeight()\n              }\n            };\n            onScreen = {\n              above : (calculations.context.scrollTop) <= calculations.menu.offset.top - calculations.menu.height,\n              below : (calculations.context.scrollTop + calculations.context.height) >= calculations.menu.offset.top + calculations.menu.height\n            };\n            if(onScreen.below) {\n              module.verbose('Dropdown can fit in context downward', onScreen);\n              canOpenDownward = true;\n            }\n            else if(!onScreen.below && !onScreen.above) {\n              module.verbose('Dropdown cannot fit in either direction, favoring downward', onScreen);\n              canOpenDownward = true;\n            }\n            else {\n              module.verbose('Dropdown cannot fit below, opening upward', onScreen);\n              canOpenDownward = false;\n            }\n            $currentMenu.removeClass(className.loading);\n            return canOpenDownward;\n          },\n          inObject: function(needle, object) {\n            var\n              found = false\n            ;\n            $.each(object, function(index, property) {\n              if(property == needle) {\n                found = true;\n                return true;\n              }\n            });\n            return found;\n          },\n          multiple: function() {\n            return $module.hasClass(className.multiple);\n          },\n          single: function() {\n            return !module.is.multiple();\n          },\n          selectMutation: function(mutations) {\n            var\n              selectChanged = false\n            ;\n            $.each(mutations, function(index, mutation) {\n              if(mutation.target && $(mutation.target).is('select')) {\n                selectChanged = true;\n                return true;\n              }\n            });\n            return selectChanged;\n          },\n          search: function() {\n            return $module.hasClass(className.search);\n          },\n          searchSelection: function() {\n            return ( module.has.search() && $search.parent(selector.dropdown).length === 1 );\n          },\n          selection: function() {\n            return $module.hasClass(className.selection);\n          },\n          userValue: function(value) {\n            return ($.inArray(value, module.get.userValues()) !== -1);\n          },\n          upward: function($menu) {\n            var $element = $menu || $module;\n            return $element.hasClass(className.upward);\n          },\n          visible: function($subMenu) {\n            return ($subMenu)\n              ? $subMenu.hasClass(className.visible)\n              : $menu.hasClass(className.visible)\n            ;\n          }\n        },\n\n        can: {\n          activate: function($item) {\n            if(settings.useLabels) {\n              return true;\n            }\n            if(!module.has.maxSelections()) {\n              return true;\n            }\n            if(module.has.maxSelections() && $item.hasClass(className.active)) {\n              return true;\n            }\n            return false;\n          },\n          click: function() {\n            return (hasTouch || settings.on == 'click');\n          },\n          extendSelect: function() {\n            return settings.allowAdditions || settings.apiSettings;\n          },\n          show: function() {\n            return !module.is.disabled() && (module.has.items() || module.has.message());\n          },\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          }\n        },\n\n        animate: {\n          show: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  module.hideSubMenus();\n                  module.hideOthers();\n                  module.set.active();\n                },\n              transition\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            module.verbose('Doing menu show animation', $currentMenu);\n            module.set.direction($subMenu);\n            transition = module.get.transition($subMenu);\n            if( module.is.selection() ) {\n              module.set.scrollPosition(module.get.selectedItem(), true);\n            }\n            if( module.is.hidden($currentMenu) || module.is.animating($currentMenu) ) {\n              if(transition == 'none') {\n                start();\n                $currentMenu.transition('show');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' in',\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    duration   : settings.duration,\n                    queue      : true,\n                    onStart    : start,\n                    onComplete : function() {\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition, transition);\n              }\n            }\n          },\n          hide: function(callback, $subMenu) {\n            var\n              $currentMenu = $subMenu || $menu,\n              duration = ($subMenu)\n                ? (settings.duration * 0.9)\n                : settings.duration,\n              start = ($subMenu)\n                ? function() {}\n                : function() {\n                  if( module.can.click() ) {\n                    module.unbind.intent();\n                  }\n                  module.remove.active();\n                },\n              transition = module.get.transition($subMenu)\n            ;\n            callback = $.isFunction(callback)\n              ? callback\n              : function(){}\n            ;\n            if( module.is.visible($currentMenu) || module.is.animating($currentMenu) ) {\n              module.verbose('Doing menu hide animation', $currentMenu);\n\n              if(transition == 'none') {\n                start();\n                $currentMenu.transition('hide');\n                callback.call(element);\n              }\n              else if($.fn.transition !== undefined && $module.transition('is supported')) {\n                $currentMenu\n                  .transition({\n                    animation  : transition + ' out',\n                    duration   : settings.duration,\n                    debug      : settings.debug,\n                    verbose    : settings.verbose,\n                    queue      : true,\n                    onStart    : start,\n                    onComplete : function() {\n                      if(settings.direction == 'auto') {\n                        module.remove.upward($subMenu);\n                      }\n                      callback.call(element);\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.transition);\n              }\n            }\n          }\n        },\n\n        hideAndClear: function() {\n          module.remove.searchTerm();\n          if( module.has.maxSelections() ) {\n            return;\n          }\n          if(module.has.search()) {\n            module.hide(function() {\n              module.remove.filteredItem();\n            });\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        delay: {\n          show: function() {\n            module.verbose('Delaying show event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.show, settings.delay.show);\n          },\n          hide: function() {\n            module.verbose('Delaying hide event to ensure user intent');\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.hide, settings.delay.hide);\n          }\n        },\n\n        escape: {\n          value: function(value) {\n            var\n              multipleValues = $.isArray(value),\n              stringValue    = (typeof value === 'string'),\n              isUnparsable   = (!stringValue && !multipleValues),\n              hasQuotes      = (stringValue && value.search(regExp.quote) !== -1),\n              values         = []\n            ;\n            if(!module.has.selectInput() || isUnparsable || !hasQuotes) {\n              return value;\n            }\n            module.debug('Encoding quote values for use in select', value);\n            if(multipleValues) {\n              $.each(value, function(index, value){\n                values.push(value.replace(regExp.quote, '&quot;'));\n              });\n              return values;\n            }\n            return value.replace(regExp.quote, '&quot;');\n          },\n          regExp: function(text) {\n            text =  String(text);\n            return text.replace(regExp.escape, '\\\\$&');\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : $allModules\n  ;\n};\n\n$.fn.dropdown.settings = {\n\n  silent                 : false,\n  debug                  : false,\n  verbose                : false,\n  performance            : true,\n\n  on                     : 'click',    // what event should show menu action on item selection\n  action                 : 'activate', // action on item selection (nothing, activate, select, combo, hide, function(){})\n\n\n  apiSettings            : false,\n  selectOnKeydown        : true,       // Whether selection should occur automatically when keyboard shortcuts used\n  minCharacters          : 0,          // Minimum characters required to trigger API call\n  saveRemoteData         : true,       // Whether remote name/value pairs should be stored in sessionStorage to allow remote data to be restored on page refresh\n  throttle               : 200,        // How long to wait after last user input to search remotely\n\n  context                : window,     // Context to use when determining if on screen\n  direction              : 'auto',     // Whether dropdown should always open in one direction\n  keepOnScreen           : true,       // Whether dropdown should check whether it is on screen before showing\n\n  match                  : 'both',     // what to match against with search selection (both, text, or label)\n  fullTextSearch         : false,      // search anywhere in value (set to 'exact' to require exact matches)\n\n  placeholder            : 'auto',     // whether to convert blank <select> values to placeholder text\n  preserveHTML           : true,       // preserve html when selecting value\n  sortSelect             : false,      // sort selection on init\n\n  forceSelection         : true,       // force a choice on blur with search selection\n\n  allowAdditions         : false,      // whether multiple select should allow user added values\n  hideAdditions          : true,      // whether or not to hide special message prompting a user they can enter a value\n\n  maxSelections          : false,      // When set to a number limits the number of selections to this count\n  useLabels              : true,       // whether multiple select should filter currently active selections from choices\n  delimiter              : ',',        // when multiselect uses normal <input> the values will be delimited with this character\n\n  showOnFocus            : true,       // show menu on focus\n  allowReselection       : false,      // whether current value should trigger callbacks when reselected\n  allowTab               : true,       // add tabindex to element\n  allowCategorySelection : false,      // allow elements with sub-menus to be selected\n\n  fireOnInit             : false,      // Whether callbacks should fire when initializing dropdown values\n\n  transition             : 'auto',     // auto transition will slide down or up based on direction\n  duration               : 200,        // duration of transition\n\n  glyphWidth             : 1.037,      // widest glyph width in em (W is 1.037 em) used to calculate multiselect input width\n\n  // label settings on multi-select\n  label: {\n    transition : 'scale',\n    duration   : 200,\n    variation  : false\n  },\n\n  // delay before event\n  delay : {\n    hide   : 300,\n    show   : 200,\n    search : 20,\n    touch  : 50\n  },\n\n  /* Callbacks */\n  onChange      : function(value, text, $selected){},\n  onAdd         : function(value, text, $selected){},\n  onRemove      : function(value, text, $selected){},\n\n  onLabelSelect : function($selectedLabels){},\n  onLabelCreate : function(value, text) { return $(this); },\n  onLabelRemove : function(value) { return true; },\n  onNoResults   : function(searchTerm) { return true; },\n  onShow        : function(){},\n  onHide        : function(){},\n\n  /* Component */\n  name           : 'Dropdown',\n  namespace      : 'dropdown',\n\n  message: {\n    addResult     : 'Add <b>{term}</b>',\n    count         : '{count} selected',\n    maxSelections : 'Max {maxCount} selections',\n    noResults     : 'No results found.',\n    serverError   : 'There was an error contacting the server'\n  },\n\n  error : {\n    action          : 'You called a dropdown action that was not defined',\n    alreadySetup    : 'Once a select has been initialized behaviors must be called on the created ui dropdown',\n    labels          : 'Allowing user additions currently requires the use of labels.',\n    missingMultiple : '<select> requires multiple property to be set to correctly preserve multiple values',\n    method          : 'The method you called is not defined.',\n    noAPI           : 'The API module is required to load resources remotely',\n    noStorage       : 'Saving remote data requires session storage',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>'\n  },\n\n  regExp : {\n    escape   : /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\n    quote    : /\"/g\n  },\n\n  metadata : {\n    defaultText     : 'defaultText',\n    defaultValue    : 'defaultValue',\n    placeholderText : 'placeholder',\n    text            : 'text',\n    value           : 'value'\n  },\n\n  // property names for remote query\n  fields: {\n    remoteValues : 'results',  // grouping for api results\n    values       : 'values',   // grouping for all dropdown values\n    disabled     : 'disabled', // whether value should be disabled\n    name         : 'name',     // displayed dropdown text\n    value        : 'value',    // actual dropdown value\n    text         : 'text'      // displayed text when selected\n  },\n\n  keys : {\n    backspace  : 8,\n    delimiter  : 188, // comma\n    deleteKey  : 46,\n    enter      : 13,\n    escape     : 27,\n    pageUp     : 33,\n    pageDown   : 34,\n    leftArrow  : 37,\n    upArrow    : 38,\n    rightArrow : 39,\n    downArrow  : 40\n  },\n\n  selector : {\n    addition     : '.addition',\n    dropdown     : '.ui.dropdown',\n    hidden       : '.hidden',\n    icon         : '> .dropdown.icon',\n    input        : '> input[type=\"hidden\"], > select',\n    item         : '.item',\n    label        : '> .label',\n    remove       : '> .label > .delete.icon',\n    siblingLabel : '.label',\n    menu         : '.menu',\n    message      : '.message',\n    menuIcon     : '.dropdown.icon',\n    search       : 'input.search, .menu > .search > input, .menu input.search',\n    sizer        : '> input.sizer',\n    text         : '> .text:not(.icon)',\n    unselectable : '.disabled, .filtered'\n  },\n\n  className : {\n    active      : 'active',\n    addition    : 'addition',\n    animating   : 'animating',\n    disabled    : 'disabled',\n    empty       : 'empty',\n    dropdown    : 'ui dropdown',\n    filtered    : 'filtered',\n    hidden      : 'hidden transition',\n    item        : 'item',\n    label       : 'ui label',\n    loading     : 'loading',\n    menu        : 'menu',\n    message     : 'message',\n    multiple    : 'multiple',\n    placeholder : 'default',\n    sizer       : 'sizer',\n    search      : 'search',\n    selected    : 'selected',\n    selection   : 'selection',\n    upward      : 'upward',\n    visible     : 'visible'\n  }\n\n};\n\n/* Templates */\n$.fn.dropdown.settings.templates = {\n\n  // generates dropdown from select values\n  dropdown: function(select) {\n    var\n      placeholder = select.placeholder || false,\n      values      = select.values || {},\n      html        = ''\n    ;\n    html +=  '<i class=\"dropdown icon\"></i>';\n    if(select.placeholder) {\n      html += '<div class=\"default text\">' + placeholder + '</div>';\n    }\n    else {\n      html += '<div class=\"text\"></div>';\n    }\n    html += '<div class=\"menu\">';\n    $.each(select.values, function(index, option) {\n      html += (option.disabled)\n        ? '<div class=\"disabled item\" data-value=\"' + option.value + '\">' + option.name + '</div>'\n        : '<div class=\"item\" data-value=\"' + option.value + '\">' + option.name + '</div>'\n      ;\n    });\n    html += '</div>';\n    return html;\n  },\n\n  // generates just menu from select\n  menu: function(response, fields) {\n    var\n      values = response[fields.values] || {},\n      html   = ''\n    ;\n    $.each(values, function(index, option) {\n      var\n        maybeText = (option[fields.text])\n          ? 'data-text=\"' + option[fields.text] + '\"'\n          : '',\n        maybeDisabled = (option[fields.disabled])\n          ? 'disabled '\n          : ''\n      ;\n      html += '<div class=\"'+ maybeDisabled +'item\" data-value=\"' + option[fields.value] + '\"' + maybeText + '>'\n      html +=   option[fields.name];\n      html += '</div>';\n    });\n    return html;\n  },\n\n  // generates label for multiselect\n  label: function(value, text) {\n    return text + '<i class=\"delete icon\"></i>';\n  },\n\n\n  // generates messages like \"No results\"\n  message: function(message) {\n    return message;\n  },\n\n  // generates user addition to selection menu\n  addition: function(choice) {\n    return choice;\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Embed\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.embed = function(parameters) {\n\n  var\n    $allModules     = $(this),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.embed.settings, parameters)\n          : $.extend({}, $.fn.embed.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        sources         = settings.sources,\n        error           = settings.error,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        templates       = settings.templates,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $window         = $(window),\n        $module         = $(this),\n        $placeholder    = $module.find(selector.placeholder),\n        $icon           = $module.find(selector.icon),\n        $embed          = $module.find(selector.embed),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing embed');\n          module.determine.autoplay();\n          module.create();\n          module.bind.events();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance of embed');\n          module.reset();\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $placeholder = $module.find(selector.placeholder);\n          $icon        = $module.find(selector.icon);\n          $embed       = $module.find(selector.embed);\n        },\n\n        bind: {\n          events: function() {\n            if( module.has.placeholder() ) {\n              module.debug('Adding placeholder events');\n              $module\n                .on('click' + eventNamespace, selector.placeholder, module.createAndShow)\n                .on('click' + eventNamespace, selector.icon, module.createAndShow)\n              ;\n            }\n          }\n        },\n\n        create: function() {\n          var\n            placeholder = module.get.placeholder()\n          ;\n          if(placeholder) {\n            module.createPlaceholder();\n          }\n          else {\n            module.createAndShow();\n          }\n        },\n\n        createPlaceholder: function(placeholder) {\n          var\n            icon  = module.get.icon(),\n            url   = module.get.url(),\n            embed = module.generate.embed(url)\n          ;\n          placeholder = placeholder || module.get.placeholder();\n          $module.html( templates.placeholder(placeholder, icon) );\n          module.debug('Creating placeholder for embed', placeholder, icon);\n        },\n\n        createEmbed: function(url) {\n          module.refresh();\n          url = url || module.get.url();\n          $embed = $('<div/>')\n            .addClass(className.embed)\n            .html( module.generate.embed(url) )\n            .appendTo($module)\n          ;\n          settings.onCreate.call(element, url);\n          module.debug('Creating embed object', $embed);\n        },\n\n        changeEmbed: function(url) {\n          $embed\n            .html( module.generate.embed(url) )\n          ;\n        },\n\n        createAndShow: function() {\n          module.createEmbed();\n          module.show();\n        },\n\n        // sets new embed\n        change: function(source, id, url) {\n          module.debug('Changing video to ', source, id, url);\n          $module\n            .data(metadata.source, source)\n            .data(metadata.id, id)\n          ;\n          if(url) {\n            $module.data(metadata.url, url);\n          }\n          else {\n            $module.removeData(metadata.url);\n          }\n          if(module.has.embed()) {\n            module.changeEmbed();\n          }\n          else {\n            module.create();\n          }\n        },\n\n        // clears embed\n        reset: function() {\n          module.debug('Clearing embed and showing placeholder');\n          module.remove.active();\n          module.remove.embed();\n          module.showPlaceholder();\n          settings.onReset.call(element);\n        },\n\n        // shows current embed\n        show: function() {\n          module.debug('Showing embed');\n          module.set.active();\n          settings.onDisplay.call(element);\n        },\n\n        hide: function() {\n          module.debug('Hiding embed');\n          module.showPlaceholder();\n        },\n\n        showPlaceholder: function() {\n          module.debug('Showing placeholder image');\n          module.remove.active();\n          settings.onPlaceholderDisplay.call(element);\n        },\n\n        get: {\n          id: function() {\n            return settings.id || $module.data(metadata.id);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          },\n          icon: function() {\n            return (settings.icon)\n              ? settings.icon\n              : ($module.data(metadata.icon) !== undefined)\n                ? $module.data(metadata.icon)\n                : module.determine.icon()\n            ;\n          },\n          source: function(url) {\n            return (settings.source)\n              ? settings.source\n              : ($module.data(metadata.source) !== undefined)\n                ? $module.data(metadata.source)\n                : module.determine.source()\n            ;\n          },\n          type: function() {\n            var source = module.get.source();\n            return (sources[source] !== undefined)\n              ? sources[source].type\n              : false\n            ;\n          },\n          url: function() {\n            return (settings.url)\n              ? settings.url\n              : ($module.data(metadata.url) !== undefined)\n                ? $module.data(metadata.url)\n                : module.determine.url()\n            ;\n          }\n        },\n\n        determine: {\n          autoplay: function() {\n            if(module.should.autoplay()) {\n              settings.autoplay = true;\n            }\n          },\n          source: function(url) {\n            var\n              matchedSource = false\n            ;\n            url = url || module.get.url();\n            if(url) {\n              $.each(sources, function(name, source) {\n                if(url.search(source.domain) !== -1) {\n                  matchedSource = name;\n                  return false;\n                }\n              });\n            }\n            return matchedSource;\n          },\n          icon: function() {\n            var\n              source = module.get.source()\n            ;\n            return (sources[source] !== undefined)\n              ? sources[source].icon\n              : false\n            ;\n          },\n          url: function() {\n            var\n              id     = settings.id     || $module.data(metadata.id),\n              source = settings.source || $module.data(metadata.source),\n              url\n            ;\n            url = (sources[source] !== undefined)\n              ? sources[source].url.replace('{id}', id)\n              : false\n            ;\n            if(url) {\n              $module.data(metadata.url, url);\n            }\n            return url;\n          }\n        },\n\n\n        set: {\n          active: function() {\n            $module.addClass(className.active);\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          embed: function() {\n            $embed.empty();\n          }\n        },\n\n        encode: {\n          parameters: function(parameters) {\n            var\n              urlString = [],\n              index\n            ;\n            for (index in parameters) {\n              urlString.push( encodeURIComponent(index) + '=' + encodeURIComponent( parameters[index] ) );\n            }\n            return urlString.join('&amp;');\n          }\n        },\n\n        generate: {\n          embed: function(url) {\n            module.debug('Generating embed html');\n            var\n              source = module.get.source(),\n              html,\n              parameters\n            ;\n            url = module.get.url(url);\n            if(url) {\n              parameters = module.generate.parameters(source);\n              html       = templates.iframe(url, parameters);\n            }\n            else {\n              module.error(error.noURL, $module);\n            }\n            return html;\n          },\n          parameters: function(source, extraParameters) {\n            var\n              parameters = (sources[source] && sources[source].parameters !== undefined)\n                ? sources[source].parameters(settings)\n                : {}\n            ;\n            extraParameters = extraParameters || settings.parameters;\n            if(extraParameters) {\n              parameters = $.extend({}, parameters, extraParameters);\n            }\n            parameters = settings.onEmbed(parameters);\n            return module.encode.parameters(parameters);\n          }\n        },\n\n        has: {\n          embed: function() {\n            return ($embed.length > 0);\n          },\n          placeholder: function() {\n            return settings.placeholder || $module.data(metadata.placeholder);\n          }\n        },\n\n        should: {\n          autoplay: function() {\n            return (settings.autoplay === 'auto')\n              ? (settings.placeholder || $module.data(metadata.placeholder) !== undefined)\n              : settings.autoplay\n            ;\n          }\n        },\n\n        is: {\n          video: function() {\n            return module.get.type() == 'video';\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.embed.settings = {\n\n  name        : 'Embed',\n  namespace   : 'embed',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  icon     : false,\n  source   : false,\n  url      : false,\n  id       : false,\n\n  // standard video settings\n  autoplay  : 'auto',\n  color     : '#444444',\n  hd        : true,\n  brandedUI : false,\n\n  // additional parameters to include with the embed\n  parameters: false,\n\n  onDisplay            : function() {},\n  onPlaceholderDisplay : function() {},\n  onReset              : function() {},\n  onCreate             : function(url) {},\n  onEmbed              : function(parameters) {\n    return parameters;\n  },\n\n  metadata    : {\n    id          : 'id',\n    icon        : 'icon',\n    placeholder : 'placeholder',\n    source      : 'source',\n    url         : 'url'\n  },\n\n  error : {\n    noURL  : 'No URL specified',\n    method : 'The method you called is not defined'\n  },\n\n  className : {\n    active : 'active',\n    embed  : 'embed'\n  },\n\n  selector : {\n    embed       : '.embed',\n    placeholder : '.placeholder',\n    icon        : '.icon'\n  },\n\n  sources: {\n    youtube: {\n      name   : 'youtube',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'youtube.com',\n      url    : '//www.youtube.com/embed/{id}',\n      parameters: function(settings) {\n        return {\n          autohide       : !settings.brandedUI,\n          autoplay       : settings.autoplay,\n          color          : settings.color || undefined,\n          hq             : settings.hd,\n          jsapi          : settings.api,\n          modestbranding : !settings.brandedUI\n        };\n      }\n    },\n    vimeo: {\n      name   : 'vimeo',\n      type   : 'video',\n      icon   : 'video play',\n      domain : 'vimeo.com',\n      url    : '//player.vimeo.com/video/{id}',\n      parameters: function(settings) {\n        return {\n          api      : settings.api,\n          autoplay : settings.autoplay,\n          byline   : settings.brandedUI,\n          color    : settings.color || undefined,\n          portrait : settings.brandedUI,\n          title    : settings.brandedUI\n        };\n      }\n    }\n  },\n\n  templates: {\n    iframe : function(url, parameters) {\n      var src = url;\n      if (parameters) {\n          src += '?' + parameters;\n      }\n      return ''\n        + '<iframe src=\"' + src + '\"'\n        + ' width=\"100%\" height=\"100%\"'\n        + ' frameborder=\"0\" scrolling=\"no\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'\n      ;\n    },\n    placeholder : function(image, icon) {\n      var\n        html = ''\n      ;\n      if(icon) {\n        html += '<i class=\"' + icon + ' icon\"></i>';\n      }\n      if(image) {\n        html += '<img class=\"placeholder\" src=\"' + image + '\">';\n      }\n      return html;\n    }\n  },\n\n  // NOT YET IMPLEMENTED\n  api     : false,\n  onPause : function() {},\n  onPlay  : function() {},\n  onStop  : function() {}\n\n};\n\n\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Modal\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.modal = function(parameters) {\n  var\n    $allModules    = $(this),\n    $window        = $(window),\n    $document      = $(document),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings    = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.modal.settings, parameters)\n          : $.extend({}, $.fn.modal.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n        $close          = $module.find(selector.close),\n\n        $allModals,\n        $otherModals,\n        $focusedElement,\n        $dimmable,\n        $dimmer,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        elementEventNamespace,\n        id,\n        observer,\n        module\n      ;\n      module  = {\n\n        initialize: function() {\n          module.verbose('Initializing dimmer', $context);\n\n          module.create.id();\n          module.create.dimmer();\n          module.refreshModals();\n\n          module.bind.events();\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of modal');\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        create: {\n          dimmer: function() {\n            var\n              defaultSettings = {\n                debug      : settings.debug,\n                dimmerName : 'modals',\n                duration   : {\n                  show     : settings.duration,\n                  hide     : settings.duration\n                }\n              },\n              dimmerSettings = $.extend(true, defaultSettings, settings.dimmerSettings)\n            ;\n            if(settings.inverted) {\n              dimmerSettings.variation = (dimmerSettings.variation !== undefined)\n                ? dimmerSettings.variation + ' inverted'\n                : 'inverted'\n              ;\n            }\n            if($.fn.dimmer === undefined) {\n              module.error(error.dimmer);\n              return;\n            }\n            module.debug('Creating dimmer with settings', dimmerSettings);\n            $dimmable = $context.dimmer(dimmerSettings);\n            if(settings.detachable) {\n              module.verbose('Modal is detachable, moving content into dimmer');\n              $dimmable.dimmer('add content', $module);\n            }\n            else {\n              module.set.undetached();\n            }\n            if(settings.blurring) {\n              $dimmable.addClass(className.blurring);\n            }\n            $dimmer = $dimmable.dimmer('get dimmer');\n          },\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\n            elementEventNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous modal');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n          $window.off(elementEventNamespace);\n          $dimmer.off(elementEventNamespace);\n          $close.off(eventNamespace);\n          $context.dimmer('destroy');\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            observer = new MutationObserver(function(mutations) {\n              module.debug('DOM tree modified, refreshing');\n              module.refresh();\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        refresh: function() {\n          module.remove.scrolling();\n          module.cacheSizes();\n          module.set.screenHeight();\n          module.set.type();\n          module.set.position();\n        },\n\n        refreshModals: function() {\n          $otherModals = $module.siblings(selector.modal);\n          $allModals   = $otherModals.add($module);\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching modal events to element', selector, event);\n            $toggle\n              .off(eventNamespace)\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Attaching events');\n            $module\n              .on('click' + eventNamespace, selector.close, module.event.close)\n              .on('click' + eventNamespace, selector.approve, module.event.approve)\n              .on('click' + eventNamespace, selector.deny, module.event.deny)\n            ;\n            $window\n              .on('resize' + elementEventNamespace, module.event.resize)\n            ;\n          }\n        },\n\n        get: {\n          id: function() {\n            return (Math.random().toString(16) + '000000000').substr(2,8);\n          }\n        },\n\n        event: {\n          approve: function() {\n            if(settings.onApprove.call(element, $(this)) === false) {\n              module.verbose('Approve callback returned false cancelling hide');\n              return;\n            }\n            module.hide();\n          },\n          deny: function() {\n            if(settings.onDeny.call(element, $(this)) === false) {\n              module.verbose('Deny callback returned false cancelling hide');\n              return;\n            }\n            module.hide();\n          },\n          close: function() {\n            module.hide();\n          },\n          click: function(event) {\n            var\n              $target   = $(event.target),\n              isInModal = ($target.closest(selector.modal).length > 0),\n              isInDOM   = $.contains(document.documentElement, event.target)\n            ;\n            if(!isInModal && isInDOM) {\n              module.debug('Dimmer clicked, hiding all modals');\n              if( module.is.active() ) {\n                module.remove.clickaway();\n                if(settings.allowMultiple) {\n                  module.hide();\n                }\n                else {\n                  module.hideAll();\n                }\n              }\n            }\n          },\n          debounce: function(method, delay) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(method, delay);\n          },\n          keyboard: function(event) {\n            var\n              keyCode   = event.which,\n              escapeKey = 27\n            ;\n            if(keyCode == escapeKey) {\n              if(settings.closable) {\n                module.debug('Escape key pressed hiding modal');\n                module.hide();\n              }\n              else {\n                module.debug('Escape key pressed, but closable is set to false');\n              }\n              event.preventDefault();\n            }\n          },\n          resize: function() {\n            if( $dimmable.dimmer('is active') ) {\n              requestAnimationFrame(module.refresh);\n            }\n          }\n        },\n\n        toggle: function() {\n          if( module.is.active() || module.is.animating() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          module.showModal(callback);\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.refreshModals();\n          module.hideModal(callback);\n        },\n\n        showModal: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( module.is.animating() || !module.is.active() ) {\n\n            module.showDimmer();\n            module.cacheSizes();\n            module.set.position();\n            module.set.screenHeight();\n            module.set.type();\n            module.set.clickaway();\n\n            if( !settings.allowMultiple && module.others.active() ) {\n              module.hideOthers(module.showModal);\n            }\n            else {\n              settings.onShow.call(element);\n              if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n                module.debug('Showing modal with css animations');\n                $module\n                  .transition({\n                    debug       : settings.debug,\n                    animation   : settings.transition + ' in',\n                    queue       : settings.queue,\n                    duration    : settings.duration,\n                    useFailSafe : true,\n                    onComplete : function() {\n                      settings.onVisible.apply(element);\n                      module.add.keyboardShortcuts();\n                      module.save.focus();\n                      module.set.active();\n                      if(settings.autofocus) {\n                        module.set.autofocus();\n                      }\n                      callback();\n                    }\n                  })\n                ;\n              }\n              else {\n                module.error(error.noTransition);\n              }\n            }\n          }\n          else {\n            module.debug('Modal is already visible');\n          }\n        },\n\n        hideModal: function(callback, keepDimmed) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.debug('Hiding modal');\n          if(settings.onHide.call(element, $(this)) === false) {\n            module.verbose('Hide callback returned false cancelling hide');\n            return;\n          }\n\n          if( module.is.animating() || module.is.active() ) {\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.remove.active();\n              $module\n                .transition({\n                  debug       : settings.debug,\n                  animation   : settings.transition + ' out',\n                  queue       : settings.queue,\n                  duration    : settings.duration,\n                  useFailSafe : true,\n                  onStart     : function() {\n                    if(!module.others.active() && !keepDimmed) {\n                      module.hideDimmer();\n                    }\n                    module.remove.keyboardShortcuts();\n                  },\n                  onComplete : function() {\n                    settings.onHidden.call(element);\n                    module.restore.focus();\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        showDimmer: function() {\n          if($dimmable.dimmer('is animating') || !$dimmable.dimmer('is active') ) {\n            module.debug('Showing dimmer');\n            $dimmable.dimmer('show');\n          }\n          else {\n            module.debug('Dimmer already visible');\n          }\n        },\n\n        hideDimmer: function() {\n          if( $dimmable.dimmer('is animating') || ($dimmable.dimmer('is active')) ) {\n            $dimmable.dimmer('hide', function() {\n              module.remove.clickaway();\n              module.remove.screenHeight();\n            });\n          }\n          else {\n            module.debug('Dimmer is not visible cannot hide');\n            return;\n          }\n        },\n\n        hideAll: function(callback) {\n          var\n            $visibleModals = $allModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding all visible modals');\n            module.hideDimmer();\n            $visibleModals\n              .modal('hide modal', callback)\n            ;\n          }\n        },\n\n        hideOthers: function(callback) {\n          var\n            $visibleModals = $otherModals.filter('.' + className.active + ', .' + className.animating)\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if( $visibleModals.length > 0 ) {\n            module.debug('Hiding other modals', $otherModals);\n            $visibleModals\n              .modal('hide modal', callback, true)\n            ;\n          }\n        },\n\n        others: {\n          active: function() {\n            return ($otherModals.filter('.' + className.active).length > 0);\n          },\n          animating: function() {\n            return ($otherModals.filter('.' + className.animating).length > 0);\n          }\n        },\n\n\n        add: {\n          keyboardShortcuts: function() {\n            module.verbose('Adding keyboard shortcuts');\n            $document\n              .on('keyup' + eventNamespace, module.event.keyboard)\n            ;\n          }\n        },\n\n        save: {\n          focus: function() {\n            $focusedElement = $(document.activeElement).blur();\n          }\n        },\n\n        restore: {\n          focus: function() {\n            if($focusedElement && $focusedElement.length > 0) {\n              $focusedElement.focus();\n            }\n          }\n        },\n\n        remove: {\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          clickaway: function() {\n            if(settings.closable) {\n              $dimmer\n                .off('click' + elementEventNamespace)\n              ;\n            }\n          },\n          bodyStyle: function() {\n            if($body.attr('style') === '') {\n              module.verbose('Removing style attribute');\n              $body.removeAttr('style');\n            }\n          },\n          screenHeight: function() {\n            module.debug('Removing page height');\n            $body\n              .css('height', '')\n            ;\n          },\n          keyboardShortcuts: function() {\n            module.verbose('Removing keyboard shortcuts');\n            $document\n              .off('keyup' + eventNamespace)\n            ;\n          },\n          scrolling: function() {\n            $dimmable.removeClass(className.scrolling);\n            $module.removeClass(className.scrolling);\n          }\n        },\n\n        cacheSizes: function() {\n          var\n            modalHeight = $module.outerHeight()\n          ;\n          if(module.cache === undefined || modalHeight !== 0) {\n            module.cache = {\n              pageHeight    : $(document).outerHeight(),\n              height        : modalHeight + settings.offset,\n              contextHeight : (settings.context == 'body')\n                ? $(window).height()\n                : $dimmable.height()\n            };\n          }\n          module.debug('Caching modal and container sizes', module.cache);\n        },\n\n        can: {\n          fit: function() {\n            return ( ( module.cache.height + (settings.padding * 2) ) < module.cache.contextHeight);\n          }\n        },\n\n        is: {\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return $module.transition('is supported')\n              ? $module.transition('is animating')\n              : $module.is(':visible')\n            ;\n          },\n          scrolling: function() {\n            return $dimmable.hasClass(className.scrolling);\n          },\n          modernBrowser: function() {\n            // appName for IE11 reports 'Netscape' can no longer use\n            return !(window.ActiveXObject || \"ActiveXObject\" in window);\n          }\n        },\n\n        set: {\n          autofocus: function() {\n            var\n              $inputs    = $module.find(':input').filter(':visible'),\n              $autofocus = $inputs.filter('[autofocus]'),\n              $input     = ($autofocus.length > 0)\n                ? $autofocus.first()\n                : $inputs.first()\n            ;\n            if($input.length > 0) {\n              $input.focus();\n            }\n          },\n          clickaway: function() {\n            if(settings.closable) {\n              $dimmer\n                .on('click' + elementEventNamespace, module.event.click)\n              ;\n            }\n          },\n          screenHeight: function() {\n            if( module.can.fit() ) {\n              $body.css('height', '');\n            }\n            else {\n              module.debug('Modal is taller than page content, resizing page height');\n              $body\n                .css('height', module.cache.height + (settings.padding * 2) )\n              ;\n            }\n          },\n          active: function() {\n            $module.addClass(className.active);\n          },\n          scrolling: function() {\n            $dimmable.addClass(className.scrolling);\n            $module.addClass(className.scrolling);\n          },\n          type: function() {\n            if(module.can.fit()) {\n              module.verbose('Modal fits on screen');\n              if(!module.others.active() && !module.others.animating()) {\n                module.remove.scrolling();\n              }\n            }\n            else {\n              module.verbose('Modal cannot fit on screen setting to scrolling');\n              module.set.scrolling();\n            }\n          },\n          position: function() {\n            module.verbose('Centering modal on page', module.cache);\n            if(module.can.fit()) {\n              $module\n                .css({\n                  top: '',\n                  marginTop: -(module.cache.height / 2)\n                })\n              ;\n            }\n            else {\n              $module\n                .css({\n                  marginTop : '',\n                  top       : $document.scrollTop()\n                })\n              ;\n            }\n          },\n          undetached: function() {\n            $dimmable.addClass(className.undetached);\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.modal.settings = {\n\n  name           : 'Modal',\n  namespace      : 'modal',\n\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n\n  observeChanges : false,\n\n  allowMultiple  : false,\n  detachable     : true,\n  closable       : true,\n  autofocus      : true,\n\n  inverted       : false,\n  blurring       : false,\n\n  dimmerSettings : {\n    closable : false,\n    useCSS   : true\n  },\n\n\n  context    : 'body',\n\n  queue      : false,\n  duration   : 500,\n  offset     : 0,\n  transition : 'scale',\n\n  // padding with edge of page\n  padding    : 50,\n\n  // called before show animation\n  onShow     : function(){},\n\n  // called after show animation\n  onVisible  : function(){},\n\n  // called before hide animation\n  onHide     : function(){ return true; },\n\n  // called after hide animation\n  onHidden   : function(){},\n\n  // called after approve selector match\n  onApprove  : function(){ return true; },\n\n  // called after deny selector match\n  onDeny     : function(){ return true; },\n\n  selector    : {\n    close    : '> .close',\n    approve  : '.actions .positive, .actions .approve, .actions .ok',\n    deny     : '.actions .negative, .actions .deny, .actions .cancel',\n    modal    : '.ui.modal'\n  },\n  error : {\n    dimmer    : 'UI Dimmer, a required component is not included in this page',\n    method    : 'The method you called is not defined.',\n    notFound  : 'The element you specified could not be found'\n  },\n  className : {\n    active     : 'active',\n    animating  : 'animating',\n    blurring   : 'blurring',\n    scrolling  : 'scrolling',\n    undetached : 'undetached'\n  }\n};\n\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Nag\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.nag = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.nag.settings, parameters)\n          : $.extend({}, $.fn.nag.settings),\n\n        className       = settings.className,\n        selector        = settings.selector,\n        error           = settings.error,\n        namespace       = settings.namespace,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n\n        $close          = $module.find(selector.close),\n        $context        = (settings.context)\n          ? $(settings.context)\n          : $('body'),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        moduleOffset,\n        moduleHeight,\n\n        contextWidth,\n        contextHeight,\n        contextOffset,\n\n        yOffset,\n        yPosition,\n\n        timer,\n        module,\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); }\n      ;\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing element');\n\n          $module\n            .on('click' + eventNamespace, selector.close, module.dismiss)\n            .data(moduleNamespace, module)\n          ;\n\n          if(settings.detachable && $module.parent()[0] !== $context[0]) {\n            $module\n              .detach()\n              .prependTo($context)\n            ;\n          }\n\n          if(settings.displayTime > 0) {\n            setTimeout(module.hide, settings.displayTime);\n          }\n          module.show();\n        },\n\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        show: function() {\n          if( module.should.show() && !$module.is(':visible') ) {\n            module.debug('Showing nag', settings.animation.show);\n            if(settings.animation.show == 'fade') {\n              $module\n                .fadeIn(settings.duration, settings.easing)\n              ;\n            }\n            else {\n              $module\n                .slideDown(settings.duration, settings.easing)\n              ;\n            }\n          }\n        },\n\n        hide: function() {\n          module.debug('Showing nag', settings.animation.hide);\n          if(settings.animation.show == 'fade') {\n            $module\n              .fadeIn(settings.duration, settings.easing)\n            ;\n          }\n          else {\n            $module\n              .slideUp(settings.duration, settings.easing)\n            ;\n          }\n        },\n\n        onHide: function() {\n          module.debug('Removing nag', settings.animation.hide);\n          $module.remove();\n          if (settings.onHide) {\n            settings.onHide();\n          }\n        },\n\n        dismiss: function(event) {\n          if(settings.storageMethod) {\n            module.storage.set(settings.key, settings.value);\n          }\n          module.hide();\n          event.stopImmediatePropagation();\n          event.preventDefault();\n        },\n\n        should: {\n          show: function() {\n            if(settings.persist) {\n              module.debug('Persistent nag is set, can show nag');\n              return true;\n            }\n            if( module.storage.get(settings.key) != settings.value.toString() ) {\n              module.debug('Stored value is not set, can show nag', module.storage.get(settings.key));\n              return true;\n            }\n            module.debug('Stored value is set, cannot show nag', module.storage.get(settings.key));\n            return false;\n          }\n        },\n\n        get: {\n          storageOptions: function() {\n            var\n              options = {}\n            ;\n            if(settings.expires) {\n              options.expires = settings.expires;\n            }\n            if(settings.domain) {\n              options.domain = settings.domain;\n            }\n            if(settings.path) {\n              options.path = settings.path;\n            }\n            return options;\n          }\n        },\n\n        clear: function() {\n          module.storage.remove(settings.key);\n        },\n\n        storage: {\n          set: function(key, value) {\n            var\n              options = module.get.storageOptions()\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.setItem(key, value);\n              module.debug('Value stored using local storage', key, value);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.setItem(key, value);\n              module.debug('Value stored using session storage', key, value);\n            }\n            else if($.cookie !== undefined) {\n              $.cookie(key, value, options);\n              module.debug('Value stored using cookie', key, value, options);\n            }\n            else {\n              module.error(error.noCookieStorage);\n              return;\n            }\n          },\n          get: function(key, value) {\n            var\n              storedValue\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              storedValue = window.localStorage.getItem(key);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              storedValue = window.sessionStorage.getItem(key);\n            }\n            // get by cookie\n            else if($.cookie !== undefined) {\n              storedValue = $.cookie(key);\n            }\n            else {\n              module.error(error.noCookieStorage);\n            }\n            if(storedValue == 'undefined' || storedValue == 'null' || storedValue === undefined || storedValue === null) {\n              storedValue = undefined;\n            }\n            return storedValue;\n          },\n          remove: function(key) {\n            var\n              options = module.get.storageOptions()\n            ;\n            if(settings.storageMethod == 'localstorage' && window.localStorage !== undefined) {\n              window.localStorage.removeItem(key);\n            }\n            else if(settings.storageMethod == 'sessionstorage' && window.sessionStorage !== undefined) {\n              window.sessionStorage.removeItem(key);\n            }\n            // store by cookie\n            else if($.cookie !== undefined) {\n              $.removeCookie(key, options);\n            }\n            else {\n              module.error(error.noStorage);\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.nag.settings = {\n\n  name        : 'Nag',\n\n  silent      : false,\n  debug       : false,\n  verbose     : false,\n  performance : true,\n\n  namespace   : 'Nag',\n\n  // allows cookie to be overridden\n  persist     : false,\n\n  // set to zero to require manually dismissal, otherwise hides on its own\n  displayTime : 0,\n\n  animation   : {\n    show : 'slide',\n    hide : 'slide'\n  },\n\n  context       : false,\n  detachable    : false,\n\n  expires       : 30,\n  domain        : false,\n  path          : '/',\n\n  // type of storage to use\n  storageMethod : 'cookie',\n\n  // value to store in dismissed localstorage/cookie\n  key           : 'nag',\n  value         : 'dismiss',\n\n  error: {\n    noCookieStorage : '$.cookie is not included. A storage solution is required.',\n    noStorage       : 'Neither $.cookie or store is defined. A storage solution is required for storing state',\n    method          : 'The method you called is not defined.'\n  },\n\n  className     : {\n    bottom : 'bottom',\n    fixed  : 'fixed'\n  },\n\n  selector      : {\n    close : '.close.icon'\n  },\n\n  speed         : 500,\n  easing        : 'easeOutQuad',\n\n  onHide: function() {}\n\n};\n\n// Adds easing\n$.extend( $.easing, {\n  easeOutQuad: function (x, t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  }\n});\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.popup = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n    $window        = $(window),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = (true),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.popup.settings, parameters)\n          : $.extend({}, $.fn.popup.settings),\n\n        selector           = settings.selector,\n        className          = settings.className,\n        error              = settings.error,\n        metadata           = settings.metadata,\n        namespace          = settings.namespace,\n\n        eventNamespace     = '.' + settings.namespace,\n        moduleNamespace    = 'module-' + namespace,\n\n        $module            = $(this),\n        $context           = $(settings.context),\n        $scrollContext     = $(settings.scrollContext),\n        $boundary          = $(settings.boundary),\n        $target            = (settings.target)\n          ? $(settings.target)\n          : $module,\n\n        $popup,\n        $offsetParent,\n\n        searchDepth        = 0,\n        triedPositions     = false,\n        openedWithTouch    = false,\n\n        element            = this,\n        instance           = $module.data(moduleNamespace),\n\n        documentObserver,\n        elementNamespace,\n        id,\n        module\n      ;\n\n      module = {\n\n        // binds events\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n          if(!module.exists() && settings.preserve) {\n            module.create();\n          }\n          module.observeChanges();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n\n        refresh: function() {\n          if(settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          }\n          else {\n            if(settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n          if(settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n            if(settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as activating element');\n              $popup\n                .detach()\n                .appendTo($offsetParent)\n              ;\n            }\n          }\n          else {\n            $offsetParent = (settings.inline)\n              ? module.get.offsetParent($target)\n              : module.has.popup()\n                ? module.get.offsetParent($popup)\n                : $body\n            ;\n          }\n          if( $offsetParent.is('html') && $offsetParent[0] !== $body[0] ) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n          if( module.get.variation() ) {\n            module.set.variation();\n          }\n        },\n\n        reposition: function() {\n          module.refresh();\n          module.set.position();\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous module');\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          // remove element only if was created dynamically\n          if($popup && !settings.preserve) {\n            module.removePopup();\n          }\n          // clear all timeouts\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer);\n          // remove events\n          module.unbind.close();\n          module.unbind.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        event: {\n          start:  function(event) {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.show\n                : settings.delay\n            ;\n            clearTimeout(module.hideTimer);\n            if(!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end:  function() {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.hide\n                : settings.delay\n            ;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function(event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function() {\n            if( module.is.visible() ) {\n              module.set.position();\n            }\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function(event) {\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target),\n              inPopup = ($target.closest(selector.popup).length > 0)\n            ;\n            // don't close on clicks inside popup\n            if(event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            }\n            else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n\n        // generates popup html from metadata\n        create: function() {\n          var\n            html      = module.get.html(),\n            title     = module.get.title(),\n            content   = module.get.content()\n          ;\n\n          if(html || content || title) {\n            module.debug('Creating pop-up html');\n            if(!html) {\n              html = settings.templates.popup({\n                title   : title,\n                content : content\n              });\n            }\n            $popup = $('<div/>')\n              .addClass(className.popup)\n              .data(metadata.activator, $module)\n              .html(html)\n            ;\n            if(settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup\n                .insertAfter($module)\n              ;\n            }\n            else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup\n                .appendTo( $context )\n              ;\n            }\n            module.refresh();\n            module.set.variation();\n\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n            settings.onCreate.call($popup, element);\n          }\n          else if($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup  = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else if(settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n\n        createID: function() {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n\n        // determines popup state\n        toggle: function() {\n          module.debug('Toggling pop-up');\n          if( module.is.hidden() ) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          }\n          else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = callback || function(){};\n          module.debug('Showing pop-up', settings.transition);\n          if(module.is.hidden() && !( module.is.active() && module.is.dropdown()) ) {\n            if( !module.exists() ) {\n              module.create();\n            }\n            if(settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            }\n            else if(!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n            if( $popup && module.set.position() ) {\n              module.save.conditions();\n              if(settings.exclusive) {\n                module.hideAll();\n              }\n              module.animate.show(callback);\n            }\n          }\n        },\n\n\n        hide: function(callback) {\n          callback = callback || function(){};\n          if( module.is.visible() || module.is.animating() ) {\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n\n        hideAll: function() {\n          $(selector.popup)\n            .filter('.' + className.visible)\n            .each(function() {\n              $(this)\n                .data(metadata.activator)\n                  .popup('hide')\n              ;\n            })\n          ;\n        },\n        exists: function() {\n          if(!$popup) {\n            return false;\n          }\n          if(settings.inline || settings.popup) {\n            return ( module.has.popup() );\n          }\n          else {\n            return ( $popup.closest($context).length >= 1 )\n              ? true\n              : false\n            ;\n          }\n        },\n\n        removePopup: function() {\n          if( module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n\n        save: {\n          conditions: function() {\n            module.cache = {\n              title: $module.attr('title')\n            };\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function() {\n            if(module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n            return true;\n          }\n        },\n        supports: {\n          svg: function() {\n            return (typeof SVGGraphicsElement === undefined);\n          }\n        },\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup\n                .transition({\n                  animation  : settings.transition + ' in',\n                  queue      : false,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    module.bind.close();\n                    callback.call($popup, element);\n                    settings.onVisible.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            module.debug('Hiding pop-up');\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup\n                .transition({\n                  animation  : settings.transition + ' out',\n                  queue      : false,\n                  duration   : settings.duration,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  onComplete : function() {\n                    module.reset();\n                    callback.call($popup, element);\n                    settings.onHidden.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        change: {\n          content: function(html) {\n            $popup.html(html);\n          }\n        },\n\n        get: {\n          html: function() {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function() {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function() {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || $module.attr('title') || settings.content;\n          },\n          variation: function() {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function() {\n            return $popup;\n          },\n          popupOffset: function() {\n            return $popup.offset();\n          },\n          calculations: function() {\n            var\n              targetElement    = $target[0],\n              isWindow         = ($boundary[0] == window),\n              targetPosition   = (settings.inline || (settings.popup && settings.movePopup))\n                ? $target.position()\n                : $target.offset(),\n              screenPosition = (isWindow)\n                ? { top: 0, left: 0 }\n                : $boundary.offset(),\n              calculations   = {},\n              scroll = (isWindow)\n                ? { top: $window.scrollTop(), left: $window.scrollLeft() }\n                : { top: 0, left: 0},\n              screen\n            ;\n            calculations = {\n              // element which is launching popup\n              target : {\n                element : $target[0],\n                width   : $target.outerWidth(),\n                height  : $target.outerHeight(),\n                top     : targetPosition.top,\n                left    : targetPosition.left,\n                margin  : {}\n              },\n              // popup itself\n              popup : {\n                width  : $popup.outerWidth(),\n                height : $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent : {\n                width  : $offsetParent.outerWidth(),\n                height : $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen : {\n                top  : screenPosition.top,\n                left : screenPosition.left,\n                scroll: {\n                  top  : scroll.top,\n                  left : scroll.left\n                },\n                width  : $boundary.width(),\n                height : $boundary.height()\n              }\n            };\n\n            // add in container calcs if fluid\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            }\n\n            // add in margins if inline\n            calculations.target.margin.top = (settings.inline)\n              ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10)\n              : 0\n            ;\n            calculations.target.margin.left = (settings.inline)\n              ? module.is.rtl()\n                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10)\n                : parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10)\n              : 0\n            ;\n            // calculate screen boundaries\n            screen = calculations.screen;\n            calculations.boundary = {\n              top    : screen.top + screen.scroll.top,\n              bottom : screen.top + screen.scroll.top + screen.height,\n              left   : screen.left + screen.scroll.left,\n              right  : screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function() {\n            return id;\n          },\n          startEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseenter';\n            }\n            else if(settings.on == 'focus') {\n              return 'focus';\n            }\n            return false;\n          },\n          scrollEvent: function() {\n            return 'scroll';\n          },\n          endEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseleave';\n            }\n            else if(settings.on == 'focus') {\n              return 'blur';\n            }\n            return false;\n          },\n          distanceFromBoundary: function(offset, calculations) {\n            var\n              distanceFromBoundary = {},\n              popup,\n              boundary\n            ;\n            calculations = calculations || module.get.calculations();\n\n            // shorthand\n            popup        = calculations.popup;\n            boundary     = calculations.boundary;\n\n            if(offset) {\n              distanceFromBoundary = {\n                top    : (offset.top - boundary.top),\n                left   : (offset.left - boundary.left),\n                right  : (boundary.right - (offset.left + popup.width) ),\n                bottom : (boundary.bottom - (offset.top + popup.height) )\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n            return distanceFromBoundary;\n          },\n          offsetParent: function($target) {\n            var\n              element = ($target !== undefined)\n                ? $target[0]\n                : $module[0],\n              parentNode = element.parentNode,\n              $node    = $(parentNode)\n            ;\n            if(parentNode) {\n              var\n                is2D     = ($node.css('transform') === 'none'),\n                isStatic = ($node.css('position') === 'static'),\n                isHTML   = $node.is('html')\n              ;\n              while(parentNode && !isHTML && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node    = $(parentNode);\n                is2D     = ($node.css('transform') === 'none');\n                isStatic = ($node.css('position') === 'static');\n                isHTML   = $node.is('html');\n              }\n            }\n            return ($node && $node.length > 0)\n              ? $node\n              : $()\n            ;\n          },\n          positions: function() {\n            return {\n              'top left'      : false,\n              'top center'    : false,\n              'top right'     : false,\n              'bottom left'   : false,\n              'bottom center' : false,\n              'bottom right'  : false,\n              'left center'   : false,\n              'right center'  : false\n            };\n          },\n          nextPosition: function(position) {\n            var\n              positions          = position.split(' '),\n              verticalPosition   = positions[0],\n              horizontalPosition = positions[1],\n              opposite = {\n                top    : 'bottom',\n                bottom : 'top',\n                left   : 'right',\n                right  : 'left'\n              },\n              adjacent = {\n                left   : 'center',\n                center : 'right',\n                right  : 'left'\n              },\n              backup = {\n                'top left'      : 'top center',\n                'top center'    : 'top right',\n                'top right'     : 'right center',\n                'right center'  : 'bottom right',\n                'bottom right'  : 'bottom center',\n                'bottom center' : 'bottom left',\n                'bottom left'   : 'left center',\n                'left center'   : 'top left'\n              },\n              adjacentsAvailable = (verticalPosition == 'top' || verticalPosition == 'bottom'),\n              oppositeTried = false,\n              adjacentTried = false,\n              nextPosition  = false\n            ;\n            if(!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if(settings.prefer === 'opposite') {\n              nextPosition  = [opposite[verticalPosition], horizontalPosition];\n              nextPosition  = nextPosition.join(' ');\n              oppositeTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n            if((settings.prefer === 'adjacent') && adjacentsAvailable ) {\n              nextPosition  = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition  = nextPosition.join(' ');\n              adjacentTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n            if(adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n            return nextPosition;\n          }\n        },\n\n        set: {\n          position: function(position, calculations) {\n\n            // exit conditions\n            if($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n            var\n              offset,\n              distanceAway,\n              target,\n              popup,\n              parent,\n              positioning,\n              popupOffset,\n              distanceFromBoundary\n            ;\n\n            calculations = calculations || module.get.calculations();\n            position     = position     || $module.data(metadata.position) || settings.position;\n\n            offset       = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway;\n\n            // shorthand\n            target = calculations.target;\n            popup  = calculations.popup;\n            parent = calculations.parent;\n\n            if(target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if(settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n              if(position == 'left center' || position == 'right center') {\n                offset       +=  target.margin.top;\n                distanceAway += -target.margin.left;\n              }\n              else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset       += target.margin.left;\n                distanceAway -= target.margin.top;\n              }\n              else {\n                offset       += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return (match == 'left')\n                  ? 'right'\n                  : 'left'\n                ;\n              });\n              module.debug('RTL: Popup position updated', position);\n            }\n\n            // if last attempt use specified last resort position\n            if(searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top    : 'auto',\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + offset,\n                  right  : 'auto'\n                };\n              break;\n              case 'top center':\n                positioning = {\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  top    : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'top right':\n                positioning = {\n                  bottom :  parent.height - target.top + distanceAway,\n                  right  :  parent.width - target.left - target.width - offset,\n                  top    : 'auto',\n                  left   : 'auto'\n                };\n              break;\n              case 'left center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  right  : parent.width - target.left + distanceAway,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n              case 'right center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  left   : target.left + target.width + distanceAway,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom left':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom center':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom right':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  right  : parent.width - target.left  - target.width - offset,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n            }\n            if(positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning);\n\n            // tentatively place on stage\n            $popup\n              .css(positioning)\n              .removeClass(className.position)\n              .addClass(position)\n              .addClass(className.loading)\n            ;\n\n            popupOffset = module.get.popupOffset();\n\n            // see if any boundaries are surpassed with this tentative position\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if( module.is.offstage(distanceFromBoundary, position) ) {\n              module.debug('Position is outside viewport', position);\n              if(searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return ($popup)\n                  ? module.set.position(position, calculations)\n                  : false\n                ;\n              }\n              else {\n                if(settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                }\n                else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              module.set.fluidWidth(calculations);\n            }\n            return true;\n          },\n\n          fluidWidth: function(calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation && module.has.popup() ) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n\n          visible: function() {\n            $module.addClass(className.visible);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $popup.removeClass(className.loading);\n          },\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          attempts: function() {\n            module.verbose('Resetting all searched positions');\n            searchDepth    = 0;\n            triedPositions = false;\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding popup events to module');\n            if(settings.on == 'click') {\n              $module\n                .on('click' + eventNamespace, module.toggle)\n              ;\n            }\n            if(settings.on == 'hover' && hasTouch) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.touchstart)\n              ;\n            }\n            if( module.get.startEvent() ) {\n              $module\n                .on(module.get.startEvent() + eventNamespace, module.event.start)\n                .on(module.get.endEvent() + eventNamespace, module.event.end)\n              ;\n            }\n            if(settings.target) {\n              module.debug('Target set to element', $target);\n            }\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function() {\n            module.verbose('Allowing hover events on popup to prevent closing');\n            if( $popup && module.has.popup() ) {\n              $popup\n                .on('mouseenter' + eventNamespace, module.event.start)\n                .on('mouseleave' + eventNamespace, module.event.end)\n              ;\n            }\n          },\n          close: function() {\n            if(settings.hideOnScroll === true || (settings.hideOnScroll == 'auto' && settings.on != 'click')) {\n              $scrollContext\n                .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)\n              ;\n            }\n            if(settings.on == 'hover' && openedWithTouch) {\n              module.verbose('Binding popup close event to document');\n              $document\n                .on('touchstart' + elementNamespace, function(event) {\n                  module.verbose('Touched away from popup');\n                  module.event.hideGracefully.call(element, event);\n                })\n              ;\n            }\n            if(settings.on == 'click' && settings.closable) {\n              module.verbose('Binding popup close event to document');\n              $document\n                .on('click' + elementNamespace, function(event) {\n                  module.verbose('Clicked away from popup');\n                  module.event.hideGracefully.call(element, event);\n                })\n              ;\n            }\n          }\n        },\n\n        unbind: {\n          events: function() {\n            $window\n              .off(elementNamespace)\n            ;\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          close: function() {\n            $document\n              .off(elementNamespace)\n            ;\n            $scrollContext\n              .off(elementNamespace)\n            ;\n          },\n        },\n\n        has: {\n          popup: function() {\n            return ($popup && $popup.length > 0);\n          }\n        },\n\n        is: {\n          offstage: function(distanceFromBoundary, position) {\n            var\n              offstage = []\n            ;\n            // return boundaries that have been surpassed\n            $.each(distanceFromBoundary, function(direction, distance) {\n              if(distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n            if(offstage.length > 0) {\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          svg: function(element) {\n            return module.supports.svg() && (element instanceof SVGGraphicsElement);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return ($popup !== undefined && $popup.hasClass(className.animating) );\n          },\n          fluid: function() {\n            return ($popup !== undefined && $popup.hasClass(className.fluid));\n          },\n          visible: function() {\n            return ($popup !== undefined && $popup.hasClass(className.visible));\n          },\n          dropdown: function() {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n\n        reset: function() {\n          module.remove.visible();\n          if(settings.preserve) {\n            if($.fn.transition !== undefined) {\n              $popup\n                .transition('remove transition')\n              ;\n            }\n          }\n          else {\n            module.removePopup();\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.popup.settings = {\n\n  name           : 'Popup',\n\n  // module settings\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n  namespace      : 'popup',\n\n  // whether it should use dom mutation observers\n  observeChanges : true,\n\n  // callback only when element added to dom\n  onCreate       : function(){},\n\n  // callback before element removed from dom\n  onRemove       : function(){},\n\n  // callback before show animation\n  onShow         : function(){},\n\n  // callback after show animation\n  onVisible      : function(){},\n\n  // callback before hide animation\n  onHide         : function(){},\n\n  // callback when popup cannot be positioned in visible screen\n  onUnplaceable  : function(){},\n\n  // callback after hide animation\n  onHidden       : function(){},\n\n  // when to show popup\n  on             : 'hover',\n\n  // element to use to determine if popup is out of boundary\n  boundary       : window,\n\n  // whether to add touchstart events when using hover\n  addTouchEvents : true,\n\n  // default position relative to element\n  position       : 'top left',\n\n  // name of variation to use\n  variation      : '',\n\n  // whether popup should be moved to context\n  movePopup      : true,\n\n  // element which popup should be relative to\n  target         : false,\n\n  // jq selector or element that should be used as popup\n  popup          : false,\n\n  // popup should remain inline next to activator\n  inline         : false,\n\n  // popup should be removed from page on hide\n  preserve       : false,\n\n  // popup should not close when being hovered on\n  hoverable      : false,\n\n  // explicitly set content\n  content        : false,\n\n  // explicitly set html\n  html           : false,\n\n  // explicitly set title\n  title          : false,\n\n  // whether automatically close on clickaway when on click\n  closable       : true,\n\n  // automatically hide on scroll\n  hideOnScroll   : 'auto',\n\n  // hide other popups on show\n  exclusive      : false,\n\n  // context to attach popups\n  context        : 'body',\n\n  // context for binding scroll events\n  scrollContext  : window,\n\n  // position to prefer when calculating new position\n  prefer         : 'opposite',\n\n  // specify position to appear even if it doesn't fit\n  lastResort     : false,\n\n  // delay used to prevent accidental refiring of animations due to user error\n  delay        : {\n    show : 50,\n    hide : 70\n  },\n\n  // whether fluid variation should assign width explicitly\n  setFluidWidth  : true,\n\n  // transition settings\n  duration       : 200,\n  transition     : 'scale',\n\n  // distance away from activating element in px\n  distanceAway   : 0,\n\n  // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n  jitter         : 2,\n\n  // offset on aligning axis from calculated position\n  offset         : 0,\n\n  // maximum times to look for a position before failing (9 positions total)\n  maxSearchDepth : 15,\n\n  error: {\n    invalidPosition : 'The position you specified is not a valid position',\n    cannotPlace     : 'Popup does not fit within the boundaries of the viewport',\n    method          : 'The method you called is not defined.',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n    notFound        : 'The target or popup you specified does not exist on the page'\n  },\n\n  metadata: {\n    activator : 'activator',\n    content   : 'content',\n    html      : 'html',\n    offset    : 'offset',\n    position  : 'position',\n    title     : 'title',\n    variation : 'variation'\n  },\n\n  className   : {\n    active    : 'active',\n    animating : 'animating',\n    dropdown  : 'dropdown',\n    fluid     : 'fluid',\n    loading   : 'loading',\n    popup     : 'ui popup',\n    position  : 'top left center bottom right',\n    visible   : 'visible'\n  },\n\n  selector    : {\n    popup    : '.ui.popup'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    popup: function(text) {\n      var\n        html   = '',\n        escape = $.fn.popup.settings.templates.escape\n      ;\n      if(typeof text !== undefined) {\n        if(typeof text.title !== undefined && text.title) {\n          text.title = escape(text.title);\n          html += '<div class=\"header\">' + text.title + '</div>';\n        }\n        if(typeof text.content !== undefined && text.content) {\n          text.content = escape(text.content);\n          html += '<div class=\"content\">' + text.content + '</div>';\n        }\n      }\n      return html;\n    }\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Progress\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\nvar\n  global = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.fn.progress = function(parameters) {\n  var\n    $allModules    = $(this),\n\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.progress.settings, parameters)\n          : $.extend({}, $.fn.progress.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        namespace       = settings.namespace,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $bar            = $(this).find(selector.bar),\n        $progress       = $(this).find(selector.progress),\n        $label          = $(this).find(selector.label),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        animating = false,\n        transitionEnd,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing progress bar', settings);\n\n          module.set.duration();\n          module.set.transitionEvent();\n\n          module.read.metadata();\n          module.read.settings();\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of progress', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying previous progress for', $module);\n          clearInterval(instance.interval);\n          module.remove.state();\n          $module.removeData(moduleNamespace);\n          instance = undefined;\n        },\n\n        reset: function() {\n          module.remove.nextValue();\n          module.update.progress(0);\n        },\n\n        complete: function() {\n          if(module.percent === undefined || module.percent < 100) {\n            module.remove.progressPoll();\n            module.set.percent(100);\n          }\n        },\n\n        read: {\n          metadata: function() {\n            var\n              data = {\n                percent : $module.data(metadata.percent),\n                total   : $module.data(metadata.total),\n                value   : $module.data(metadata.value)\n              }\n            ;\n            if(data.percent) {\n              module.debug('Current percent value set from metadata', data.percent);\n              module.set.percent(data.percent);\n            }\n            if(data.total) {\n              module.debug('Total value set from metadata', data.total);\n              module.set.total(data.total);\n            }\n            if(data.value) {\n              module.debug('Current value set from metadata', data.value);\n              module.set.value(data.value);\n              module.set.progress(data.value);\n            }\n          },\n          settings: function() {\n            if(settings.total !== false) {\n              module.debug('Current total set in settings', settings.total);\n              module.set.total(settings.total);\n            }\n            if(settings.value !== false) {\n              module.debug('Current value set in settings', settings.value);\n              module.set.value(settings.value);\n              module.set.progress(module.value);\n            }\n            if(settings.percent !== false) {\n              module.debug('Current percent set in settings', settings.percent);\n              module.set.percent(settings.percent);\n            }\n          }\n        },\n\n        increment: function(incrementValue) {\n          var\n            maxValue,\n            startValue,\n            newValue\n          ;\n          if( module.has.total() ) {\n            startValue     = module.get.value();\n            incrementValue = incrementValue || 1;\n            newValue       = startValue + incrementValue;\n          }\n          else {\n            startValue     = module.get.percent();\n            incrementValue = incrementValue || module.get.randomValue();\n\n            newValue       = startValue + incrementValue;\n            maxValue       = 100;\n            module.debug('Incrementing percentage by', startValue, newValue);\n          }\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n        decrement: function(decrementValue) {\n          var\n            total     = module.get.total(),\n            startValue,\n            newValue\n          ;\n          if(total) {\n            startValue     =  module.get.value();\n            decrementValue =  decrementValue || 1;\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing value by', decrementValue, startValue);\n          }\n          else {\n            startValue     =  module.get.percent();\n            decrementValue =  decrementValue || module.get.randomValue();\n            newValue       =  startValue - decrementValue;\n            module.debug('Decrementing percentage by', decrementValue, startValue);\n          }\n          newValue = module.get.normalizedValue(newValue);\n          module.set.progress(newValue);\n        },\n\n        has: {\n          progressPoll: function() {\n            return module.progressPoll;\n          },\n          total: function() {\n            return (module.get.total() !== false);\n          }\n        },\n\n        get: {\n          text: function(templateText) {\n            var\n              value   = module.value                || 0,\n              total   = module.total                || 0,\n              percent = (animating)\n                ? module.get.displayPercent()\n                : module.percent || 0,\n              left = (module.total > 0)\n                ? (total - value)\n                : (100 - percent)\n            ;\n            templateText = templateText || '';\n            templateText = templateText\n              .replace('{value}', value)\n              .replace('{total}', total)\n              .replace('{left}', left)\n              .replace('{percent}', percent)\n            ;\n            module.verbose('Adding variables to progress bar text', templateText);\n            return templateText;\n          },\n\n          normalizedValue: function(value) {\n            if(value < 0) {\n              module.debug('Value cannot decrement below 0');\n              return 0;\n            }\n            if(module.has.total()) {\n              if(value > module.total) {\n                module.debug('Value cannot increment above total', module.total);\n                return module.total;\n              }\n            }\n            else if(value > 100 ) {\n              module.debug('Value cannot increment above 100 percent');\n              return 100;\n            }\n            return value;\n          },\n\n          updateInterval: function() {\n            if(settings.updateInterval == 'auto') {\n              return settings.duration;\n            }\n            return settings.updateInterval;\n          },\n\n          randomValue: function() {\n            module.debug('Generating random increment percentage');\n            return Math.floor((Math.random() * settings.random.max) + settings.random.min);\n          },\n\n          numericValue: function(value) {\n            return (typeof value === 'string')\n              ? (value.replace(/[^\\d.]/g, '') !== '')\n                ? +(value.replace(/[^\\d.]/g, ''))\n                : false\n              : value\n            ;\n          },\n\n          transitionEnd: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          // gets current displayed percentage (if animating values this is the intermediary value)\n          displayPercent: function() {\n            var\n              barWidth       = $bar.width(),\n              totalWidth     = $module.width(),\n              minDisplay     = parseInt($bar.css('min-width'), 10),\n              displayPercent = (barWidth > minDisplay)\n                ? (barWidth / totalWidth * 100)\n                : module.percent\n            ;\n            return (settings.precision > 0)\n              ? Math.round(displayPercent * (10 * settings.precision)) / (10 * settings.precision)\n              : Math.round(displayPercent)\n            ;\n          },\n\n          percent: function() {\n            return module.percent || 0;\n          },\n          value: function() {\n            return module.nextValue || module.value || 0;\n          },\n          total: function() {\n            return module.total || false;\n          }\n        },\n\n        create: {\n          progressPoll: function() {\n            module.progressPoll = setTimeout(function() {\n              module.update.toNextValue();\n              module.remove.progressPoll();\n            }, module.get.updateInterval());\n          },\n        },\n\n        is: {\n          complete: function() {\n            return module.is.success() || module.is.warning() || module.is.error();\n          },\n          success: function() {\n            return $module.hasClass(className.success);\n          },\n          warning: function() {\n            return $module.hasClass(className.warning);\n          },\n          error: function() {\n            return $module.hasClass(className.error);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          visible: function() {\n            return $module.is(':visible');\n          }\n        },\n\n        remove: {\n          progressPoll: function() {\n            module.verbose('Removing progress poll timer');\n            if(module.progressPoll) {\n              clearTimeout(module.progressPoll);\n              delete module.progressPoll;\n            }\n          },\n          nextValue: function() {\n            module.verbose('Removing progress value stored for next update');\n            delete module.nextValue;\n          },\n          state: function() {\n            module.verbose('Removing stored state');\n            delete module.total;\n            delete module.percent;\n            delete module.value;\n          },\n          active: function() {\n            module.verbose('Removing active state');\n            $module.removeClass(className.active);\n          },\n          success: function() {\n            module.verbose('Removing success state');\n            $module.removeClass(className.success);\n          },\n          warning: function() {\n            module.verbose('Removing warning state');\n            $module.removeClass(className.warning);\n          },\n          error: function() {\n            module.verbose('Removing error state');\n            $module.removeClass(className.error);\n          }\n        },\n\n        set: {\n          barWidth: function(value) {\n            if(value > 100) {\n              module.error(error.tooHigh, value);\n            }\n            else if (value < 0) {\n              module.error(error.tooLow, value);\n            }\n            else {\n              $bar\n                .css('width', value + '%')\n              ;\n              $module\n                .attr('data-percent', parseInt(value, 10))\n              ;\n            }\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting progress bar transition duration', duration);\n            $bar\n              .css({\n                'transition-duration':  duration\n              })\n            ;\n          },\n          percent: function(percent) {\n            percent = (typeof percent == 'string')\n              ? +(percent.replace('%', ''))\n              : percent\n            ;\n            // round display percentage\n            percent = (settings.precision > 0)\n              ? Math.round(percent * (10 * settings.precision)) / (10 * settings.precision)\n              : Math.round(percent)\n            ;\n            module.percent = percent;\n            if( !module.has.total() ) {\n              module.value = (settings.precision > 0)\n                ? Math.round( (percent / 100) * module.total * (10 * settings.precision)) / (10 * settings.precision)\n                : Math.round( (percent / 100) * module.total * 10) / 10\n              ;\n              if(settings.limitValues) {\n                module.value = (module.value > 100)\n                  ? 100\n                  : (module.value < 0)\n                    ? 0\n                    : module.value\n                ;\n              }\n            }\n            module.set.barWidth(percent);\n            module.set.labelInterval();\n            module.set.labels();\n            settings.onChange.call(element, percent, module.value, module.total);\n          },\n          labelInterval: function() {\n            var\n              animationCallback = function() {\n                module.verbose('Bar finished animating, removing continuous label updates');\n                clearInterval(module.interval);\n                animating = false;\n                module.set.labels();\n              }\n            ;\n            clearInterval(module.interval);\n            $bar.one(transitionEnd + eventNamespace, animationCallback);\n            animating = true;\n            module.interval = setInterval(function() {\n              var\n                isInDOM = $.contains(document.documentElement, element)\n              ;\n              if(!isInDOM) {\n                clearInterval(module.interval);\n                animating = false;\n              }\n              module.set.labels();\n            }, settings.framerate);\n          },\n          labels: function() {\n            module.verbose('Setting both bar progress and outer label text');\n            module.set.barLabel();\n            module.set.state();\n          },\n          label: function(text) {\n            text = text || '';\n            if(text) {\n              text = module.get.text(text);\n              module.verbose('Setting label to text', text);\n              $label.text(text);\n            }\n          },\n          state: function(percent) {\n            percent = (percent !== undefined)\n              ? percent\n              : module.percent\n            ;\n            if(percent === 100) {\n              if(settings.autoSuccess && !(module.is.warning() || module.is.error() || module.is.success())) {\n                module.set.success();\n                module.debug('Automatically triggering success at 100%');\n              }\n              else {\n                module.verbose('Reached 100% removing active state');\n                module.remove.active();\n                module.remove.progressPoll();\n              }\n            }\n            else if(percent > 0) {\n              module.verbose('Adjusting active progress bar label', percent);\n              module.set.active();\n            }\n            else {\n              module.remove.active();\n              module.set.label(settings.text.active);\n            }\n          },\n          barLabel: function(text) {\n            if(text !== undefined) {\n              $progress.text( module.get.text(text) );\n            }\n            else if(settings.label == 'ratio' && module.total) {\n              module.verbose('Adding ratio to bar label');\n              $progress.text( module.get.text(settings.text.ratio) );\n            }\n            else if(settings.label == 'percent') {\n              module.verbose('Adding percentage to bar label');\n              $progress.text( module.get.text(settings.text.percent) );\n            }\n          },\n          active: function(text) {\n            text = text || settings.text.active;\n            module.debug('Setting active state');\n            if(settings.showActivity && !module.is.active() ) {\n              $module.addClass(className.active);\n            }\n            module.remove.warning();\n            module.remove.error();\n            module.remove.success();\n            text = settings.onLabelUpdate('active', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            $bar.one(transitionEnd + eventNamespace, function() {\n              settings.onActive.call(element, module.value, module.total);\n            });\n          },\n          success : function(text) {\n            text = text || settings.text.success || settings.text.active;\n            module.debug('Setting success state');\n            $module.addClass(className.success);\n            module.remove.active();\n            module.remove.warning();\n            module.remove.error();\n            module.complete();\n            if(settings.text.success) {\n              text = settings.onLabelUpdate('success', text, module.value, module.total);\n              module.set.label(text);\n            }\n            else {\n              text = settings.onLabelUpdate('active', text, module.value, module.total);\n              module.set.label(text);\n            }\n            $bar.one(transitionEnd + eventNamespace, function() {\n              settings.onSuccess.call(element, module.total);\n            });\n          },\n          warning : function(text) {\n            text = text || settings.text.warning;\n            module.debug('Setting warning state');\n            $module.addClass(className.warning);\n            module.remove.active();\n            module.remove.success();\n            module.remove.error();\n            module.complete();\n            text = settings.onLabelUpdate('warning', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            $bar.one(transitionEnd + eventNamespace, function() {\n              settings.onWarning.call(element, module.value, module.total);\n            });\n          },\n          error : function(text) {\n            text = text || settings.text.error;\n            module.debug('Setting error state');\n            $module.addClass(className.error);\n            module.remove.active();\n            module.remove.success();\n            module.remove.warning();\n            module.complete();\n            text = settings.onLabelUpdate('error', text, module.value, module.total);\n            if(text) {\n              module.set.label(text);\n            }\n            $bar.one(transitionEnd + eventNamespace, function() {\n              settings.onError.call(element, module.value, module.total);\n            });\n          },\n          transitionEvent: function() {\n            transitionEnd = module.get.transitionEnd();\n          },\n          total: function(totalValue) {\n            module.total = totalValue;\n          },\n          value: function(value) {\n            module.value = value;\n          },\n          progress: function(value) {\n            if(!module.has.progressPoll()) {\n              module.debug('First update in progress update interval, immediately updating', value);\n              module.update.progress(value);\n              module.create.progressPoll();\n            }\n            else {\n              module.debug('Updated within interval, setting next update to use new value', value);\n              module.set.nextValue(value);\n            }\n          },\n          nextValue: function(value) {\n            module.nextValue = value;\n          }\n        },\n\n        update: {\n          toNextValue: function() {\n            var\n              nextValue = module.nextValue\n            ;\n            if(nextValue) {\n              module.debug('Update interval complete using last updated value', nextValue);\n              module.update.progress(nextValue);\n              module.remove.nextValue();\n            }\n          },\n          progress: function(value) {\n            var\n              percentComplete\n            ;\n            value = module.get.numericValue(value);\n            if(value === false) {\n              module.error(error.nonNumeric, value);\n            }\n            value = module.get.normalizedValue(value);\n            if( module.has.total() ) {\n              module.set.value(value);\n              percentComplete = (value / module.total) * 100;\n              module.debug('Calculating percent complete from total', percentComplete);\n              module.set.percent( percentComplete );\n            }\n            else {\n              percentComplete = value;\n              module.debug('Setting value to exact percentage value', percentComplete);\n              module.set.percent( percentComplete );\n            }\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.progress.settings = {\n\n  name         : 'Progress',\n  namespace    : 'progress',\n\n  silent       : false,\n  debug        : false,\n  verbose      : false,\n  performance  : true,\n\n  random       : {\n    min : 2,\n    max : 5\n  },\n\n  duration       : 300,\n\n  updateInterval : 'auto',\n\n  autoSuccess    : true,\n  showActivity   : true,\n  limitValues    : true,\n\n  label          : 'percent',\n  precision      : 0,\n  framerate      : (1000 / 30), /// 30 fps\n\n  percent        : false,\n  total          : false,\n  value          : false,\n\n  onLabelUpdate : function(state, text, value, total){\n    return text;\n  },\n  onChange      : function(percent, value, total){},\n  onSuccess     : function(total){},\n  onActive      : function(value, total){},\n  onError       : function(value, total){},\n  onWarning     : function(value, total){},\n\n  error    : {\n    method     : 'The method you called is not defined.',\n    nonNumeric : 'Progress value is non numeric',\n    tooHigh    : 'Value specified is above 100%',\n    tooLow     : 'Value specified is below 0%'\n  },\n\n  regExp: {\n    variable: /\\{\\$*[A-z0-9]+\\}/g\n  },\n\n  metadata: {\n    percent : 'percent',\n    total   : 'total',\n    value   : 'value'\n  },\n\n  selector : {\n    bar      : '> .bar',\n    label    : '> .label',\n    progress : '.bar > .progress'\n  },\n\n  text : {\n    active  : false,\n    error   : false,\n    success : false,\n    warning : false,\n    percent : '{percent}%',\n    ratio   : '{value} of {total}'\n  },\n\n  className : {\n    active  : 'active',\n    error   : 'error',\n    success : 'success',\n    warning : 'warning'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Rating\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.rating = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.rating.settings, parameters)\n          : $.extend({}, $.fn.rating.settings),\n\n        namespace       = settings.namespace,\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        element         = this,\n        instance        = $(this).data(moduleNamespace),\n\n        $module         = $(this),\n        $icon           = $module.find(selector.icon),\n\n        initialLoad,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing rating module', settings);\n\n          if($icon.length === 0) {\n            module.setup.layout();\n          }\n\n          if(settings.interactive) {\n            module.enable();\n          }\n          else {\n            module.disable();\n          }\n          module.set.initialLoad();\n          module.set.rating( module.get.initialRating() );\n          module.remove.initialLoad();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Instantiating module', settings);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance', instance);\n          module.remove.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          $icon   = $module.find(selector.icon);\n        },\n\n        setup: {\n          layout: function() {\n            var\n              maxRating = module.get.maxRating(),\n              html      = $.fn.rating.settings.templates.icon(maxRating)\n            ;\n            module.debug('Generating icon html dynamically');\n            $module\n              .html(html)\n            ;\n            module.refresh();\n          }\n        },\n\n        event: {\n          mouseenter: function() {\n            var\n              $activeIcon = $(this)\n            ;\n            $activeIcon\n              .nextAll()\n                .removeClass(className.selected)\n            ;\n            $module\n              .addClass(className.selected)\n            ;\n            $activeIcon\n              .addClass(className.selected)\n                .prevAll()\n                .addClass(className.selected)\n            ;\n          },\n          mouseleave: function() {\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n            ;\n          },\n          click: function() {\n            var\n              $activeIcon   = $(this),\n              currentRating = module.get.rating(),\n              rating        = $icon.index($activeIcon) + 1,\n              canClear      = (settings.clearable == 'auto')\n               ? ($icon.length === 1)\n               : settings.clearable\n            ;\n            if(canClear && currentRating == rating) {\n              module.clearRating();\n            }\n            else {\n              module.set.rating( rating );\n            }\n          }\n        },\n\n        clearRating: function() {\n          module.debug('Clearing current rating');\n          module.set.rating(0);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events');\n            $module\n              .on('mouseenter' + eventNamespace, selector.icon, module.event.mouseenter)\n              .on('mouseleave' + eventNamespace, selector.icon, module.event.mouseleave)\n              .on('click'      + eventNamespace, selector.icon, module.event.click)\n            ;\n          }\n        },\n\n        remove: {\n          events: function() {\n            module.verbose('Removing events');\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          initialLoad: function() {\n            initialLoad = false;\n          }\n        },\n\n        enable: function() {\n          module.debug('Setting rating to interactive mode');\n          module.bind.events();\n          $module\n            .removeClass(className.disabled)\n          ;\n        },\n\n        disable: function() {\n          module.debug('Setting rating to read-only mode');\n          module.remove.events();\n          $module\n            .addClass(className.disabled)\n          ;\n        },\n\n        is: {\n          initialLoad: function() {\n            return initialLoad;\n          }\n        },\n\n        get: {\n          initialRating: function() {\n            if($module.data(metadata.rating) !== undefined) {\n              $module.removeData(metadata.rating);\n              return $module.data(metadata.rating);\n            }\n            return settings.initialRating;\n          },\n          maxRating: function() {\n            if($module.data(metadata.maxRating) !== undefined) {\n              $module.removeData(metadata.maxRating);\n              return $module.data(metadata.maxRating);\n            }\n            return settings.maxRating;\n          },\n          rating: function() {\n            var\n              currentRating = $icon.filter('.' + className.active).length\n            ;\n            module.verbose('Current rating retrieved', currentRating);\n            return currentRating;\n          }\n        },\n\n        set: {\n          rating: function(rating) {\n            var\n              ratingIndex = (rating - 1 >= 0)\n                ? (rating - 1)\n                : 0,\n              $activeIcon = $icon.eq(ratingIndex)\n            ;\n            $module\n              .removeClass(className.selected)\n            ;\n            $icon\n              .removeClass(className.selected)\n              .removeClass(className.active)\n            ;\n            if(rating > 0) {\n              module.verbose('Setting current rating to', rating);\n              $activeIcon\n                .prevAll()\n                .addBack()\n                  .addClass(className.active)\n              ;\n            }\n            if(!module.is.initialLoad()) {\n              settings.onRate.call(element, rating);\n            }\n          },\n          initialLoad: function() {\n            initialLoad = true;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.rating.settings = {\n\n  name          : 'Rating',\n  namespace     : 'rating',\n\n  slent         : false,\n  debug         : false,\n  verbose       : false,\n  performance   : true,\n\n  initialRating : 0,\n  interactive   : true,\n  maxRating     : 4,\n  clearable     : 'auto',\n\n  fireOnInit    : false,\n\n  onRate        : function(rating){},\n\n  error         : {\n    method    : 'The method you called is not defined',\n    noMaximum : 'No maximum rating specified. Cannot generate HTML automatically'\n  },\n\n\n  metadata: {\n    rating    : 'rating',\n    maxRating : 'maxRating'\n  },\n\n  className : {\n    active   : 'active',\n    disabled : 'disabled',\n    selected : 'selected',\n    loading  : 'loading'\n  },\n\n  selector  : {\n    icon : '.icon'\n  },\n\n  templates: {\n    icon: function(maxRating) {\n      var\n        icon = 1,\n        html = ''\n      ;\n      while(icon <= maxRating) {\n        html += '<i class=\"icon\"></i>';\n        icon++;\n      }\n      return html;\n    }\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Search\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.search = function(parameters) {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n  $(this)\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.search.settings, parameters)\n          : $.extend({}, $.fn.search.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        regExp          = settings.regExp,\n        fields          = settings.fields,\n        selector        = settings.selector,\n        error           = settings.error,\n        namespace       = settings.namespace,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = namespace + '-module',\n\n        $module         = $(this),\n        $prompt         = $module.find(selector.prompt),\n        $searchButton   = $module.find(selector.searchButton),\n        $results        = $module.find(selector.results),\n        $result         = $module.find(selector.result),\n        $category       = $module.find(selector.category),\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        disabledBubbled = false,\n\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module');\n          module.determine.searchFields();\n          module.bind.events();\n          module.set.type();\n          module.create.results();\n          module.instantiate();\n        },\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n        destroy: function() {\n          module.verbose('Destroying instance');\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.debug('Refreshing selector cache');\n          $prompt         = $module.find(selector.prompt);\n          $searchButton   = $module.find(selector.searchButton);\n          $category       = $module.find(selector.category);\n          $results        = $module.find(selector.results);\n          $result         = $module.find(selector.result);\n        },\n\n        refreshResults: function() {\n          $results = $module.find(selector.results);\n          $result  = $module.find(selector.result);\n        },\n\n        bind: {\n          events: function() {\n            module.verbose('Binding events to search');\n            if(settings.automatic) {\n              $module\n                .on(module.get.inputEvent() + eventNamespace, selector.prompt, module.event.input)\n              ;\n              $prompt\n                .attr('autocomplete', 'off')\n              ;\n            }\n            $module\n              // prompt\n              .on('focus'     + eventNamespace, selector.prompt, module.event.focus)\n              .on('blur'      + eventNamespace, selector.prompt, module.event.blur)\n              .on('keydown'   + eventNamespace, selector.prompt, module.handleKeyboard)\n              // search button\n              .on('click'     + eventNamespace, selector.searchButton, module.query)\n              // results\n              .on('mousedown' + eventNamespace, selector.results, module.event.result.mousedown)\n              .on('mouseup'   + eventNamespace, selector.results, module.event.result.mouseup)\n              .on('click'     + eventNamespace, selector.result,  module.event.result.click)\n            ;\n          }\n        },\n\n        determine: {\n          searchFields: function() {\n            // this makes sure $.extend does not add specified search fields to default fields\n            // this is the only setting which should not extend defaults\n            if(parameters && parameters.searchFields !== undefined) {\n              settings.searchFields = parameters.searchFields;\n            }\n          }\n        },\n\n        event: {\n          input: function() {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(module.query, settings.searchDelay);\n          },\n          focus: function() {\n            module.set.focus();\n            if( module.has.minimumCharacters() ) {\n              module.query();\n              if( module.can.show() ) {\n                module.showResults();\n              }\n            }\n          },\n          blur: function(event) {\n            var\n              pageLostFocus = (document.activeElement === this),\n              callback      = function() {\n                module.cancel.query();\n                module.remove.focus();\n                module.timer = setTimeout(module.hideResults, settings.hideDelay);\n              }\n            ;\n            if(pageLostFocus) {\n              return;\n            }\n            if(module.resultsClicked) {\n              module.debug('Determining if user action caused search to close');\n              $module\n                .one('click.close' + eventNamespace, selector.results, function(event) {\n                  if(module.is.inMessage(event) || disabledBubbled) {\n                    $prompt.focus();\n                    return;\n                  }\n                  disabledBubbled = false;\n                  if( !module.is.animating() && !module.is.hidden()) {\n                    callback();\n                  }\n                })\n              ;\n            }\n            else {\n              module.debug('Input blurred without user action, closing results');\n              callback();\n            }\n          },\n          result: {\n            mousedown: function() {\n              module.resultsClicked = true;\n            },\n            mouseup: function() {\n              module.resultsClicked = false;\n            },\n            click: function(event) {\n              module.debug('Search result selected');\n              var\n                $result = $(this),\n                $title  = $result.find(selector.title).eq(0),\n                $link   = $result.is('a[href]')\n                  ? $result\n                  : $result.find('a[href]').eq(0),\n                href    = $link.attr('href')   || false,\n                target  = $link.attr('target') || false,\n                title   = $title.html(),\n                // title is used for result lookup\n                value   = ($title.length > 0)\n                  ? $title.text()\n                  : false,\n                results = module.get.results(),\n                result  = $result.data(metadata.result) || module.get.result(value, results),\n                returnedValue\n              ;\n              if( $.isFunction(settings.onSelect) ) {\n                if(settings.onSelect.call(element, result, results) === false) {\n                  module.debug('Custom onSelect callback cancelled default select action');\n                  disabledBubbled = true;\n                  return;\n                }\n              }\n              module.hideResults();\n              if(value) {\n                module.set.value(value);\n              }\n              if(href) {\n                module.verbose('Opening search link found in result', $link);\n                if(target == '_blank' || event.ctrlKey) {\n                  window.open(href);\n                }\n                else {\n                  window.location.href = (href);\n                }\n              }\n            }\n          }\n        },\n        handleKeyboard: function(event) {\n          var\n            // force selector refresh\n            $result      = $module.find(selector.result),\n            $category    = $module.find(selector.category),\n            currentIndex = $result.index( $result.filter('.' + className.active) ),\n            resultSize   = $result.length,\n\n            keyCode      = event.which,\n            keys         = {\n              backspace : 8,\n              enter     : 13,\n              escape    : 27,\n              upArrow   : 38,\n              downArrow : 40\n            },\n            newIndex\n          ;\n          // search shortcuts\n          if(keyCode == keys.escape) {\n            module.verbose('Escape key pressed, blurring search field');\n            module.trigger.blur();\n          }\n          if( module.is.visible() ) {\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, selecting active result');\n              if( $result.filter('.' + className.active).length > 0 ) {\n                module.event.result.click.call($result.filter('.' + className.active), event);\n                event.preventDefault();\n                return false;\n              }\n            }\n            else if(keyCode == keys.upArrow) {\n              module.verbose('Up key pressed, changing active result');\n              newIndex = (currentIndex - 1 < 0)\n                ? currentIndex\n                : currentIndex - 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              event.preventDefault();\n            }\n            else if(keyCode == keys.downArrow) {\n              module.verbose('Down key pressed, changing active result');\n              newIndex = (currentIndex + 1 >= resultSize)\n                ? currentIndex\n                : currentIndex + 1\n              ;\n              $category\n                .removeClass(className.active)\n              ;\n              $result\n                .removeClass(className.active)\n                .eq(newIndex)\n                  .addClass(className.active)\n                  .closest($category)\n                    .addClass(className.active)\n              ;\n              event.preventDefault();\n            }\n          }\n          else {\n            // query shortcuts\n            if(keyCode == keys.enter) {\n              module.verbose('Enter key pressed, executing query');\n              module.query();\n              module.set.buttonPressed();\n              $prompt.one('keyup', module.remove.buttonFocus);\n            }\n          }\n        },\n\n        setup: {\n          api: function(searchTerm) {\n            var\n              apiSettings = {\n                debug             : settings.debug,\n                on                : false,\n                cache             : true,\n                action            : 'search',\n                urlData           : {\n                  query : searchTerm\n                },\n                onSuccess         : function(response) {\n                  module.parse.response.call(element, response, searchTerm);\n                },\n                onAbort           : function(response) {\n                },\n                onFailure         : function() {\n                  module.displayMessage(error.serverError);\n                },\n                onError           : module.error\n              },\n              searchHTML\n            ;\n            $.extend(true, apiSettings, settings.apiSettings);\n            module.verbose('Setting up API request', apiSettings);\n            $module.api(apiSettings);\n          }\n        },\n\n        can: {\n          useAPI: function() {\n            return $.fn.api !== undefined;\n          },\n          show: function() {\n            return module.is.focused() && !module.is.visible() && !module.is.empty();\n          },\n          transition: function() {\n            return settings.transition && $.fn.transition !== undefined && $module.transition('is supported');\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $results.hasClass(className.animating);\n          },\n          hidden: function() {\n            return $results.hasClass(className.hidden);\n          },\n          inMessage: function(event) {\n            return (event.target && $(event.target).closest(selector.message).length > 0);\n          },\n          empty: function() {\n            return ($results.html() === '');\n          },\n          visible: function() {\n            return ($results.filter(':visible').length > 0);\n          },\n          focused: function() {\n            return ($prompt.filter(':focus').length > 0);\n          }\n        },\n\n        trigger: {\n          blur: function() {\n            var\n              events        = document.createEvent('HTMLEvents'),\n              promptElement = $prompt[0]\n            ;\n            if(promptElement) {\n              module.verbose('Triggering native blur event');\n              events.initEvent('blur', false, false);\n              promptElement.dispatchEvent(events);\n            }\n          }\n        },\n\n        get: {\n          inputEvent: function() {\n            var\n              prompt = $prompt[0],\n              inputEvent   = (prompt !== undefined && prompt.oninput !== undefined)\n                ? 'input'\n                : (prompt !== undefined && prompt.onpropertychange !== undefined)\n                  ? 'propertychange'\n                  : 'keyup'\n            ;\n            return inputEvent;\n          },\n          value: function() {\n            return $prompt.val();\n          },\n          results: function() {\n            var\n              results = $module.data(metadata.results)\n            ;\n            return results;\n          },\n          result: function(value, results) {\n            var\n              lookupFields = ['title', 'id'],\n              result       = false\n            ;\n            value = (value !== undefined)\n              ? value\n              : module.get.value()\n            ;\n            results = (results !== undefined)\n              ? results\n              : module.get.results()\n            ;\n            if(settings.type === 'category') {\n              module.debug('Finding result that matches', value);\n              $.each(results, function(index, category) {\n                if($.isArray(category.results)) {\n                  result = module.search.object(value, category.results, lookupFields)[0];\n                  // don't continue searching if a result is found\n                  if(result) {\n                    return false;\n                  }\n                }\n              });\n            }\n            else {\n              module.debug('Finding result in results object', value);\n              result = module.search.object(value, results, lookupFields)[0];\n            }\n            return result || false;\n          },\n        },\n\n        select: {\n          firstResult: function() {\n            module.verbose('Selecting first result');\n            $result.first().addClass(className.active);\n          }\n        },\n\n        set: {\n          focus: function() {\n            $module.addClass(className.focus);\n          },\n          loading: function() {\n            $module.addClass(className.loading);\n          },\n          value: function(value) {\n            module.verbose('Setting search input value', value);\n            $prompt\n              .val(value)\n            ;\n          },\n          type: function(type) {\n            type = type || settings.type;\n            if(settings.type == 'category') {\n              $module.addClass(settings.type);\n            }\n          },\n          buttonPressed: function() {\n            $searchButton.addClass(className.pressed);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $module.removeClass(className.loading);\n          },\n          focus: function() {\n            $module.removeClass(className.focus);\n          },\n          buttonPressed: function() {\n            $searchButton.removeClass(className.pressed);\n          }\n        },\n\n        query: function() {\n          var\n            searchTerm = module.get.value(),\n            cache = module.read.cache(searchTerm)\n          ;\n          if( module.has.minimumCharacters() )  {\n            if(cache) {\n              module.debug('Reading result from cache', searchTerm);\n              module.save.results(cache.results);\n              module.addResults(cache.html);\n              module.inject.id(cache.results);\n            }\n            else {\n              module.debug('Querying for', searchTerm);\n              if($.isPlainObject(settings.source) || $.isArray(settings.source)) {\n                module.search.local(searchTerm);\n              }\n              else if( module.can.useAPI() ) {\n                module.search.remote(searchTerm);\n              }\n              else {\n                module.error(error.source);\n              }\n            }\n            settings.onSearchQuery.call(element, searchTerm);\n          }\n          else {\n            module.hideResults();\n          }\n        },\n\n        search: {\n          local: function(searchTerm) {\n            var\n              results = module.search.object(searchTerm, settings.content),\n              searchHTML\n            ;\n            module.set.loading();\n            module.save.results(results);\n            module.debug('Returned local search results', results);\n\n            searchHTML = module.generateResults({\n              results: results\n            });\n            module.remove.loading();\n            module.addResults(searchHTML);\n            module.inject.id(results);\n            module.write.cache(searchTerm, {\n              html    : searchHTML,\n              results : results\n            });\n          },\n          remote: function(searchTerm) {\n            if($module.api('is loading')) {\n              $module.api('abort');\n            }\n            module.setup.api(searchTerm);\n            $module\n              .api('query')\n            ;\n          },\n          object: function(searchTerm, source, searchFields) {\n            var\n              results      = [],\n              fuzzyResults = [],\n              searchExp    = searchTerm.toString().replace(regExp.escape, '\\\\$&'),\n              matchRegExp  = new RegExp(regExp.beginsWith + searchExp, 'i'),\n\n              // avoid duplicates when pushing results\n              addResult = function(array, result) {\n                var\n                  notResult      = ($.inArray(result, results) == -1),\n                  notFuzzyResult = ($.inArray(result, fuzzyResults) == -1)\n                ;\n                if(notResult && notFuzzyResult) {\n                  array.push(result);\n                }\n              }\n            ;\n            source = source || settings.source;\n            searchFields = (searchFields !== undefined)\n              ? searchFields\n              : settings.searchFields\n            ;\n\n            // search fields should be array to loop correctly\n            if(!$.isArray(searchFields)) {\n              searchFields = [searchFields];\n            }\n\n            // exit conditions if no source\n            if(source === undefined || source === false) {\n              module.error(error.source);\n              return [];\n            }\n\n            // iterate through search fields looking for matches\n            $.each(searchFields, function(index, field) {\n              $.each(source, function(label, content) {\n                var\n                  fieldExists = (typeof content[field] == 'string')\n                ;\n                if(fieldExists) {\n                  if( content[field].search(matchRegExp) !== -1) {\n                    // content starts with value (first in results)\n                    addResult(results, content);\n                  }\n                  else if(settings.searchFullText && module.fuzzySearch(searchTerm, content[field]) ) {\n                    // content fuzzy matches (last in results)\n                    addResult(fuzzyResults, content);\n                  }\n                }\n              });\n            });\n            return $.merge(results, fuzzyResults);\n          }\n        },\n\n        fuzzySearch: function(query, term) {\n          var\n            termLength  = term.length,\n            queryLength = query.length\n          ;\n          if(typeof query !== 'string') {\n            return false;\n          }\n          query = query.toLowerCase();\n          term  = term.toLowerCase();\n          if(queryLength > termLength) {\n            return false;\n          }\n          if(queryLength === termLength) {\n            return (query === term);\n          }\n          search: for (var characterIndex = 0, nextCharacterIndex = 0; characterIndex < queryLength; characterIndex++) {\n            var\n              queryCharacter = query.charCodeAt(characterIndex)\n            ;\n            while(nextCharacterIndex < termLength) {\n              if(term.charCodeAt(nextCharacterIndex++) === queryCharacter) {\n                continue search;\n              }\n            }\n            return false;\n          }\n          return true;\n        },\n\n        parse: {\n          response: function(response, searchTerm) {\n            var\n              searchHTML = module.generateResults(response)\n            ;\n            module.verbose('Parsing server response', response);\n            if(response !== undefined) {\n              if(searchTerm !== undefined && response[fields.results] !== undefined) {\n                module.addResults(searchHTML);\n                module.inject.id(response[fields.results]);\n                module.write.cache(searchTerm, {\n                  html    : searchHTML,\n                  results : response[fields.results]\n                });\n                module.save.results(response[fields.results]);\n              }\n            }\n          }\n        },\n\n        cancel: {\n          query: function() {\n            if( module.can.useAPI() ) {\n              $module.api('abort');\n            }\n          }\n        },\n\n        has: {\n          minimumCharacters: function() {\n            var\n              searchTerm    = module.get.value(),\n              numCharacters = searchTerm.length\n            ;\n            return (numCharacters >= settings.minCharacters);\n          }\n        },\n\n        clear: {\n          cache: function(value) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(!value) {\n              module.debug('Clearing cache', value);\n              $module.removeData(metadata.cache);\n            }\n            else if(value && cache && cache[value]) {\n              module.debug('Removing value from cache', value);\n              delete cache[value];\n              $module.data(metadata.cache, cache);\n            }\n          }\n        },\n\n        read: {\n          cache: function(name) {\n            var\n              cache = $module.data(metadata.cache)\n            ;\n            if(settings.cache) {\n              module.verbose('Checking cache for generated html for query', name);\n              return (typeof cache == 'object') && (cache[name] !== undefined)\n                ? cache[name]\n                : false\n              ;\n            }\n            return false;\n          }\n        },\n\n        create: {\n          id: function(resultIndex, categoryIndex) {\n            var\n              resultID      = (resultIndex + 1), // not zero indexed\n              categoryID    = (categoryIndex + 1),\n              firstCharCode,\n              letterID,\n              id\n            ;\n            if(categoryIndex !== undefined) {\n              // start char code for \"A\"\n              letterID = String.fromCharCode(97 + categoryIndex);\n              id          = letterID + resultID;\n              module.verbose('Creating category result id', id);\n            }\n            else {\n              id = resultID;\n              module.verbose('Creating result id', id);\n            }\n            return id;\n          },\n          results: function() {\n            if($results.length === 0) {\n              $results = $('<div />')\n                .addClass(className.results)\n                .appendTo($module)\n              ;\n            }\n          }\n        },\n\n        inject: {\n          result: function(result, resultIndex, categoryIndex) {\n            module.verbose('Injecting result into results');\n            var\n              $selectedResult = (categoryIndex !== undefined)\n                ? $results\n                    .children().eq(categoryIndex)\n                      .children(selector.result).eq(resultIndex)\n                : $results\n                    .children(selector.result).eq(resultIndex)\n            ;\n            module.verbose('Injecting results metadata', $selectedResult);\n            $selectedResult\n              .data(metadata.result, result)\n            ;\n          },\n          id: function(results) {\n            module.debug('Injecting unique ids into results');\n            var\n              // since results may be object, we must use counters\n              categoryIndex = 0,\n              resultIndex   = 0\n            ;\n            if(settings.type === 'category') {\n              // iterate through each category result\n              $.each(results, function(index, category) {\n                resultIndex = 0;\n                $.each(category.results, function(index, value) {\n                  var\n                    result = category.results[index]\n                  ;\n                  if(result.id === undefined) {\n                    result.id = module.create.id(resultIndex, categoryIndex);\n                  }\n                  module.inject.result(result, resultIndex, categoryIndex);\n                  resultIndex++;\n                });\n                categoryIndex++;\n              });\n            }\n            else {\n              // top level\n              $.each(results, function(index, value) {\n                var\n                  result = results[index]\n                ;\n                if(result.id === undefined) {\n                  result.id = module.create.id(resultIndex);\n                }\n                module.inject.result(result, resultIndex);\n                resultIndex++;\n              });\n            }\n            return results;\n          }\n        },\n\n        save: {\n          results: function(results) {\n            module.verbose('Saving current search results to metadata', results);\n            $module.data(metadata.results, results);\n          }\n        },\n\n        write: {\n          cache: function(name, value) {\n            var\n              cache = ($module.data(metadata.cache) !== undefined)\n                ? $module.data(metadata.cache)\n                : {}\n            ;\n            if(settings.cache) {\n              module.verbose('Writing generated html to cache', name, value);\n              cache[name] = value;\n              $module\n                .data(metadata.cache, cache)\n              ;\n            }\n          }\n        },\n\n        addResults: function(html) {\n          if( $.isFunction(settings.onResultsAdd) ) {\n            if( settings.onResultsAdd.call($results, html) === false ) {\n              module.debug('onResultsAdd callback cancelled default action');\n              return false;\n            }\n          }\n          if(html) {\n            $results\n              .html(html)\n            ;\n            module.refreshResults();\n            if(settings.selectFirstResult) {\n              module.select.firstResult();\n            }\n            module.showResults();\n          }\n          else {\n            module.hideResults();\n          }\n        },\n\n        showResults: function() {\n          if(!module.is.visible()) {\n            if( module.can.transition() ) {\n              module.debug('Showing results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' in',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Showing results with javascript');\n              $results\n                .stop()\n                .fadeIn(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsOpen.call($results);\n          }\n        },\n        hideResults: function() {\n          if( module.is.visible() ) {\n            if( module.can.transition() ) {\n              module.debug('Hiding results with css animations');\n              $results\n                .transition({\n                  animation  : settings.transition + ' out',\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  queue      : true\n                })\n              ;\n            }\n            else {\n              module.debug('Hiding results with javascript');\n              $results\n                .stop()\n                .fadeOut(settings.duration, settings.easing)\n              ;\n            }\n            settings.onResultsClose.call($results);\n          }\n        },\n\n        generateResults: function(response) {\n          module.debug('Generating html from response', response);\n          var\n            template       = settings.templates[settings.type],\n            isProperObject = ($.isPlainObject(response[fields.results]) && !$.isEmptyObject(response[fields.results])),\n            isProperArray  = ($.isArray(response[fields.results]) && response[fields.results].length > 0),\n            html           = ''\n          ;\n          if(isProperObject || isProperArray ) {\n            if(settings.maxResults > 0) {\n              if(isProperObject) {\n                if(settings.type == 'standard') {\n                  module.error(error.maxResults);\n                }\n              }\n              else {\n                response[fields.results] = response[fields.results].slice(0, settings.maxResults);\n              }\n            }\n            if($.isFunction(template)) {\n              html = template(response, fields);\n            }\n            else {\n              module.error(error.noTemplate, false);\n            }\n          }\n          else if(settings.showNoResults) {\n            html = module.displayMessage(error.noResults, 'empty');\n          }\n          settings.onResults.call(element, response);\n          return html;\n        },\n\n        displayMessage: function(text, type) {\n          type = type || 'standard';\n          module.debug('Displaying message', text, type);\n          module.addResults( settings.templates.message(text, type) );\n          return settings.templates.message(text, type);\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.search.settings = {\n\n  name              : 'Search',\n  namespace         : 'search',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // template to use (specified in settings.templates)\n  type              : 'standard',\n\n  // minimum characters required to search\n  minCharacters     : 1,\n\n  // whether to select first result after searching automatically\n  selectFirstResult : false,\n\n  // API config\n  apiSettings       : false,\n\n  // object to search\n  source            : false,\n\n  // fields to search\n  searchFields   : [\n    'title',\n    'description'\n  ],\n\n  // field to display in standard results template\n  displayField   : '',\n\n  // whether to include fuzzy results in local search\n  searchFullText : true,\n\n  // whether to add events to prompt automatically\n  automatic      : true,\n\n  // delay before hiding menu after blur\n  hideDelay      : 0,\n\n  // delay before searching\n  searchDelay    : 200,\n\n  // maximum results returned from local\n  maxResults     : 7,\n\n  // whether to store lookups in local cache\n  cache          : true,\n\n  // whether no results errors should be shown\n  showNoResults  : true,\n\n  // transition settings\n  transition     : 'scale',\n  duration       : 200,\n  easing         : 'easeOutExpo',\n\n  // callbacks\n  onSelect       : false,\n  onResultsAdd   : false,\n\n  onSearchQuery  : function(query){},\n  onResults      : function(response){},\n\n  onResultsOpen  : function(){},\n  onResultsClose : function(){},\n\n  className: {\n    animating : 'animating',\n    active    : 'active',\n    empty     : 'empty',\n    focus     : 'focus',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    results   : 'results',\n    pressed   : 'down'\n  },\n\n  error : {\n    source      : 'Cannot search. No source used, and Semantic API module was not included',\n    noResults   : 'Your search returned no results',\n    logging     : 'Error in debug logging, exiting.',\n    noEndpoint  : 'No search endpoint was specified',\n    noTemplate  : 'A valid template name was not specified.',\n    serverError : 'There was an issue querying the server.',\n    maxResults  : 'Results must be an array to use maxResults setting',\n    method      : 'The method you called is not defined.'\n  },\n\n  metadata: {\n    cache   : 'cache',\n    results : 'results',\n    result  : 'result'\n  },\n\n  regExp: {\n    escape     : /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\n    beginsWith : '(?:\\s|^)'\n  },\n\n  // maps api response attributes to internal representation\n  fields: {\n    categories      : 'results',     // array of categories (category view)\n    categoryName    : 'name',        // name of category (category view)\n    categoryResults : 'results',     // array of results (category view)\n    description     : 'description', // result description\n    image           : 'image',       // result image\n    price           : 'price',       // result price\n    results         : 'results',     // array of results (standard)\n    title           : 'title',       // result title\n    url             : 'url',         // result url\n    action          : 'action',      // \"view more\" object name\n    actionText      : 'text',        // \"view more\" text\n    actionURL       : 'url'          // \"view more\" url\n  },\n\n  selector : {\n    prompt       : '.prompt',\n    searchButton : '.search.button',\n    results      : '.results',\n    message      : '.results > .message',\n    category     : '.category',\n    result       : '.result',\n    title        : '.title, .name'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    message: function(message, type) {\n      var\n        html = ''\n      ;\n      if(message !== undefined && type !== undefined) {\n        html +=  ''\n          + '<div class=\"message ' + type + '\">'\n        ;\n        // message type\n        if(type == 'empty') {\n          html += ''\n            + '<div class=\"header\">No Results</div class=\"header\">'\n            + '<div class=\"description\">' + message + '</div class=\"description\">'\n          ;\n        }\n        else {\n          html += ' <div class=\"description\">' + message + '</div>';\n        }\n        html += '</div>';\n      }\n      return html;\n    },\n    category: function(response, fields) {\n      var\n        html = '',\n        escape = $.fn.search.settings.templates.escape\n      ;\n      if(response[fields.categoryResults] !== undefined) {\n\n        // each category\n        $.each(response[fields.categoryResults], function(index, category) {\n          if(category[fields.results] !== undefined && category.results.length > 0) {\n\n            html  += '<div class=\"category\">';\n\n            if(category[fields.categoryName] !== undefined) {\n              html += '<div class=\"name\">' + category[fields.categoryName] + '</div>';\n            }\n\n            // each item inside category\n            $.each(category.results, function(index, result) {\n              if(result[fields.url]) {\n                html  += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n              }\n              else {\n                html  += '<a class=\"result\">';\n              }\n              if(result[fields.image] !== undefined) {\n                html += ''\n                  + '<div class=\"image\">'\n                  + ' <img src=\"' + result[fields.image] + '\">'\n                  + '</div>'\n                ;\n              }\n              html += '<div class=\"content\">';\n              if(result[fields.price] !== undefined) {\n                html += '<div class=\"price\">' + result[fields.price] + '</div>';\n              }\n              if(result[fields.title] !== undefined) {\n                html += '<div class=\"title\">' + result[fields.title] + '</div>';\n              }\n              if(result[fields.description] !== undefined) {\n                html += '<div class=\"description\">' + result[fields.description] + '</div>';\n              }\n              html  += ''\n                + '</div>'\n              ;\n              html += '</a>';\n            });\n            html  += ''\n              + '</div>'\n            ;\n          }\n        });\n        if(response[fields.action]) {\n          html += ''\n          + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">'\n          +   response[fields.action][fields.actionText]\n          + '</a>';\n        }\n        return html;\n      }\n      return false;\n    },\n    standard: function(response, fields) {\n      var\n        html = ''\n      ;\n      if(response[fields.results] !== undefined) {\n\n        // each result\n        $.each(response[fields.results], function(index, result) {\n          if(result[fields.url]) {\n            html  += '<a class=\"result\" href=\"' + result[fields.url] + '\">';\n          }\n          else {\n            html  += '<a class=\"result\">';\n          }\n          if(result[fields.image] !== undefined) {\n            html += ''\n              + '<div class=\"image\">'\n              + ' <img src=\"' + result[fields.image] + '\">'\n              + '</div>'\n            ;\n          }\n          html += '<div class=\"content\">';\n          if(result[fields.price] !== undefined) {\n            html += '<div class=\"price\">' + result[fields.price] + '</div>';\n          }\n          if(result[fields.title] !== undefined) {\n            html += '<div class=\"title\">' + result[fields.title] + '</div>';\n          }\n          if(result[fields.description] !== undefined) {\n            html += '<div class=\"description\">' + result[fields.description] + '</div>';\n          }\n          html  += ''\n            + '</div>'\n          ;\n          html += '</a>';\n        });\n\n        if(response[fields.action]) {\n          html += ''\n          + '<a href=\"' + response[fields.action][fields.actionURL] + '\" class=\"action\">'\n          +   response[fields.action][fields.actionText]\n          + '</a>';\n        }\n        return html;\n      }\n      return false;\n    }\n  }\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Shape\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.shape = function(parameters) {\n  var\n    $allModules     = $(this),\n    $body           = $('body'),\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        moduleSelector = $allModules.selector || '',\n        settings       = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.shape.settings, parameters)\n          : $.extend({}, $.fn.shape.settings),\n\n        // internal aliases\n        namespace     = settings.namespace,\n        selector      = settings.selector,\n        error         = settings.error,\n        className     = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // selector cache\n        $module       = $(this),\n        $sides        = $module.find(selector.sides),\n        $side         = $module.find(selector.side),\n\n        // private variables\n        nextIndex = false,\n        $activeSide,\n        $nextSide,\n\n        // standard module\n        element       = this,\n        instance      = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.verbose('Initializing module for', element);\n          module.set.defaultSide();\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache for', element);\n          $module = $(element);\n          $sides  = $(this).find(selector.shape);\n          $side   = $(this).find(selector.side);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          var\n            shape          = $sides[0] || document.createElement('div'),\n            fakeAssignment = shape.offsetWidth\n          ;\n        },\n\n        animate: function(propertyObject, callback) {\n          module.verbose('Animating box with properties', propertyObject);\n          callback = callback || function(event) {\n            module.verbose('Executing animation callback');\n            if(event !== undefined) {\n              event.stopPropagation();\n            }\n            module.reset();\n            module.set.active();\n          };\n          settings.beforeChange.call($nextSide[0]);\n          if(module.get.transitionEvent()) {\n            module.verbose('Starting CSS animation');\n            $module\n              .addClass(className.animating)\n            ;\n            $sides\n              .css(propertyObject)\n              .one(module.get.transitionEvent(), callback)\n            ;\n            module.set.duration(settings.duration);\n            requestAnimationFrame(function() {\n              $module\n                .addClass(className.animating)\n              ;\n              $activeSide\n                .addClass(className.hidden)\n              ;\n            });\n          }\n          else {\n            callback();\n          }\n        },\n\n        queue: function(method) {\n          module.debug('Queueing animation of', method);\n          $sides\n            .one(module.get.transitionEvent(), function() {\n              module.debug('Executing queued animation');\n              setTimeout(function(){\n                $module.shape(method);\n              }, 0);\n            })\n          ;\n        },\n\n        reset: function() {\n          module.verbose('Animating states reset');\n          $module\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          // removeAttr style does not consistently work in safari\n          $sides\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n          $side\n            .attr('style', '')\n            .removeAttr('style')\n            .removeClass(className.hidden)\n          ;\n          $nextSide\n            .removeClass(className.animating)\n            .attr('style', '')\n            .removeAttr('style')\n          ;\n        },\n\n        is: {\n          complete: function() {\n            return ($side.filter('.' + className.active)[0] == $nextSide[0]);\n          },\n          animating: function() {\n            return $module.hasClass(className.animating);\n          }\n        },\n\n        set: {\n\n          defaultSide: function() {\n            $activeSide = $module.find('.' + settings.className.active);\n            $nextSide   = ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $module.find(selector.side).first()\n            ;\n            nextIndex = false;\n            module.verbose('Active side set to', $activeSide);\n            module.verbose('Next side set to', $nextSide);\n          },\n\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            module.verbose('Setting animation duration', duration);\n            if(settings.duration || settings.duration === 0) {\n              $sides.add($side)\n                .css({\n                  '-webkit-transition-duration': duration,\n                  '-moz-transition-duration': duration,\n                  '-ms-transition-duration': duration,\n                  '-o-transition-duration': duration,\n                  'transition-duration': duration\n                })\n              ;\n            }\n          },\n\n          currentStageSize: function() {\n            var\n              $activeSide = $module.find('.' + settings.className.active),\n              width       = $activeSide.outerWidth(true),\n              height      = $activeSide.outerHeight(true)\n            ;\n            $module\n              .css({\n                width: width,\n                height: height\n              })\n            ;\n          },\n\n          stageSize: function() {\n            var\n              $clone      = $module.clone().addClass(className.loading),\n              $activeSide = $clone.find('.' + settings.className.active),\n              newWidth    = (settings.width == 'next')\n                ? $nextSide.outerWidth(true)\n                : (settings.width == 'initial')\n                  ? $module.width()\n                  : settings.width,\n              newHeight    = (settings.height == 'next')\n                ? $nextSide.outerHeight(true)\n                : (settings.height == 'initial')\n                  ? $module.height()\n                  : settings.height,\n              $nextSide   = (nextIndex)\n                ? $clone.find(selector.side).eq(nextIndex)\n                : ( $activeSide.next(selector.side).length > 0 )\n                  ? $activeSide.next(selector.side)\n                  : $clone.find(selector.side).first()\n            ;\n            $activeSide.removeClass(className.active);\n            $nextSide.addClass(className.active);\n            $clone.insertAfter($module);\n            $clone.remove();\n            if(settings.width != 'auto') {\n              $module.css('width', newWidth + settings.jitter);\n              module.verbose('Specifying width during animation', newWidth);\n            }\n            if(settings.height != 'auto') {\n              $module.css('height', newHeight + settings.jitter);\n              module.verbose('Specifying height during animation', newHeight);\n            }\n          },\n\n          nextSide: function(selector) {\n            nextIndex = selector;\n            $nextSide = $side.filter(selector);\n            nextIndex = $side.index($nextSide);\n            if($nextSide.length === 0) {\n              module.set.defaultSide();\n              module.error(error.side);\n            }\n            module.verbose('Next side manually set to', $nextSide);\n          },\n\n          active: function() {\n            module.verbose('Setting new side to active', $nextSide);\n            $side\n              .removeClass(className.active)\n            ;\n            $nextSide\n              .addClass(className.active)\n            ;\n            settings.onChange.call($nextSide[0]);\n            module.set.defaultSide();\n          }\n        },\n\n        flip: {\n\n          up: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping up', $nextSide);\n              module.set.stageSize();\n              module.stage.above();\n              module.animate( module.get.transform.up() );\n            }\n            else {\n              module.queue('flip up');\n            }\n          },\n\n          down: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping down', $nextSide);\n              module.set.stageSize();\n              module.stage.below();\n              module.animate( module.get.transform.down() );\n            }\n            else {\n              module.queue('flip down');\n            }\n          },\n\n          left: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping left', $nextSide);\n              module.set.stageSize();\n              module.stage.left();\n              module.animate(module.get.transform.left() );\n            }\n            else {\n              module.queue('flip left');\n            }\n          },\n\n          right: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping right', $nextSide);\n              module.set.stageSize();\n              module.stage.right();\n              module.animate(module.get.transform.right() );\n            }\n            else {\n              module.queue('flip right');\n            }\n          },\n\n          over: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping over', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.over() );\n            }\n            else {\n              module.queue('flip over');\n            }\n          },\n\n          back: function() {\n            if(module.is.complete() && !module.is.animating() && !settings.allowRepeats) {\n              module.debug('Side already visible', $nextSide);\n              return;\n            }\n            if( !module.is.animating()) {\n              module.debug('Flipping back', $nextSide);\n              module.set.stageSize();\n              module.stage.behind();\n              module.animate(module.get.transform.back() );\n            }\n            else {\n              module.queue('flip back');\n            }\n          }\n\n        },\n\n        get: {\n\n          transform: {\n            up: function() {\n              var\n                translate = {\n                  y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                  z: -($activeSide.outerHeight(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ('+ translate.z + 'px) rotateX(-90deg)'\n              };\n            },\n\n            down: function() {\n              var\n                translate = {\n                  y: -(($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                  z: -($activeSide.outerHeight(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateY(' + translate.y + 'px) translateZ('+ translate.z + 'px) rotateX(90deg)'\n              };\n            },\n\n            left: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                  z : -($activeSide.outerWidth(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(90deg)'\n              };\n            },\n\n            right: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2),\n                  z : -($activeSide.outerWidth(true) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) translateZ(' + translate.z + 'px) rotateY(-90deg)'\n              };\n            },\n\n            over: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(180deg)'\n              };\n            },\n\n            back: function() {\n              var\n                translate = {\n                  x : -(($activeSide.outerWidth(true) - $nextSide.outerWidth(true)) / 2)\n                }\n              ;\n              return {\n                transform: 'translateX(' + translate.x + 'px) rotateY(-180deg)'\n              };\n            }\n          },\n\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          },\n\n          nextSide: function() {\n            return ( $activeSide.next(selector.side).length > 0 )\n              ? $activeSide.next(selector.side)\n              : $module.find(selector.side).first()\n            ;\n          }\n\n        },\n\n        stage: {\n\n          above: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as above', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          below: function() {\n            var\n              box = {\n                origin : (($activeSide.outerHeight(true) - $nextSide.outerHeight(true)) / 2),\n                depth  : {\n                  active : ($nextSide.outerHeight(true) / 2),\n                  next   : ($activeSide.outerHeight(true) / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as below', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'top'       : box.origin + 'px',\n                'transform' : 'rotateX(-90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          left: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          right: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as left', $nextSide, box);\n            $sides\n              .css({\n                'transform' : 'translateZ(-' + box.depth.active + 'px)'\n              })\n            ;\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg) translateZ(' + box.depth.active + 'px)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(90deg) translateZ(' + box.depth.next + 'px)'\n              })\n            ;\n          },\n\n          behind: function() {\n            var\n              height = {\n                active : $activeSide.outerWidth(true),\n                next   : $nextSide.outerWidth(true)\n              },\n              box = {\n                origin : ( ( height.active - height.next ) / 2),\n                depth  : {\n                  active : (height.next / 2),\n                  next   : (height.active / 2)\n                }\n              }\n            ;\n            module.verbose('Setting the initial animation position as behind', $nextSide, box);\n            $activeSide\n              .css({\n                'transform' : 'rotateY(0deg)'\n              })\n            ;\n            $nextSide\n              .addClass(className.animating)\n              .css({\n                'left'      : box.origin + 'px',\n                'transform' : 'rotateY(-180deg)'\n              })\n            ;\n          }\n        },\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.shape.settings = {\n\n  // module info\n  name : 'Shape',\n\n  // hide all debug content\n  silent     : false,\n\n  // debug content outputted to console\n  debug      : false,\n\n  // verbose debug output\n  verbose    : false,\n\n  // fudge factor in pixels when swapping from 2d to 3d (can be useful to correct rounding errors)\n  jitter     : 0,\n\n  // performance data output\n  performance: true,\n\n  // event namespace\n  namespace  : 'shape',\n\n  // width during animation, can be set to 'auto', initial', 'next' or pixel amount\n  width: 'initial',\n\n  // height during animation, can be set to 'auto', 'initial', 'next' or pixel amount\n  height: 'initial',\n\n  // callback occurs on side change\n  beforeChange : function() {},\n  onChange     : function() {},\n\n  // allow animation to same side\n  allowRepeats: false,\n\n  // animation duration\n  duration   : false,\n\n  // possible errors\n  error: {\n    side   : 'You tried to switch to a side that does not exist.',\n    method : 'The method you called is not defined'\n  },\n\n  // classnames used\n  className   : {\n    animating : 'animating',\n    hidden    : 'hidden',\n    loading   : 'loading',\n    active    : 'active'\n  },\n\n  // selectors used\n  selector    : {\n    sides : '.sides',\n    side  : '.side'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Sidebar\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sidebar = function(parameters) {\n  var\n    $allModules     = $(this),\n    $window         = $(window),\n    $document       = $(document),\n    $html           = $('html'),\n    $head           = $('head'),\n\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sidebar.settings, parameters)\n          : $.extend({}, $.fn.sidebar.settings),\n\n        selector        = settings.selector,\n        className       = settings.className,\n        namespace       = settings.namespace,\n        regExp          = settings.regExp,\n        error           = settings.error,\n\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        $module         = $(this),\n        $context        = $(settings.context),\n\n        $sidebars       = $module.children(selector.sidebar),\n        $fixed          = $context.children(selector.fixed),\n        $pusher         = $context.children(selector.pusher),\n        $style,\n\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        elementNamespace,\n        id,\n        currentScroll,\n        transitionEvent,\n\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n          module.debug('Initializing sidebar', parameters);\n\n          module.create.id();\n\n          transitionEvent = module.get.transitionEvent();\n\n          if(module.is.ios()) {\n            module.set.ios();\n          }\n\n          // avoids locking rendering if initialized in onReady\n          if(settings.delaySetup) {\n            requestAnimationFrame(module.setup.layout);\n          }\n          else {\n            module.setup.layout();\n          }\n\n          requestAnimationFrame(function() {\n            module.setup.cache();\n          });\n\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        create: {\n          id: function() {\n            id = (Math.random().toString(16) + '000000000').substr(2,8);\n            elementNamespace = '.' + id;\n            module.verbose('Creating unique id for element', id);\n          }\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', $module);\n          $module\n            .off(eventNamespace)\n            .removeData(moduleNamespace)\n          ;\n          if(module.is.ios()) {\n            module.remove.ios();\n          }\n          // bound by uuid\n          $context.off(elementNamespace);\n          $window.off(elementNamespace);\n          $document.off(elementNamespace);\n        },\n\n        event: {\n          clickaway: function(event) {\n            var\n              clickedInPusher = ($pusher.find(event.target).length > 0 || $pusher.is(event.target)),\n              clickedContext  = ($context.is(event.target))\n            ;\n            if(clickedInPusher) {\n              module.verbose('User clicked on dimmed page');\n              module.hide();\n            }\n            if(clickedContext) {\n              module.verbose('User clicked on dimmable context (scaled out page)');\n              module.hide();\n            }\n          },\n          touch: function(event) {\n            //event.stopPropagation();\n          },\n          containScroll: function(event) {\n            if(element.scrollTop <= 0)  {\n              element.scrollTop = 1;\n            }\n            if((element.scrollTop + element.offsetHeight) >= element.scrollHeight) {\n              element.scrollTop = element.scrollHeight - element.offsetHeight - 1;\n            }\n          },\n          scroll: function(event) {\n            if( $(event.target).closest(selector.sidebar).length === 0 ) {\n              event.preventDefault();\n            }\n          }\n        },\n\n        bind: {\n          clickaway: function() {\n            module.verbose('Adding clickaway events to context', $context);\n            if(settings.closable) {\n              $context\n                .on('click'    + elementNamespace, module.event.clickaway)\n                .on('touchend' + elementNamespace, module.event.clickaway)\n              ;\n            }\n          },\n          scrollLock: function() {\n            if(settings.scrollLock) {\n              module.debug('Disabling page scroll');\n              $window\n                .on('DOMMouseScroll' + elementNamespace, module.event.scroll)\n              ;\n            }\n            module.verbose('Adding events to contain sidebar scroll');\n            $document\n              .on('touchmove' + elementNamespace, module.event.touch)\n            ;\n            $module\n              .on('scroll' + eventNamespace, module.event.containScroll)\n            ;\n          }\n        },\n        unbind: {\n          clickaway: function() {\n            module.verbose('Removing clickaway events from context', $context);\n            $context.off(elementNamespace);\n          },\n          scrollLock: function() {\n            module.verbose('Removing scroll lock from page');\n            $document.off(elementNamespace);\n            $window.off(elementNamespace);\n            $module.off('scroll' + eventNamespace);\n          }\n        },\n\n        add: {\n          inlineCSS: function() {\n            var\n              width     = module.cache.width  || $module.outerWidth(),\n              height    = module.cache.height || $module.outerHeight(),\n              isRTL     = module.is.rtl(),\n              direction = module.get.direction(),\n              distance  = {\n                left   : width,\n                right  : -width,\n                top    : height,\n                bottom : -height\n              },\n              style\n            ;\n\n            if(isRTL){\n              module.verbose('RTL detected, flipping widths');\n              distance.left = -width;\n              distance.right = width;\n            }\n\n            style  = '<style>';\n\n            if(direction === 'left' || direction === 'right') {\n              module.debug('Adding CSS rules for animation distance', width);\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                + ' }'\n              ;\n            }\n            else if(direction === 'top' || direction == 'bottom') {\n              style  += ''\n                + ' .ui.visible.' + direction + '.sidebar ~ .fixed,'\n                + ' .ui.visible.' + direction + '.sidebar ~ .pusher {'\n                + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                + ' }'\n              ;\n            }\n\n            /* IE is only browser not to create context with transforms */\n            /* https://www.w3.org/Bugs/Public/show_bug.cgi?id=16328 */\n            if( module.is.ie() ) {\n              if(direction === 'left' || direction === 'right') {\n                module.debug('Adding CSS rules for animation distance', width);\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + '           transform: translate3d('+ distance[direction] + 'px, 0, 0);'\n                  + ' }'\n                ;\n              }\n              else if(direction === 'top' || direction == 'bottom') {\n                style  += ''\n                  + ' body.pushable > .ui.visible.' + direction + '.sidebar ~ .pusher:after {'\n                  + '   -webkit-transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + '           transform: translate3d(0, ' + distance[direction] + 'px, 0);'\n                  + ' }'\n                ;\n              }\n              /* opposite sides visible forces content overlay */\n              style += ''\n                + ' body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after,'\n                + ' body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {'\n                + '   -webkit-transform: translate3d(0px, 0, 0);'\n                + '           transform: translate3d(0px, 0, 0);'\n                + ' }'\n              ;\n            }\n            style += '</style>';\n            $style = $(style)\n              .appendTo($head)\n            ;\n            module.debug('Adding sizing css to head', $style);\n          }\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing selector cache');\n          $context  = $(settings.context);\n          $sidebars = $context.children(selector.sidebar);\n          $pusher   = $context.children(selector.pusher);\n          $fixed    = $context.children(selector.fixed);\n          module.clear.cache();\n        },\n\n        refreshSidebars: function() {\n          module.verbose('Refreshing other sidebars');\n          $sidebars = $context.children(selector.sidebar);\n        },\n\n        repaint: function() {\n          module.verbose('Forcing repaint event');\n          element.style.display = 'none';\n          var ignored = element.offsetHeight;\n          element.scrollTop = element.scrollTop;\n          element.style.display = '';\n        },\n\n        setup: {\n          cache: function() {\n            module.cache = {\n              width  : $module.outerWidth(),\n              height : $module.outerHeight(),\n              rtl    : ($module.css('direction') == 'rtl')\n            };\n          },\n          layout: function() {\n            if( $context.children(selector.pusher).length === 0 ) {\n              module.debug('Adding wrapper element for sidebar');\n              module.error(error.pusher);\n              $pusher = $('<div class=\"pusher\" />');\n              $context\n                .children()\n                  .not(selector.omitted)\n                  .not($sidebars)\n                  .wrapAll($pusher)\n              ;\n              module.refresh();\n            }\n            if($module.nextAll(selector.pusher).length === 0 || $module.nextAll(selector.pusher)[0] !== $pusher[0]) {\n              module.debug('Moved sidebar to correct parent element');\n              module.error(error.movedSidebar, element);\n              $module.detach().prependTo($context);\n              module.refresh();\n            }\n            module.clear.cache();\n            module.set.pushable();\n            module.set.direction();\n          }\n        },\n\n        attachEvents: function(selector, event) {\n          var\n            $toggle = $(selector)\n          ;\n          event = $.isFunction(module[event])\n            ? module[event]\n            : module.toggle\n          ;\n          if($toggle.length > 0) {\n            module.debug('Attaching sidebar events to element', selector, event);\n            $toggle\n              .on('click' + eventNamespace, event)\n            ;\n          }\n          else {\n            module.error(error.notFound, selector);\n          }\n        },\n\n        show: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.hidden()) {\n            module.refreshSidebars();\n            if(settings.overlay)  {\n              module.error(error.overlay);\n              settings.transition = 'overlay';\n            }\n            module.refresh();\n            if(module.othersActive()) {\n              module.debug('Other sidebars currently visible');\n              if(settings.exclusive) {\n                // if not overlay queue animation after hide\n                if(settings.transition != 'overlay') {\n                  module.hideOthers(module.show);\n                  return;\n                }\n                else {\n                  module.hideOthers();\n                }\n              }\n              else {\n                settings.transition = 'overlay';\n              }\n            }\n            module.pushPage(function() {\n              callback.call(element);\n              settings.onShow.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onVisible.call(element);\n          }\n          else {\n            module.debug('Sidebar is already visible');\n          }\n        },\n\n        hide: function(callback) {\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(module.is.visible() || module.is.animating()) {\n            module.debug('Hiding sidebar', callback);\n            module.refreshSidebars();\n            module.pullPage(function() {\n              callback.call(element);\n              settings.onHidden.call(element);\n            });\n            settings.onChange.call(element);\n            settings.onHide.call(element);\n          }\n        },\n\n        othersAnimating: function() {\n          return ($sidebars.not($module).filter('.' + className.animating).length > 0);\n        },\n        othersVisible: function() {\n          return ($sidebars.not($module).filter('.' + className.visible).length > 0);\n        },\n        othersActive: function() {\n          return(module.othersVisible() || module.othersAnimating());\n        },\n\n        hideOthers: function(callback) {\n          var\n            $otherSidebars = $sidebars.not($module).filter('.' + className.visible),\n            sidebarCount   = $otherSidebars.length,\n            callbackCount  = 0\n          ;\n          callback = callback || function(){};\n          $otherSidebars\n            .sidebar('hide', function() {\n              callbackCount++;\n              if(callbackCount == sidebarCount) {\n                callback();\n              }\n            })\n          ;\n        },\n\n        toggle: function() {\n          module.verbose('Determining toggled direction');\n          if(module.is.hidden()) {\n            module.show();\n          }\n          else {\n            module.hide();\n          }\n        },\n\n        pushPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition === 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            dim,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          if(settings.transition == 'scale down') {\n            module.scrollToTop();\n          }\n          module.set.transition(transition);\n          module.repaint();\n          animate = function() {\n            module.bind.clickaway();\n            module.add.inlineCSS();\n            module.set.animating();\n            module.set.visible();\n          };\n          dim = function() {\n            module.set.dimmed();\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.bind.scrollLock();\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n          if(settings.dimPage && !module.othersVisible()) {\n            requestAnimationFrame(dim);\n          }\n        },\n\n        pullPage: function(callback) {\n          var\n            transition = module.get.transition(),\n            $transition = (transition == 'overlay' || module.othersActive())\n              ? $module\n              : $pusher,\n            animate,\n            transitionEnd\n          ;\n          callback = $.isFunction(callback)\n            ? callback\n            : function(){}\n          ;\n          module.verbose('Removing context push state', module.get.direction());\n\n          module.unbind.clickaway();\n          module.unbind.scrollLock();\n\n          animate = function() {\n            module.set.transition(transition);\n            module.set.animating();\n            module.remove.visible();\n            if(settings.dimPage && !module.othersVisible()) {\n              $pusher.removeClass(className.dimmed);\n            }\n          };\n          transitionEnd = function(event) {\n            if( event.target == $transition[0] ) {\n              $transition.off(transitionEvent + elementNamespace, transitionEnd);\n              module.remove.animating();\n              module.remove.transition();\n              module.remove.inlineCSS();\n              if(transition == 'scale down' || (settings.returnScroll && module.is.mobile()) ) {\n                module.scrollBack();\n              }\n              callback.call(element);\n            }\n          };\n          $transition.off(transitionEvent + elementNamespace);\n          $transition.on(transitionEvent + elementNamespace, transitionEnd);\n          requestAnimationFrame(animate);\n        },\n\n        scrollToTop: function() {\n          module.verbose('Scrolling to top of page to avoid animation issues');\n          currentScroll = $(window).scrollTop();\n          $module.scrollTop(0);\n          window.scrollTo(0, 0);\n        },\n\n        scrollBack: function() {\n          module.verbose('Scrolling back to original page position');\n          window.scrollTo(0, currentScroll);\n        },\n\n        clear: {\n          cache: function() {\n            module.verbose('Clearing cached dimensions');\n            module.cache = {};\n          }\n        },\n\n        set: {\n\n          // ios only (scroll on html not document). This prevent auto-resize canvas/scroll in ios\n          ios: function() {\n            $html.addClass(className.ios);\n          },\n\n          // container\n          pushed: function() {\n            $context.addClass(className.pushed);\n          },\n          pushable: function() {\n            $context.addClass(className.pushable);\n          },\n\n          // pusher\n          dimmed: function() {\n            $pusher.addClass(className.dimmed);\n          },\n\n          // sidebar\n          active: function() {\n            $module.addClass(className.active);\n          },\n          animating: function() {\n            $module.addClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.addClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.addClass(className[direction]);\n          },\n          visible: function() {\n            $module.addClass(className.visible);\n          },\n          overlay: function() {\n            $module.addClass(className.overlay);\n          }\n        },\n        remove: {\n\n          inlineCSS: function() {\n            module.debug('Removing inline css styles', $style);\n            if($style && $style.length > 0) {\n              $style.remove();\n            }\n          },\n\n          // ios scroll on html not document\n          ios: function() {\n            $html.removeClass(className.ios);\n          },\n\n          // context\n          pushed: function() {\n            $context.removeClass(className.pushed);\n          },\n          pushable: function() {\n            $context.removeClass(className.pushable);\n          },\n\n          // sidebar\n          active: function() {\n            $module.removeClass(className.active);\n          },\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          transition: function(transition) {\n            transition = transition || module.get.transition();\n            $module.removeClass(transition);\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            $module.removeClass(className[direction]);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          overlay: function() {\n            $module.removeClass(className.overlay);\n          }\n        },\n\n        get: {\n          direction: function() {\n            if($module.hasClass(className.top)) {\n              return className.top;\n            }\n            else if($module.hasClass(className.right)) {\n              return className.right;\n            }\n            else if($module.hasClass(className.bottom)) {\n              return className.bottom;\n            }\n            return className.left;\n          },\n          transition: function() {\n            var\n              direction = module.get.direction(),\n              transition\n            ;\n            transition = ( module.is.mobile() )\n              ? (settings.mobileTransition == 'auto')\n                ? settings.defaultTransition.mobile[direction]\n                : settings.mobileTransition\n              : (settings.transition == 'auto')\n                ? settings.defaultTransition.computer[direction]\n                : settings.transition\n            ;\n            module.verbose('Determined transition', transition);\n            return transition;\n          },\n          transitionEvent: function() {\n            var\n              element     = document.createElement('element'),\n              transitions = {\n                'transition'       :'transitionend',\n                'OTransition'      :'oTransitionEnd',\n                'MozTransition'    :'transitionend',\n                'WebkitTransition' :'webkitTransitionEnd'\n              },\n              transition\n            ;\n            for(transition in transitions){\n              if( element.style[transition] !== undefined ){\n                return transitions[transition];\n              }\n            }\n          }\n        },\n\n        is: {\n\n          ie: function() {\n            var\n              isIE11 = (!(window.ActiveXObject) && 'ActiveXObject' in window),\n              isIE   = ('ActiveXObject' in window)\n            ;\n            return (isIE11 || isIE);\n          },\n\n          ios: function() {\n            var\n              userAgent      = navigator.userAgent,\n              isIOS          = userAgent.match(regExp.ios),\n              isMobileChrome = userAgent.match(regExp.mobileChrome)\n            ;\n            if(isIOS && !isMobileChrome) {\n              module.verbose('Browser was found to be iOS', userAgent);\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          mobile: function() {\n            var\n              userAgent    = navigator.userAgent,\n              isMobile     = userAgent.match(regExp.mobile)\n            ;\n            if(isMobile) {\n              module.verbose('Browser was found to be mobile', userAgent);\n              return true;\n            }\n            else {\n              module.verbose('Browser is not mobile, using regular transition', userAgent);\n              return false;\n            }\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          visible: function() {\n            return $module.hasClass(className.visible);\n          },\n          // alias\n          open: function() {\n            return module.is.visible();\n          },\n          closed: function() {\n            return module.is.hidden();\n          },\n          vertical: function() {\n            return $module.hasClass(className.top);\n          },\n          animating: function() {\n            return $context.hasClass(className.animating);\n          },\n          rtl: function () {\n            if(module.cache.rtl === undefined) {\n              module.cache.rtl = ($module.css('direction') == 'rtl');\n            }\n            return module.cache.rtl;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      }\n    ;\n\n    if(methodInvoked) {\n      if(instance === undefined) {\n        module.initialize();\n      }\n      module.invoke(query);\n    }\n    else {\n      if(instance !== undefined) {\n        module.invoke('destroy');\n      }\n      module.initialize();\n    }\n  });\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sidebar.settings = {\n\n  name              : 'Sidebar',\n  namespace         : 'sidebar',\n\n  silent            : false,\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  transition        : 'auto',\n  mobileTransition  : 'auto',\n\n  defaultTransition : {\n    computer: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    },\n    mobile: {\n      left   : 'uncover',\n      right  : 'uncover',\n      top    : 'overlay',\n      bottom : 'overlay'\n    }\n  },\n\n  context           : 'body',\n  exclusive         : false,\n  closable          : true,\n  dimPage           : true,\n  scrollLock        : false,\n  returnScroll      : false,\n  delaySetup        : false,\n\n  duration          : 500,\n\n  onChange          : function(){},\n  onShow            : function(){},\n  onHide            : function(){},\n\n  onHidden          : function(){},\n  onVisible         : function(){},\n\n  className         : {\n    active    : 'active',\n    animating : 'animating',\n    dimmed    : 'dimmed',\n    ios       : 'ios',\n    pushable  : 'pushable',\n    pushed    : 'pushed',\n    right     : 'right',\n    top       : 'top',\n    left      : 'left',\n    bottom    : 'bottom',\n    visible   : 'visible'\n  },\n\n  selector: {\n    fixed   : '.fixed',\n    omitted : 'script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed',\n    pusher  : '.pusher',\n    sidebar : '.ui.sidebar'\n  },\n\n  regExp: {\n    ios          : /(iPad|iPhone|iPod)/g,\n    mobileChrome : /(CriOS)/g,\n    mobile       : /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g\n  },\n\n  error   : {\n    method       : 'The method you called is not defined.',\n    pusher       : 'Had to add pusher element. For optimal performance make sure body content is inside a pusher element',\n    movedSidebar : 'Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag',\n    overlay      : 'The overlay setting is no longer supported, use animation: overlay',\n    notFound     : 'There were no elements that matched the specified selector'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Sticky\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.sticky = function(parameters) {\n  var\n    $allModules    = $(this),\n    moduleSelector = $allModules.selector || '',\n\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings              = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.sticky.settings, parameters)\n          : $.extend({}, $.fn.sticky.settings),\n\n        className             = settings.className,\n        namespace             = settings.namespace,\n        error                 = settings.error,\n\n        eventNamespace        = '.' + namespace,\n        moduleNamespace       = 'module-' + namespace,\n\n        $module               = $(this),\n        $window               = $(window),\n        $scroll               = $(settings.scrollContext),\n        $container,\n        $context,\n\n        selector              = $module.selector || '',\n        instance              = $module.data(moduleNamespace),\n\n        requestAnimationFrame = window.requestAnimationFrame\n          || window.mozRequestAnimationFrame\n          || window.webkitRequestAnimationFrame\n          || window.msRequestAnimationFrame\n          || function(callback) { setTimeout(callback, 0); },\n\n        element         = this,\n\n        documentObserver,\n        observer,\n        module\n      ;\n\n      module      = {\n\n        initialize: function() {\n\n          module.determineContainer();\n          module.determineContext();\n          module.verbose('Initializing sticky', settings, $container);\n\n          module.save.positions();\n          module.checkErrors();\n          module.bind.events();\n\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous instance');\n          module.reset();\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          if(observer) {\n            observer.disconnect();\n          }\n          $window\n            .off('load' + eventNamespace, module.event.load)\n            .off('resize' + eventNamespace, module.event.resize)\n          ;\n          $scroll\n            .off('scrollchange' + eventNamespace, module.event.scrollchange)\n          ;\n          $module.removeData(moduleNamespace);\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            observer         = new MutationObserver(module.event.changed);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe(element, {\n              childList : true,\n              subtree   : true\n            });\n            observer.observe($context[0], {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', observer);\n          }\n        },\n\n        determineContainer: function() {\n          $container = $module.offsetParent();\n        },\n\n        determineContext: function() {\n          if(settings.context) {\n            $context = $(settings.context);\n          }\n          else {\n            $context = $container;\n          }\n          if($context.length === 0) {\n            module.error(error.invalidContext, settings.context, $module);\n            return;\n          }\n        },\n\n        checkErrors: function() {\n          if( module.is.hidden() ) {\n            module.error(error.visible, $module);\n          }\n          if(module.cache.element.height > module.cache.context.height) {\n            module.reset();\n            module.error(error.elementSize, $module);\n            return;\n          }\n        },\n\n        bind: {\n          events: function() {\n            $window\n              .on('load' + eventNamespace, module.event.load)\n              .on('resize' + eventNamespace, module.event.resize)\n            ;\n            // pub/sub pattern\n            $scroll\n              .off('scroll' + eventNamespace)\n              .on('scroll' + eventNamespace, module.event.scroll)\n              .on('scrollchange' + eventNamespace, module.event.scrollchange)\n            ;\n          }\n        },\n\n        event: {\n          changed: function(mutations) {\n            clearTimeout(module.timer);\n            module.timer = setTimeout(function() {\n              module.verbose('DOM tree modified, updating sticky menu', mutations);\n              module.refresh();\n            }, 100);\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          load: function() {\n            module.verbose('Page contents finished loading');\n            requestAnimationFrame(module.refresh);\n          },\n          resize: function() {\n            module.verbose('Window resized');\n            requestAnimationFrame(module.refresh);\n          },\n          scroll: function() {\n            requestAnimationFrame(function() {\n              $scroll.triggerHandler('scrollchange' + eventNamespace, $scroll.scrollTop() );\n            });\n          },\n          scrollchange: function(event, scrollPosition) {\n            module.stick(scrollPosition);\n            settings.onScroll.call(element);\n          }\n        },\n\n        refresh: function(hardRefresh) {\n          module.reset();\n          if(!settings.context) {\n            module.determineContext();\n          }\n          if(hardRefresh) {\n            module.determineContainer();\n          }\n          module.save.positions();\n          module.stick();\n          settings.onReposition.call(element);\n        },\n\n        supports: {\n          sticky: function() {\n            var\n              $element = $('<div/>'),\n              element = $element[0]\n            ;\n            $element.addClass(className.supported);\n            return($element.css('position').match('sticky'));\n          }\n        },\n\n        save: {\n          lastScroll: function(scroll) {\n            module.lastScroll = scroll;\n          },\n          elementScroll: function(scroll) {\n            module.elementScroll = scroll;\n          },\n          positions: function() {\n            var\n              scrollContext = {\n                height : $scroll.height()\n              },\n              element = {\n                margin: {\n                  top    : parseInt($module.css('margin-top'), 10),\n                  bottom : parseInt($module.css('margin-bottom'), 10),\n                },\n                offset : $module.offset(),\n                width  : $module.outerWidth(),\n                height : $module.outerHeight()\n              },\n              context = {\n                offset : $context.offset(),\n                height : $context.outerHeight()\n              },\n              container = {\n                height: $container.outerHeight()\n              }\n            ;\n            if( !module.is.standardScroll() ) {\n              module.debug('Non-standard scroll. Removing scroll offset from element offset');\n\n              scrollContext.top  = $scroll.scrollTop();\n              scrollContext.left = $scroll.scrollLeft();\n\n              element.offset.top  += scrollContext.top;\n              context.offset.top  += scrollContext.top;\n              element.offset.left += scrollContext.left;\n              context.offset.left += scrollContext.left;\n            }\n            module.cache = {\n              fits : ( element.height < scrollContext.height ),\n              scrollContext : {\n                height : scrollContext.height\n              },\n              element: {\n                margin : element.margin,\n                top    : element.offset.top - element.margin.top,\n                left   : element.offset.left,\n                width  : element.width,\n                height : element.height,\n                bottom : element.offset.top + element.height\n              },\n              context: {\n                top           : context.offset.top,\n                height        : context.height,\n                bottom        : context.offset.top + context.height\n              }\n            };\n            module.set.containerSize();\n            module.set.size();\n            module.stick();\n            module.debug('Caching element positions', module.cache);\n          }\n        },\n\n        get: {\n          direction: function(scroll) {\n            var\n              direction = 'down'\n            ;\n            scroll = scroll || $scroll.scrollTop();\n            if(module.lastScroll !== undefined) {\n              if(module.lastScroll < scroll) {\n                direction = 'down';\n              }\n              else if(module.lastScroll > scroll) {\n                direction = 'up';\n              }\n            }\n            return direction;\n          },\n          scrollChange: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            return (module.lastScroll)\n              ? (scroll - module.lastScroll)\n              : 0\n            ;\n          },\n          currentElementScroll: function() {\n            if(module.elementScroll) {\n              return module.elementScroll;\n            }\n            return ( module.is.top() )\n              ? Math.abs(parseInt($module.css('top'), 10))    || 0\n              : Math.abs(parseInt($module.css('bottom'), 10)) || 0\n            ;\n          },\n\n          elementScroll: function(scroll) {\n            scroll = scroll || $scroll.scrollTop();\n            var\n              element        = module.cache.element,\n              scrollContext  = module.cache.scrollContext,\n              delta          = module.get.scrollChange(scroll),\n              maxScroll      = (element.height - scrollContext.height + settings.offset),\n              elementScroll  = module.get.currentElementScroll(),\n              possibleScroll = (elementScroll + delta)\n            ;\n            if(module.cache.fits || possibleScroll < 0) {\n              elementScroll = 0;\n            }\n            else if(possibleScroll > maxScroll ) {\n              elementScroll = maxScroll;\n            }\n            else {\n              elementScroll = possibleScroll;\n            }\n            return elementScroll;\n          }\n        },\n\n        remove: {\n          lastScroll: function() {\n            delete module.lastScroll;\n          },\n          elementScroll: function(scroll) {\n            delete module.elementScroll;\n          },\n          offset: function() {\n            $module.css('margin-top', '');\n          }\n        },\n\n        set: {\n          offset: function() {\n            module.verbose('Setting offset on element', settings.offset);\n            $module\n              .css('margin-top', settings.offset)\n            ;\n          },\n          containerSize: function() {\n            var\n              tagName = $container.get(0).tagName\n            ;\n            if(tagName === 'HTML' || tagName == 'body') {\n              // this can trigger for too many reasons\n              //module.error(error.container, tagName, $module);\n              module.determineContainer();\n            }\n            else {\n              if( Math.abs($container.outerHeight() - module.cache.context.height) > settings.jitter) {\n                module.debug('Context has padding, specifying exact height for container', module.cache.context.height);\n                $container.css({\n                  height: module.cache.context.height\n                });\n              }\n            }\n          },\n          minimumSize: function() {\n            var\n              element   = module.cache.element\n            ;\n            $container\n              .css('min-height', element.height)\n            ;\n          },\n          scroll: function(scroll) {\n            module.debug('Setting scroll on element', scroll);\n            if(module.elementScroll == scroll) {\n              return;\n            }\n            if( module.is.top() ) {\n              $module\n                .css('bottom', '')\n                .css('top', -scroll)\n              ;\n            }\n            if( module.is.bottom() ) {\n              $module\n                .css('top', '')\n                .css('bottom', scroll)\n              ;\n            }\n          },\n          size: function() {\n            if(module.cache.element.height !== 0 && module.cache.element.width !== 0) {\n              element.style.setProperty('width',  module.cache.element.width  + 'px', 'important');\n              element.style.setProperty('height', module.cache.element.height + 'px', 'important');\n            }\n          }\n        },\n\n        is: {\n          standardScroll: function() {\n            return ($scroll[0] == window);\n          },\n          top: function() {\n            return $module.hasClass(className.top);\n          },\n          bottom: function() {\n            return $module.hasClass(className.bottom);\n          },\n          initialPosition: function() {\n            return (!module.is.fixed() && !module.is.bound());\n          },\n          hidden: function() {\n            return (!$module.is(':visible'));\n          },\n          bound: function() {\n            return $module.hasClass(className.bound);\n          },\n          fixed: function() {\n            return $module.hasClass(className.fixed);\n          }\n        },\n\n        stick: function(scroll) {\n          var\n            cachedPosition = scroll || $scroll.scrollTop(),\n            cache          = module.cache,\n            fits           = cache.fits,\n            element        = cache.element,\n            scrollContext  = cache.scrollContext,\n            context        = cache.context,\n            offset         = (module.is.bottom() && settings.pushing)\n              ? settings.bottomOffset\n              : settings.offset,\n            scroll         = {\n              top    : cachedPosition + offset,\n              bottom : cachedPosition + offset + scrollContext.height\n            },\n            direction      = module.get.direction(scroll.top),\n            elementScroll  = (fits)\n              ? 0\n              : module.get.elementScroll(scroll.top),\n\n            // shorthand\n            doesntFit      = !fits,\n            elementVisible = (element.height !== 0)\n          ;\n\n          if(elementVisible) {\n\n            if( module.is.initialPosition() ) {\n              if(scroll.top >= context.bottom) {\n                module.debug('Initial element position is bottom of container');\n                module.bindBottom();\n              }\n              else if(scroll.top > element.top) {\n                if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Initial element position is bottom of container');\n                  module.bindBottom();\n                }\n                else {\n                  module.debug('Initial element position is fixed');\n                  module.fixTop();\n                }\n              }\n\n            }\n            else if( module.is.fixed() ) {\n\n              // currently fixed top\n              if( module.is.top() ) {\n                if( scroll.top <= element.top ) {\n                  module.debug('Fixed element reached top of container');\n                  module.setInitialPosition();\n                }\n                else if( (element.height + scroll.top - elementScroll) >= context.bottom ) {\n                  module.debug('Fixed element reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n              }\n\n              // currently fixed bottom\n              else if(module.is.bottom() ) {\n\n                // top edge\n                if( (scroll.bottom - element.height) <= element.top) {\n                  module.debug('Bottom fixed rail has reached top of container');\n                  module.setInitialPosition();\n                }\n                // bottom edge\n                else if(scroll.bottom >= context.bottom) {\n                  module.debug('Bottom fixed rail has reached bottom of container');\n                  module.bindBottom();\n                }\n                // scroll element if larger than screen\n                else if(doesntFit) {\n                  module.set.scroll(elementScroll);\n                  module.save.lastScroll(scroll.top);\n                  module.save.elementScroll(elementScroll);\n                }\n\n              }\n            }\n            else if( module.is.bottom() ) {\n              if( scroll.top <= element.top ) {\n                module.debug('Jumped from bottom fixed to top fixed, most likely used home/end button');\n                module.setInitialPosition();\n              }\n              else {\n                if(settings.pushing) {\n                  if(module.is.bound() && scroll.bottom <= context.bottom ) {\n                    module.debug('Fixing bottom attached element to bottom of browser.');\n                    module.fixBottom();\n                  }\n                }\n                else {\n                  if(module.is.bound() && (scroll.top <= context.bottom - element.height) ) {\n                    module.debug('Fixing bottom attached element to top of browser.');\n                    module.fixTop();\n                  }\n                }\n              }\n            }\n          }\n        },\n\n        bindTop: function() {\n          module.debug('Binding element to top of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : '',\n              marginBottom : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.bottom)\n            .addClass(className.bound)\n            .addClass(className.top)\n          ;\n          settings.onTop.call(element);\n          settings.onUnstick.call(element);\n        },\n        bindBottom: function() {\n          module.debug('Binding element to bottom of parent container');\n          module.remove.offset();\n          $module\n            .css({\n              left         : '',\n              top          : ''\n            })\n            .removeClass(className.fixed)\n            .removeClass(className.top)\n            .addClass(className.bound)\n            .addClass(className.bottom)\n          ;\n          settings.onBottom.call(element);\n          settings.onUnstick.call(element);\n        },\n\n        setInitialPosition: function() {\n          module.debug('Returning to initial position');\n          module.unfix();\n          module.unbind();\n        },\n\n\n        fixTop: function() {\n          module.debug('Fixing element to top of page');\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.bottom)\n            .addClass(className.fixed)\n            .addClass(className.top)\n          ;\n          settings.onStick.call(element);\n        },\n\n        fixBottom: function() {\n          module.debug('Sticking element to bottom of page');\n          module.set.minimumSize();\n          module.set.offset();\n          $module\n            .css({\n              left         : module.cache.element.left,\n              bottom       : '',\n              marginBottom : ''\n            })\n            .removeClass(className.bound)\n            .removeClass(className.top)\n            .addClass(className.fixed)\n            .addClass(className.bottom)\n          ;\n          settings.onStick.call(element);\n        },\n\n        unbind: function() {\n          if( module.is.bound() ) {\n            module.debug('Removing container bound position on element');\n            module.remove.offset();\n            $module\n              .removeClass(className.bound)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n          }\n        },\n\n        unfix: function() {\n          if( module.is.fixed() ) {\n            module.debug('Removing fixed position on element');\n            module.remove.offset();\n            $module\n              .removeClass(className.fixed)\n              .removeClass(className.top)\n              .removeClass(className.bottom)\n            ;\n            settings.onUnstick.call(element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting elements position');\n          module.unbind();\n          module.unfix();\n          module.resetCSS();\n          module.remove.offset();\n          module.remove.lastScroll();\n        },\n\n        resetCSS: function() {\n          $module\n            .css({\n              width  : '',\n              height : ''\n            })\n          ;\n          $container\n            .css({\n              height: ''\n            })\n          ;\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 0);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.sticky.settings = {\n\n  name           : 'Sticky',\n  namespace      : 'sticky',\n\n  silent         : false,\n  debug          : false,\n  verbose        : true,\n  performance    : true,\n\n  // whether to stick in the opposite direction on scroll up\n  pushing        : false,\n\n  context        : false,\n\n  // Context to watch scroll events\n  scrollContext  : window,\n\n  // Offset to adjust scroll\n  offset         : 0,\n\n  // Offset to adjust scroll when attached to bottom of screen\n  bottomOffset   : 0,\n\n  jitter         : 5, // will only set container height if difference between context and container is larger than this number\n\n  // Whether to automatically observe changes with Mutation Observers\n  observeChanges : false,\n\n  // Called when position is recalculated\n  onReposition   : function(){},\n\n  // Called on each scroll\n  onScroll       : function(){},\n\n  // Called when element is stuck to viewport\n  onStick        : function(){},\n\n  // Called when element is unstuck from viewport\n  onUnstick      : function(){},\n\n  // Called when element reaches top of context\n  onTop          : function(){},\n\n  // Called when element reaches bottom of context\n  onBottom       : function(){},\n\n  error         : {\n    container      : 'Sticky element must be inside a relative container',\n    visible        : 'Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.',\n    method         : 'The method you called is not defined.',\n    invalidContext : 'Context specified does not exist',\n    elementSize    : 'Sticky element is larger than its container, cannot create sticky.'\n  },\n\n  className : {\n    bound     : 'bound',\n    fixed     : 'fixed',\n    supported : 'native',\n    top       : 'top',\n    bottom    : 'bottom'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Tab\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.tab = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n\n    moduleSelector  = $allModules.selector || '',\n    time            = new Date().getTime(),\n    performance     = [],\n\n    query           = arguments[0],\n    methodInvoked   = (typeof query == 'string'),\n    queryArguments  = [].slice.call(arguments, 1),\n\n    initializedHistory = false,\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.tab.settings, parameters)\n          : $.extend({}, $.fn.tab.settings),\n\n        className       = settings.className,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n\n        eventNamespace  = '.' + settings.namespace,\n        moduleNamespace = 'module-' + settings.namespace,\n\n        $module         = $(this),\n        $context,\n        $tabs,\n\n        cache           = {},\n        firstLoad       = true,\n        recursionDepth  = 0,\n        element         = this,\n        instance        = $module.data(moduleNamespace),\n\n        activeTabPath,\n        parameterArray,\n        module,\n\n        historyEvent\n\n      ;\n\n      module = {\n\n        initialize: function() {\n          module.debug('Initializing tab menu item', $module);\n          module.fix.callbacks();\n          module.determineTabs();\n\n          module.debug('Determining tabs', settings.context, $tabs);\n          // set up automatic routing\n          if(settings.auto) {\n            module.set.auto();\n          }\n          module.bind.events();\n\n          if(settings.history && !initializedHistory) {\n            module.initializeHistory();\n            initializedHistory = true;\n          }\n\n          module.instantiate();\n        },\n\n        instantiate: function () {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, module)\n          ;\n        },\n\n        destroy: function() {\n          module.debug('Destroying tabs', $module);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            // if using $.tab don't add events\n            if( !$.isWindow( element ) ) {\n              module.debug('Attaching tab activation events to element', $module);\n              $module\n                .on('click' + eventNamespace, module.event.click)\n              ;\n            }\n          }\n        },\n\n        determineTabs: function() {\n          var\n            $reference\n          ;\n\n          // determine tab context\n          if(settings.context === 'parent') {\n            if($module.closest(selector.ui).length > 0) {\n              $reference = $module.closest(selector.ui);\n              module.verbose('Using closest UI element as parent', $reference);\n            }\n            else {\n              $reference = $module;\n            }\n            $context = $reference.parent();\n            module.verbose('Determined parent element for creating context', $context);\n          }\n          else if(settings.context) {\n            $context = $(settings.context);\n            module.verbose('Using selector for tab context', settings.context, $context);\n          }\n          else {\n            $context = $('body');\n          }\n          // find tabs\n          if(settings.childrenOnly) {\n            $tabs = $context.children(selector.tabs);\n            module.debug('Searching tab context children for tabs', $context, $tabs);\n          }\n          else {\n            $tabs = $context.find(selector.tabs);\n            module.debug('Searching tab context for tabs', $context, $tabs);\n          }\n        },\n\n        fix: {\n          callbacks: function() {\n            if( $.isPlainObject(parameters) && (parameters.onTabLoad || parameters.onTabInit) ) {\n              if(parameters.onTabLoad) {\n                parameters.onLoad = parameters.onTabLoad;\n                delete parameters.onTabLoad;\n                module.error(error.legacyLoad, parameters.onLoad);\n              }\n              if(parameters.onTabInit) {\n                parameters.onFirstLoad = parameters.onTabInit;\n                delete parameters.onTabInit;\n                module.error(error.legacyInit, parameters.onFirstLoad);\n              }\n              settings = $.extend(true, {}, $.fn.tab.settings, parameters);\n            }\n          }\n        },\n\n        initializeHistory: function() {\n          module.debug('Initializing page state');\n          if( $.address === undefined ) {\n            module.error(error.state);\n            return false;\n          }\n          else {\n            if(settings.historyType == 'state') {\n              module.debug('Using HTML5 to manage state');\n              if(settings.path !== false) {\n                $.address\n                  .history(true)\n                  .state(settings.path)\n                ;\n              }\n              else {\n                module.error(error.path);\n                return false;\n              }\n            }\n            $.address\n              .bind('change', module.event.history.change)\n            ;\n          }\n        },\n\n        event: {\n          click: function(event) {\n            var\n              tabPath = $(this).data(metadata.tab)\n            ;\n            if(tabPath !== undefined) {\n              if(settings.history) {\n                module.verbose('Updating page state', event);\n                $.address.value(tabPath);\n              }\n              else {\n                module.verbose('Changing tab', event);\n                module.changeTab(tabPath);\n              }\n              event.preventDefault();\n            }\n            else {\n              module.debug('No tab specified');\n            }\n          },\n          history: {\n            change: function(event) {\n              var\n                tabPath   = event.pathNames.join('/') || module.get.initialPath(),\n                pageTitle = settings.templates.determineTitle(tabPath) || false\n              ;\n              module.performance.display();\n              module.debug('History change event', tabPath, event);\n              historyEvent = event;\n              if(tabPath !== undefined) {\n                module.changeTab(tabPath);\n              }\n              if(pageTitle) {\n                $.address.title(pageTitle);\n              }\n            }\n          }\n        },\n\n        refresh: function() {\n          if(activeTabPath) {\n            module.debug('Refreshing tab', activeTabPath);\n            module.changeTab(activeTabPath);\n          }\n        },\n\n        cache: {\n\n          read: function(cacheKey) {\n            return (cacheKey !== undefined)\n              ? cache[cacheKey]\n              : false\n            ;\n          },\n          add: function(cacheKey, content) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Adding cached content for', cacheKey);\n            cache[cacheKey] = content;\n          },\n          remove: function(cacheKey) {\n            cacheKey = cacheKey || activeTabPath;\n            module.debug('Removing cached content for', cacheKey);\n            delete cache[cacheKey];\n          }\n        },\n\n        set: {\n          auto: function() {\n            var\n              url = (typeof settings.path == 'string')\n                ? settings.path.replace(/\\/$/, '') + '/{$tab}'\n                : '/{$tab}'\n            ;\n            module.verbose('Setting up automatic tab retrieval from server', url);\n            if($.isPlainObject(settings.apiSettings)) {\n              settings.apiSettings.url = url;\n            }\n            else {\n              settings.apiSettings = {\n                url: url\n              };\n            }\n          },\n          loading: function(tabPath) {\n            var\n              $tab      = module.get.tabElement(tabPath),\n              isLoading = $tab.hasClass(className.loading)\n            ;\n            if(!isLoading) {\n              module.verbose('Setting loading state for', $tab);\n              $tab\n                .addClass(className.loading)\n                .siblings($tabs)\n                  .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onRequest.call($tab[0], tabPath);\n              }\n            }\n          },\n          state: function(state) {\n            $.address.value(state);\n          }\n        },\n\n        changeTab: function(tabPath) {\n          var\n            pushStateAvailable = (window.history && window.history.pushState),\n            shouldIgnoreLoad   = (pushStateAvailable && settings.ignoreFirstLoad && firstLoad),\n            remoteContent      = (settings.auto || $.isPlainObject(settings.apiSettings) ),\n            // only add default path if not remote content\n            pathArray = (remoteContent && !shouldIgnoreLoad)\n              ? module.utilities.pathToArray(tabPath)\n              : module.get.defaultPathArray(tabPath)\n          ;\n          tabPath = module.utilities.arrayToPath(pathArray);\n          $.each(pathArray, function(index, tab) {\n            var\n              currentPathArray   = pathArray.slice(0, index + 1),\n              currentPath        = module.utilities.arrayToPath(currentPathArray),\n\n              isTab              = module.is.tab(currentPath),\n              isLastIndex        = (index + 1 == pathArray.length),\n\n              $tab               = module.get.tabElement(currentPath),\n              $anchor,\n              nextPathArray,\n              nextPath,\n              isLastTab\n            ;\n            module.verbose('Looking for tab', tab);\n            if(isTab) {\n              module.verbose('Tab was found', tab);\n              // scope up\n              activeTabPath  = currentPath;\n              parameterArray = module.utilities.filterArray(pathArray, currentPathArray);\n\n              if(isLastIndex) {\n                isLastTab = true;\n              }\n              else {\n                nextPathArray = pathArray.slice(0, index + 2);\n                nextPath      = module.utilities.arrayToPath(nextPathArray);\n                isLastTab     = ( !module.is.tab(nextPath) );\n                if(isLastTab) {\n                  module.verbose('Tab parameters found', nextPathArray);\n                }\n              }\n              if(isLastTab && remoteContent) {\n                if(!shouldIgnoreLoad) {\n                  module.activate.navigation(currentPath);\n                  module.fetch.content(currentPath, tabPath);\n                }\n                else {\n                  module.debug('Ignoring remote content on first tab load', currentPath);\n                  firstLoad = false;\n                  module.cache.add(tabPath, $tab.html());\n                  module.activate.all(currentPath);\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                return false;\n              }\n              else {\n                module.debug('Opened local tab', currentPath);\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n              }\n\n            }\n            else if(tabPath.search('/') == -1 && tabPath !== '') {\n              // look for in page anchor\n              $anchor     = $('#' + tabPath + ', a[name=\"' + tabPath + '\"]');\n              currentPath = $anchor.closest('[data-tab]').data(metadata.tab);\n              $tab        = module.get.tabElement(currentPath);\n              // if anchor exists use parent tab\n              if($anchor && $anchor.length > 0 && currentPath) {\n                module.debug('Anchor link used, opening parent tab', $tab, $anchor);\n                if( !$tab.hasClass(className.active) ) {\n                  setTimeout(function() {\n                    module.scrollTo($anchor);\n                  }, 0);\n                }\n                module.activate.all(currentPath);\n                if( !module.cache.read(currentPath) ) {\n                  module.cache.add(currentPath, true);\n                  module.debug('First time tab loaded calling tab init');\n                  settings.onFirstLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                }\n                settings.onLoad.call($tab[0], currentPath, parameterArray, historyEvent);\n                return false;\n              }\n            }\n            else {\n              module.error(error.missingTab, $module, $context, currentPath);\n              return false;\n            }\n          });\n        },\n\n        scrollTo: function($element) {\n          var\n            scrollOffset = ($element && $element.length > 0)\n              ? $element.offset().top\n              : false\n          ;\n          if(scrollOffset !== false) {\n            module.debug('Forcing scroll to an in-page link in a hidden tab', scrollOffset, $element);\n            $(document).scrollTop(scrollOffset);\n          }\n        },\n\n        update: {\n          content: function(tabPath, html, evaluateScripts) {\n            var\n              $tab = module.get.tabElement(tabPath),\n              tab  = $tab[0]\n            ;\n            evaluateScripts = (evaluateScripts !== undefined)\n              ? evaluateScripts\n              : settings.evaluateScripts\n            ;\n            if(evaluateScripts) {\n              module.debug('Updating HTML and evaluating inline scripts', tabPath, html);\n              $tab.html(html);\n            }\n            else {\n              module.debug('Updating HTML', tabPath, html);\n              tab.innerHTML = html;\n            }\n          }\n        },\n\n        fetch: {\n\n          content: function(tabPath, fullTabPath) {\n            var\n              $tab        = module.get.tabElement(tabPath),\n              apiSettings = {\n                dataType         : 'html',\n                encodeParameters : false,\n                on               : 'now',\n                cache            : settings.alwaysRefresh,\n                headers          : {\n                  'X-Remote': true\n                },\n                onSuccess : function(response) {\n                  if(settings.cacheType == 'response') {\n                    module.cache.add(fullTabPath, response);\n                  }\n                  module.update.content(tabPath, response);\n                  if(tabPath == activeTabPath) {\n                    module.debug('Content loaded', tabPath);\n                    module.activate.tab(tabPath);\n                  }\n                  else {\n                    module.debug('Content loaded in background', tabPath);\n                  }\n                  settings.onFirstLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                  settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n                  if(settings.cacheType != 'response') {\n                    module.cache.add(fullTabPath, $tab.html());\n                  }\n                },\n                urlData: {\n                  tab: fullTabPath\n                }\n              },\n              request         = $tab.api('get request') || false,\n              existingRequest = ( request && request.state() === 'pending' ),\n              requestSettings,\n              cachedContent\n            ;\n\n            fullTabPath   = fullTabPath || tabPath;\n            cachedContent = module.cache.read(fullTabPath);\n\n\n            if(settings.cache && cachedContent) {\n              module.activate.tab(tabPath);\n              module.debug('Adding cached content', fullTabPath);\n              if(settings.evaluateScripts == 'once') {\n                module.update.content(tabPath, cachedContent, false);\n              }\n              else {\n                module.update.content(tabPath, cachedContent);\n              }\n              settings.onLoad.call($tab[0], tabPath, parameterArray, historyEvent);\n            }\n            else if(existingRequest) {\n              module.set.loading(tabPath);\n              module.debug('Content is already loading', fullTabPath);\n            }\n            else if($.api !== undefined) {\n              requestSettings = $.extend(true, {}, settings.apiSettings, apiSettings);\n              module.debug('Retrieving remote content', fullTabPath, requestSettings);\n              module.set.loading(tabPath);\n              $tab.api(requestSettings);\n            }\n            else {\n              module.error(error.api);\n            }\n          }\n        },\n\n        activate: {\n          all: function(tabPath) {\n            module.activate.tab(tabPath);\n            module.activate.navigation(tabPath);\n          },\n          tab: function(tabPath) {\n            var\n              $tab          = module.get.tabElement(tabPath),\n              $deactiveTabs = (settings.deactivate == 'siblings')\n                ? $tab.siblings($tabs)\n                : $tabs.not($tab),\n              isActive      = $tab.hasClass(className.active)\n            ;\n            module.verbose('Showing tab content for', $tab);\n            if(!isActive) {\n              $tab\n                .addClass(className.active)\n              ;\n              $deactiveTabs\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n              if($tab.length > 0) {\n                settings.onVisible.call($tab[0], tabPath);\n              }\n            }\n          },\n          navigation: function(tabPath) {\n            var\n              $navigation         = module.get.navElement(tabPath),\n              $deactiveNavigation = (settings.deactivate == 'siblings')\n                ? $navigation.siblings($allModules)\n                : $allModules.not($navigation),\n              isActive    = $navigation.hasClass(className.active)\n            ;\n            module.verbose('Activating tab navigation for', $navigation, tabPath);\n            if(!isActive) {\n              $navigation\n                .addClass(className.active)\n              ;\n              $deactiveNavigation\n                .removeClass(className.active + ' ' + className.loading)\n              ;\n            }\n          }\n        },\n\n        deactivate: {\n          all: function() {\n            module.deactivate.navigation();\n            module.deactivate.tabs();\n          },\n          navigation: function() {\n            $allModules\n              .removeClass(className.active)\n            ;\n          },\n          tabs: function() {\n            $tabs\n              .removeClass(className.active + ' ' + className.loading)\n            ;\n          }\n        },\n\n        is: {\n          tab: function(tabName) {\n            return (tabName !== undefined)\n              ? ( module.get.tabElement(tabName).length > 0 )\n              : false\n            ;\n          }\n        },\n\n        get: {\n          initialPath: function() {\n            return $allModules.eq(0).data(metadata.tab) || $tabs.eq(0).data(metadata.tab);\n          },\n          path: function() {\n            return $.address.value();\n          },\n          // adds default tabs to tab path\n          defaultPathArray: function(tabPath) {\n            return module.utilities.pathToArray( module.get.defaultPath(tabPath) );\n          },\n          defaultPath: function(tabPath) {\n            var\n              $defaultNav = $allModules.filter('[data-' + metadata.tab + '^=\"' + tabPath + '/\"]').eq(0),\n              defaultTab  = $defaultNav.data(metadata.tab) || false\n            ;\n            if( defaultTab ) {\n              module.debug('Found default tab', defaultTab);\n              if(recursionDepth < settings.maxDepth) {\n                recursionDepth++;\n                return module.get.defaultPath(defaultTab);\n              }\n              module.error(error.recursion);\n            }\n            else {\n              module.debug('No default tabs found for', tabPath, $tabs);\n            }\n            recursionDepth = 0;\n            return tabPath;\n          },\n          navElement: function(tabPath) {\n            tabPath = tabPath || activeTabPath;\n            return $allModules.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n          },\n          tabElement: function(tabPath) {\n            var\n              $fullPathTab,\n              $simplePathTab,\n              tabPathArray,\n              lastTab\n            ;\n            tabPath        = tabPath || activeTabPath;\n            tabPathArray   = module.utilities.pathToArray(tabPath);\n            lastTab        = module.utilities.last(tabPathArray);\n            $fullPathTab   = $tabs.filter('[data-' + metadata.tab + '=\"' + tabPath + '\"]');\n            $simplePathTab = $tabs.filter('[data-' + metadata.tab + '=\"' + lastTab + '\"]');\n            return ($fullPathTab.length > 0)\n              ? $fullPathTab\n              : $simplePathTab\n            ;\n          },\n          tab: function() {\n            return activeTabPath;\n          }\n        },\n\n        utilities: {\n          filterArray: function(keepArray, removeArray) {\n            return $.grep(keepArray, function(keepValue) {\n              return ( $.inArray(keepValue, removeArray) == -1);\n            });\n          },\n          last: function(array) {\n            return $.isArray(array)\n              ? array[ array.length - 1]\n              : false\n            ;\n          },\n          pathToArray: function(pathName) {\n            if(pathName === undefined) {\n              pathName = activeTabPath;\n            }\n            return typeof pathName == 'string'\n              ? pathName.split('/')\n              : [pathName]\n            ;\n          },\n          arrayToPath: function(pathArray) {\n            return $.isArray(pathArray)\n              ? pathArray.join('/')\n              : false\n            ;\n          }\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n\n};\n\n// shortcut for tabbed content with no defined navigation\n$.tab = function() {\n  $(window).tab.apply(this, arguments);\n};\n\n$.fn.tab.settings = {\n\n  name            : 'Tab',\n  namespace       : 'tab',\n\n  silent          : false,\n  debug           : false,\n  verbose         : false,\n  performance     : true,\n\n  auto            : false,      // uses pjax style endpoints fetching content from same url with remote-content headers\n  history         : false,      // use browser history\n  historyType     : 'hash',     // #/ or html5 state\n  path            : false,      // base path of url\n\n  context         : false,      // specify a context that tabs must appear inside\n  childrenOnly    : false,      // use only tabs that are children of context\n  maxDepth        : 25,         // max depth a tab can be nested\n\n  deactivate      : 'siblings', // whether tabs should deactivate sibling menu elements or all elements initialized together\n\n  alwaysRefresh   : false,      // load tab content new every tab click\n  cache           : true,       // cache the content requests to pull locally\n  cacheType       : 'response', // Whether to cache exact response, or to html cache contents after scripts execute\n  ignoreFirstLoad : false,      // don't load remote content on first load\n\n  apiSettings     : false,      // settings for api call\n  evaluateScripts : 'once',     // whether inline scripts should be parsed (true/false/once). Once will not re-evaluate on cached content\n\n  onFirstLoad : function(tabPath, parameterArray, historyEvent) {}, // called first time loaded\n  onLoad      : function(tabPath, parameterArray, historyEvent) {}, // called on every load\n  onVisible   : function(tabPath, parameterArray, historyEvent) {}, // called every time tab visible\n  onRequest   : function(tabPath, parameterArray, historyEvent) {}, // called ever time a tab beings loading remote content\n\n  templates : {\n    determineTitle: function(tabArray) {} // returns page title for path\n  },\n\n  error: {\n    api        : 'You attempted to load content without API module',\n    method     : 'The method you called is not defined',\n    missingTab : 'Activated tab cannot be found. Tabs are case-sensitive.',\n    noContent  : 'The tab you specified is missing a content url.',\n    path       : 'History enabled, but no path was specified',\n    recursion  : 'Max recursive depth reached',\n    legacyInit : 'onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.',\n    legacyLoad : 'onTabLoad has been renamed to onLoad in 2.0. Please adjust your code',\n    state      : 'History requires Asual\\'s Address library <https://github.com/asual/jquery-address>'\n  },\n\n  metadata : {\n    tab    : 'tab',\n    loaded : 'loaded',\n    promise: 'promise'\n  },\n\n  className   : {\n    loading : 'loading',\n    active  : 'active'\n  },\n\n  selector    : {\n    tabs : '.ui.tab',\n    ui   : '.ui'\n  }\n\n};\n\n})( jQuery, window, document );\n","/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.2.1\n*/\n/*!\n * # Semantic UI - Transition\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.transition = function() {\n  var\n    $allModules     = $(this),\n    moduleSelector  = $allModules.selector || '',\n\n    time            = new Date().getTime(),\n    performance     = [],\n\n    moduleArguments = arguments,\n    query           = moduleArguments[0],\n    queryArguments  = [].slice.call(arguments, 1),\n    methodInvoked   = (typeof query === 'string'),\n\n    requestAnimationFrame = window.requestAnimationFrame\n      || window.mozRequestAnimationFrame\n      || window.webkitRequestAnimationFrame\n      || window.msRequestAnimationFrame\n      || function(callback) { setTimeout(callback, 0); },\n\n    returnedValue\n  ;\n  $allModules\n    .each(function(index) {\n      var\n        $module  = $(this),\n        element  = this,\n\n        // set at run time\n        settings,\n        instance,\n\n        error,\n        className,\n        metadata,\n        animationEnd,\n        animationName,\n\n        namespace,\n        moduleNamespace,\n        eventNamespace,\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n\n          // get full settings\n          settings        = module.get.settings.apply(element, moduleArguments);\n\n          // shorthand\n          className       = settings.className;\n          error           = settings.error;\n          metadata        = settings.metadata;\n\n          // define namespace\n          eventNamespace  = '.' + settings.namespace;\n          moduleNamespace = 'module-' + settings.namespace;\n          instance        = $module.data(moduleNamespace) || module;\n\n          // get vendor specific events\n          animationEnd    = module.get.animationEndEvent();\n\n          if(methodInvoked) {\n            methodInvoked = module.invoke(query);\n          }\n\n          // method not invoked, lets run an animation\n          if(methodInvoked === false) {\n            module.verbose('Converted arguments into settings object', settings);\n            if(settings.interval) {\n              module.delay(settings.animate);\n            }\n            else  {\n              module.animate();\n            }\n            module.instantiate();\n          }\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        refresh: function() {\n          module.verbose('Refreshing display type on next animation');\n          delete module.displayType;\n        },\n\n        forceRepaint: function() {\n          module.verbose('Forcing element repaint');\n          var\n            $parentElement = $module.parent(),\n            $nextElement = $module.next()\n          ;\n          if($nextElement.length === 0) {\n            $module.detach().appendTo($parentElement);\n          }\n          else {\n            $module.detach().insertBefore($nextElement);\n          }\n        },\n\n        repaint: function() {\n          module.verbose('Repainting element');\n          var\n            fakeAssignment = element.offsetWidth\n          ;\n        },\n\n        delay: function(interval) {\n          var\n            direction = module.get.animationDirection(),\n            shouldReverse,\n            delay\n          ;\n          if(!direction) {\n            direction = module.can.transition()\n              ? module.get.direction()\n              : 'static'\n            ;\n          }\n          interval = (interval !== undefined)\n            ? interval\n            : settings.interval\n          ;\n          shouldReverse = (settings.reverse == 'auto' && direction == className.outward);\n          delay = (shouldReverse || settings.reverse == true)\n            ? ($allModules.length - index) * settings.interval\n            : index * settings.interval\n          ;\n          module.debug('Delaying animation by', delay);\n          setTimeout(module.animate, delay);\n        },\n\n        animate: function(overrideSettings) {\n          settings = overrideSettings || settings;\n          if(!module.is.supported()) {\n            module.error(error.support);\n            return false;\n          }\n          module.debug('Preparing animation', settings.animation);\n          if(module.is.animating()) {\n            if(settings.queue) {\n              if(!settings.allowRepeats && module.has.direction() && module.is.occurring() && module.queuing !== true) {\n                module.debug('Animation is currently occurring, preventing queueing same animation', settings.animation);\n              }\n              else {\n                module.queue(settings.animation);\n              }\n              return false;\n            }\n            else if(!settings.allowRepeats && module.is.occurring()) {\n              module.debug('Animation is already occurring, will not execute repeated animation', settings.animation);\n              return false;\n            }\n            else {\n              module.debug('New animation started, completing previous early', settings.animation);\n              instance.complete();\n            }\n          }\n          if( module.can.animate() ) {\n            module.set.animating(settings.animation);\n          }\n          else {\n            module.error(error.noAnimation, settings.animation, element);\n          }\n        },\n\n        reset: function() {\n          module.debug('Resetting animation to beginning conditions');\n          module.remove.animationCallbacks();\n          module.restore.conditions();\n          module.remove.animating();\n        },\n\n        queue: function(animation) {\n          module.debug('Queueing animation of', animation);\n          module.queuing = true;\n          $module\n            .one(animationEnd + '.queue' + eventNamespace, function() {\n              module.queuing = false;\n              module.repaint();\n              module.animate.apply(this, settings);\n            })\n          ;\n        },\n\n        complete: function (event) {\n          module.debug('Animation complete', settings.animation);\n          module.remove.completeCallback();\n          module.remove.failSafe();\n          if(!module.is.looping()) {\n            if( module.is.outward() ) {\n              module.verbose('Animation is outward, hiding element');\n              module.restore.conditions();\n              module.hide();\n            }\n            else if( module.is.inward() ) {\n              module.verbose('Animation is outward, showing element');\n              module.restore.conditions();\n              module.show();\n            }\n            else {\n              module.verbose('Static animation completed');\n              module.restore.conditions();\n              settings.onComplete.call(element);\n            }\n          }\n        },\n\n        force: {\n          visible: function() {\n            var\n              style          = $module.attr('style'),\n              userStyle      = module.get.userStyle(),\n              displayType    = module.get.displayType(),\n              overrideStyle  = userStyle + 'display: ' + displayType + ' !important;',\n              currentDisplay = $module.css('display'),\n              emptyStyle     = (style === undefined || style === '')\n            ;\n            if(currentDisplay !== displayType) {\n              module.verbose('Overriding default display to show element', displayType);\n              $module\n                .attr('style', overrideStyle)\n              ;\n            }\n            else if(emptyStyle) {\n              $module.removeAttr('style');\n            }\n          },\n          hidden: function() {\n            var\n              style          = $module.attr('style'),\n              currentDisplay = $module.css('display'),\n              emptyStyle     = (style === undefined || style === '')\n            ;\n            if(currentDisplay !== 'none' && !module.is.hidden()) {\n              module.verbose('Overriding default display to hide element');\n              $module\n                .css('display', 'none')\n              ;\n            }\n            else if(emptyStyle) {\n              $module\n                .removeAttr('style')\n              ;\n            }\n          }\n        },\n\n        has: {\n          direction: function(animation) {\n            var\n              hasDirection = false\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              $.each(animation, function(index, word){\n                if(word === className.inward || word === className.outward) {\n                  hasDirection = true;\n                }\n              });\n            }\n            return hasDirection;\n          },\n          inlineDisplay: function() {\n            var\n              style = $module.attr('style') || ''\n            ;\n            return $.isArray(style.match(/display.*?;/, ''));\n          }\n        },\n\n        set: {\n          animating: function(animation) {\n            var\n              animationClass,\n              direction\n            ;\n            // remove previous callbacks\n            module.remove.completeCallback();\n\n            // determine exact animation\n            animation      = animation || settings.animation;\n            animationClass = module.get.animationClass(animation);\n\n            // save animation class in cache to restore class names\n            module.save.animation(animationClass);\n\n            // override display if necessary so animation appears visibly\n            module.force.visible();\n\n            module.remove.hidden();\n            module.remove.direction();\n\n            module.start.animation(animationClass);\n\n          },\n          duration: function(animationName, duration) {\n            duration = duration || settings.duration;\n            duration = (typeof duration == 'number')\n              ? duration + 'ms'\n              : duration\n            ;\n            if(duration || duration === 0) {\n              module.verbose('Setting animation duration', duration);\n              $module\n                .css({\n                  'animation-duration':  duration\n                })\n              ;\n            }\n          },\n          direction: function(direction) {\n            direction = direction || module.get.direction();\n            if(direction == className.inward) {\n              module.set.inward();\n            }\n            else {\n              module.set.outward();\n            }\n          },\n          looping: function() {\n            module.debug('Transition set to loop');\n            $module\n              .addClass(className.looping)\n            ;\n          },\n          hidden: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.hidden)\n            ;\n          },\n          inward: function() {\n            module.debug('Setting direction to inward');\n            $module\n              .removeClass(className.outward)\n              .addClass(className.inward)\n            ;\n          },\n          outward: function() {\n            module.debug('Setting direction to outward');\n            $module\n              .removeClass(className.inward)\n              .addClass(className.outward)\n            ;\n          },\n          visible: function() {\n            $module\n              .addClass(className.transition)\n              .addClass(className.visible)\n            ;\n          }\n        },\n\n        start: {\n          animation: function(animationClass) {\n            animationClass = animationClass || module.get.animationClass();\n            module.debug('Starting tween', animationClass);\n            $module\n              .addClass(animationClass)\n              .one(animationEnd + '.complete' + eventNamespace, module.complete)\n            ;\n            if(settings.useFailSafe) {\n              module.add.failSafe();\n            }\n            module.set.duration(settings.duration);\n            settings.onStart.call(element);\n          }\n        },\n\n        save: {\n          animation: function(animation) {\n            if(!module.cache) {\n              module.cache = {};\n            }\n            module.cache.animation = animation;\n          },\n          displayType: function(displayType) {\n            if(displayType !== 'none') {\n              $module.data(metadata.displayType, displayType);\n            }\n          },\n          transitionExists: function(animation, exists) {\n            $.fn.transition.exists[animation] = exists;\n            module.verbose('Saving existence of transition', animation, exists);\n          }\n        },\n\n        restore: {\n          conditions: function() {\n            var\n              animation = module.get.currentAnimation()\n            ;\n            if(animation) {\n              $module\n                .removeClass(animation)\n              ;\n              module.verbose('Removing animation class', module.cache);\n            }\n            module.remove.duration();\n          }\n        },\n\n        add: {\n          failSafe: function() {\n            var\n              duration = module.get.duration()\n            ;\n            module.timer = setTimeout(function() {\n              $module.triggerHandler(animationEnd);\n            }, duration + settings.failSafeDelay);\n            module.verbose('Adding fail safe timer', module.timer);\n          }\n        },\n\n        remove: {\n          animating: function() {\n            $module.removeClass(className.animating);\n          },\n          animationCallbacks: function() {\n            module.remove.queueCallback();\n            module.remove.completeCallback();\n          },\n          queueCallback: function() {\n            $module.off('.queue' + eventNamespace);\n          },\n          completeCallback: function() {\n            $module.off('.complete' + eventNamespace);\n          },\n          display: function() {\n            $module.css('display', '');\n          },\n          direction: function() {\n            $module\n              .removeClass(className.inward)\n              .removeClass(className.outward)\n            ;\n          },\n          duration: function() {\n            $module\n              .css('animation-duration', '')\n            ;\n          },\n          failSafe: function() {\n            module.verbose('Removing fail safe timer', module.timer);\n            if(module.timer) {\n              clearTimeout(module.timer);\n            }\n          },\n          hidden: function() {\n            $module.removeClass(className.hidden);\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          looping: function() {\n            module.debug('Transitions are no longer looping');\n            if( module.is.looping() ) {\n              module.reset();\n              $module\n                .removeClass(className.looping)\n              ;\n            }\n          },\n          transition: function() {\n            $module\n              .removeClass(className.visible)\n              .removeClass(className.hidden)\n            ;\n          }\n        },\n        get: {\n          settings: function(animation, duration, onComplete) {\n            // single settings object\n            if(typeof animation == 'object') {\n              return $.extend(true, {}, $.fn.transition.settings, animation);\n            }\n            // all arguments provided\n            else if(typeof onComplete == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : onComplete,\n                duration   : duration\n              });\n            }\n            // only duration provided\n            else if(typeof duration == 'string' || typeof duration == 'number') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation,\n                duration  : duration\n              });\n            }\n            // duration is actually settings object\n            else if(typeof duration == 'object') {\n              return $.extend({}, $.fn.transition.settings, duration, {\n                animation : animation\n              });\n            }\n            // duration is actually callback\n            else if(typeof duration == 'function') {\n              return $.extend({}, $.fn.transition.settings, {\n                animation  : animation,\n                onComplete : duration\n              });\n            }\n            // only animation provided\n            else {\n              return $.extend({}, $.fn.transition.settings, {\n                animation : animation\n              });\n            }\n            return $.fn.transition.settings;\n          },\n          animationClass: function(animation) {\n            var\n              animationClass = animation || settings.animation,\n              directionClass = (module.can.transition() && !module.has.direction())\n                ? module.get.direction() + ' '\n                : ''\n            ;\n            return className.animating + ' '\n              + className.transition + ' '\n              + directionClass\n              + animationClass\n            ;\n          },\n          currentAnimation: function() {\n            return (module.cache && module.cache.animation !== undefined)\n              ? module.cache.animation\n              : false\n            ;\n          },\n          currentDirection: function() {\n            return module.is.inward()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          direction: function() {\n            return module.is.hidden() || !module.is.visible()\n              ? className.inward\n              : className.outward\n            ;\n          },\n          animationDirection: function(animation) {\n            var\n              direction\n            ;\n            animation = animation || settings.animation;\n            if(typeof animation === 'string') {\n              animation = animation.split(' ');\n              // search animation name for out/in class\n              $.each(animation, function(index, word){\n                if(word === className.inward) {\n                  direction = className.inward;\n                }\n                else if(word === className.outward) {\n                  direction = className.outward;\n                }\n              });\n            }\n            // return found direction\n            if(direction) {\n              return direction;\n            }\n            return false;\n          },\n          duration: function(duration) {\n            duration = duration || settings.duration;\n            if(duration === false) {\n              duration = $module.css('animation-duration') || 0;\n            }\n            return (typeof duration === 'string')\n              ? (duration.indexOf('ms') > -1)\n                ? parseFloat(duration)\n                : parseFloat(duration) * 1000\n              : duration\n            ;\n          },\n          displayType: function() {\n            if(settings.displayType) {\n              return settings.displayType;\n            }\n            if($module.data(metadata.displayType) === undefined) {\n              // create fake element to determine display state\n              module.can.transition(true);\n            }\n            return $module.data(metadata.displayType);\n          },\n          userStyle: function(style) {\n            style = style || $module.attr('style') || '';\n            return style.replace(/display.*?;/, '');\n          },\n          transitionExists: function(animation) {\n            return $.fn.transition.exists[animation];\n          },\n          animationStartEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationstart',\n                'OAnimation'      :'oAnimationStart',\n                'MozAnimation'    :'mozAnimationStart',\n                'WebkitAnimation' :'webkitAnimationStart'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          },\n          animationEndEvent: function() {\n            var\n              element     = document.createElement('div'),\n              animations  = {\n                'animation'       :'animationend',\n                'OAnimation'      :'oAnimationEnd',\n                'MozAnimation'    :'mozAnimationEnd',\n                'WebkitAnimation' :'webkitAnimationEnd'\n              },\n              animation\n            ;\n            for(animation in animations){\n              if( element.style[animation] !== undefined ){\n                return animations[animation];\n              }\n            }\n            return false;\n          }\n\n        },\n\n        can: {\n          transition: function(forced) {\n            var\n              animation         = settings.animation,\n              transitionExists  = module.get.transitionExists(animation),\n              elementClass,\n              tagName,\n              $clone,\n              currentAnimation,\n              inAnimation,\n              directionExists,\n              displayType\n            ;\n            if( transitionExists === undefined || forced) {\n              module.verbose('Determining whether animation exists');\n              elementClass = $module.attr('class');\n              tagName      = $module.prop('tagName');\n\n              $clone = $('<' + tagName + ' />').addClass( elementClass ).insertAfter($module);\n              currentAnimation = $clone\n                .addClass(animation)\n                .removeClass(className.inward)\n                .removeClass(className.outward)\n                .addClass(className.animating)\n                .addClass(className.transition)\n                .css('animationName')\n              ;\n              inAnimation = $clone\n                .addClass(className.inward)\n                .css('animationName')\n              ;\n              displayType = $clone\n                .attr('class', elementClass)\n                .removeAttr('style')\n                .removeClass(className.hidden)\n                .removeClass(className.visible)\n                .show()\n                .css('display')\n              ;\n              module.verbose('Determining final display state', displayType);\n              module.save.displayType(displayType);\n\n              $clone.remove();\n              if(currentAnimation != inAnimation) {\n                module.debug('Direction exists for animation', animation);\n                directionExists = true;\n              }\n              else if(currentAnimation == 'none' || !currentAnimation) {\n                module.debug('No animation defined in css', animation);\n                return;\n              }\n              else {\n                module.debug('Static animation found', animation, displayType);\n                directionExists = false;\n              }\n              module.save.transitionExists(animation, directionExists);\n            }\n            return (transitionExists !== undefined)\n              ? transitionExists\n              : directionExists\n            ;\n          },\n          animate: function() {\n            // can transition does not return a value if animation does not exist\n            return (module.can.transition() !== undefined);\n          }\n        },\n\n        is: {\n          animating: function() {\n            return $module.hasClass(className.animating);\n          },\n          inward: function() {\n            return $module.hasClass(className.inward);\n          },\n          outward: function() {\n            return $module.hasClass(className.outward);\n          },\n          looping: function() {\n            return $module.hasClass(className.looping);\n          },\n          occurring: function(animation) {\n            animation = animation || settings.animation;\n            animation = '.' + animation.replace(' ', '.');\n            return ( $module.filter(animation).length > 0 );\n          },\n          visible: function() {\n            return $module.is(':visible');\n          },\n          hidden: function() {\n            return $module.css('visibility') === 'hidden';\n          },\n          supported: function() {\n            return(animationEnd !== false);\n          }\n        },\n\n        hide: function() {\n          module.verbose('Hiding element');\n          if( module.is.animating() ) {\n            module.reset();\n          }\n          element.blur(); // IE will trigger focus change if element is not blurred before hiding\n          module.remove.display();\n          module.remove.visible();\n          module.set.hidden();\n          module.force.hidden();\n          settings.onHide.call(element);\n          settings.onComplete.call(element);\n          // module.repaint();\n        },\n\n        show: function(display) {\n          module.verbose('Showing element', display);\n          module.remove.hidden();\n          module.set.visible();\n          module.force.visible();\n          settings.onShow.call(element);\n          settings.onComplete.call(element);\n          // module.repaint();\n        },\n\n        toggle: function() {\n          if( module.is.visible() ) {\n            module.hide();\n          }\n          else {\n            module.show();\n          }\n        },\n\n        stop: function() {\n          module.debug('Stopping current animation');\n          $module.triggerHandler(animationEnd);\n        },\n\n        stopAll: function() {\n          module.debug('Stopping all animation');\n          module.remove.queueCallback();\n          $module.triggerHandler(animationEnd);\n        },\n\n        clear: {\n          queue: function() {\n            module.debug('Clearing animation queue');\n            module.remove.queueCallback();\n          }\n        },\n\n        enable: function() {\n          module.verbose('Starting animation');\n          $module.removeClass(className.disabled);\n        },\n\n        disable: function() {\n          module.debug('Stopping animation');\n          $module.addClass(className.disabled);\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if($allModules.length > 1) {\n              title += ' ' + '(' + $allModules.length + ')';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        // modified for transition to return invoke success\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return (found !== undefined)\n            ? found\n            : false\n          ;\n        }\n      };\n      module.initialize();\n    })\n  ;\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n// Records if CSS transition is available\n$.fn.transition.exists = {};\n\n$.fn.transition.settings = {\n\n  // module info\n  name          : 'Transition',\n\n  // hide all output from this component regardless of other settings\n  silent        : false,\n\n  // debug content outputted to console\n  debug         : false,\n\n  // verbose debug output\n  verbose       : false,\n\n  // performance data output\n  performance   : true,\n\n  // event namespace\n  namespace     : 'transition',\n\n  // delay between animations in group\n  interval      : 0,\n\n  // whether group animations should be reversed\n  reverse       : 'auto',\n\n  // animation callback event\n  onStart       : function() {},\n  onComplete    : function() {},\n  onShow        : function() {},\n  onHide        : function() {},\n\n  // whether timeout should be used to ensure callback fires in cases animationend does not\n  useFailSafe   : true,\n\n  // delay in ms for fail safe\n  failSafeDelay : 100,\n\n  // whether EXACT animation can occur twice in a row\n  allowRepeats  : false,\n\n  // Override final display type on visible\n  displayType   : false,\n\n  // animation duration\n  animation     : 'fade',\n  duration      : false,\n\n  // new animations will occur after previous ones\n  queue         : true,\n\n  metadata : {\n    displayType: 'display'\n  },\n\n  className   : {\n    animating  : 'animating',\n    disabled   : 'disabled',\n    hidden     : 'hidden',\n    inward     : 'in',\n    loading    : 'loading',\n    looping    : 'looping',\n    outward    : 'out',\n    transition : 'transition',\n    visible    : 'visible'\n  },\n\n  // possible errors\n  error: {\n    noAnimation : 'Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.',\n    repeated    : 'That animation is already occurring, cancelling repeated animation',\n    method      : 'The method you called is not defined',\n    support     : 'This browser does not support CSS animations'\n  }\n\n};\n\n\n})( jQuery, window, document );\n","// @flow\n\nimport { sha3, bufferToHex } from 'ethereumjs-util'\n\nconst adjs = ['autumn', 'hidden', 'bitter', 'misty', 'silent', 'empty', 'dry',\n  'dark', 'summer', 'icy', 'delicate', 'quiet', 'white', 'cool', 'spring',\n  'winter', 'patient', 'twilight', 'dawn', 'crimson', 'wispy', 'weathered',\n  'blue', 'billowing', 'broken', 'cold', 'damp', 'falling', 'frosty', 'green',\n  'long', 'late', 'lingering', 'bold', 'little', 'morning', 'muddy', 'old',\n  'red', 'rough', 'still', 'small', 'sparkling', 'throbbing', 'shy',\n  'wandering', 'withered', 'wild', 'black', 'young', 'holy', 'solitary',\n  'fragrant', 'aged', 'snowy', 'proud', 'floral', 'restless', 'divine',\n  'polished', 'ancient', 'purple', 'lively', 'nameless']\n\nconst nouns = ['waterfall', 'river', 'breeze', 'moon', 'rain', 'wind', 'sea',\n  'morning', 'snow', 'lake', 'sunset', 'pine', 'shadow', 'leaf', 'dawn',\n  'glitter', 'forest', 'hill', 'cloud', 'meadow', 'sun', 'glade', 'bird',\n  'brook', 'butterfly', 'bush', 'dew', 'dust', 'field', 'fire', 'flower',\n  'firefly', 'feather', 'grass', 'haze', 'mountain', 'night', 'pond',\n  'darkness', 'snowflake', 'silence', 'sound', 'sky', 'shape', 'surf',\n  'thunder', 'violet', 'water', 'wildflower', 'wave', 'water', 'resonance',\n  'sun', 'wood', 'dream', 'cherry', 'tree', 'fog', 'frost', 'voice', 'paper',\n  'frog', 'smoke', 'star']\n\nconst upperCase = (str: string): string => str[0].toUpperCase() + str.slice(1)\n\nconst haiku = (hex: string): string => {\n  const n1 = parseInt(bufferToHex(sha3(hex)).slice(10, 15), 16)\n  const n2 = parseInt(bufferToHex(sha3(hex)).slice(20, 25), 16)\n\n  const adj = upperCase(adjs[n1 % (adjs.length-1)])\n  const noun = upperCase(nouns[n1 % (adjs.length-1)])\n\n  return `${adj} ${noun}`\n}\n\nexport default haiku\n","// @flow\n\nimport type { Entity } from '../entity'\nimport haiku from './haiku'\nimport identicon from '../helpers/identicon'\n\nexport default class Anon {\n  static lookupEthAddress(addr: string): Object {\n    return { ethereumAddress: addr }\n  }\n\n  static isCompany(address) {\n    return address && localStorage.getItem('companyAddress') && address.toLowerCase() === localStorage.getItem('companyAddress').toLowerCase()\n  }\n\n  static isCompanyFactory(address) {\n    return window.CompanyFactory.address === address\n  }\n\n  static isCompanyConfigurator(address) {\n    return window.CompanyConfiguratorFactory.address === address\n  }\n\n  static format(entity: Entity) {\n    let name = haiku(entity.ethereumAddress)\n    if (this.isCompany(entity.ethereumAddress)) {\n      name = 'Company'\n    } else if (this.isCompanyFactory(entity.ethereumAddress)) {\n      name = 'Company Factory'\n    } else if (this.isCompanyConfigurator(entity.ethereumAddress)) {\n      name = 'Company Configurator Factory'\n    }\n\n    return {\n      username: entity.ethereumAddress,\n      name,\n      picture: identicon(entity.ethereumAddress),\n    }\n  }\n}\n","import jdenticon from 'jdenticon'\nimport { sha3, bufferToHex } from 'ethereumjs-util'\n\nexport default (str: string): string => {\n  const svg = jdenticon.toSvg(bufferToHex(sha3(str)).slice(2), 128)\n  const blob = new Blob([svg], { type: 'image/svg+xml;charset=utf-8' })\n  return URL.createObjectURL(blob)\n}\n","// @flow\nimport type { Entity } from '../entity'\n\nimport link from './link'\nimport Proofs from './proofs'\n\nimport { KeybaseRegistry } from '/client/lib/ethereum/contracts'\nimport {Â keybaseSuffixes } from '/client/lib/ethereum/networks'\n\nconst keybaseBaseURL: string = 'https://keybase.io/_/api/1.0'\n\nconst proofFilename = (): string => `ethereum${keybaseSuffixes[localStorage.getItem('network')]}.json`\n\nexport default class Keybase {\n  // Returns {status, them}\n  static async lookup(username: string): Object {\n    if (!username) return null\n    const res = await fetch(`${keybaseBaseURL}/user/lookup.json?usernames=${username}`)\n    const json = await res.json()\n    const data = json.them[0]\n    // Ugly hack because Minimongo decided not to tolerate dots in its props\n    if (data.proofs_summary.by_presentation_group) {\n      for (const key of Object.keys(data.proofs_summary.by_presentation_group)) {\n        if (key.indexOf('.') !== -1) {\n          data.proofs_summary.by_presentation_group[key.replace('.', '/')] = data.proofs_summary.by_presentation_group[key]\n          delete data.proofs_summary.by_presentation_group[key]\n        }\n      }\n    }\n    return data\n  }\n\n  static async getVerifiedEthereumAddress(username: string): Promise<string> {\n    const res = await fetch(`cors://${username}.keybase.pub/${proofFilename()}`)\n    const proof = await res.json()\n    return Proofs.verifyProof(proof)\n  }\n\n  static async lookupEthAddress(addr: string): Promise<Object> {\n    const registry = await KeybaseRegistry.deployed()\n    if (!registry.address) return undefined\n    const username = await registry.getUsername(addr)\n    console.log('looked up username', username)\n    if (!username || username === '') return undefined\n    return await Keybase.lookup(username)\n  }\n\n  static format(entity: Entity) {\n    const data = entity.data\n    if (!data || data === {}) return null\n\n    const formatted = {\n      username: data.basics.username,\n      name: data.profile.full_name,\n      picture: data.pictures.primary.url,\n      location: data.profile.location,\n      bio: data.profile.bio,\n      pubkey: {\n        fingerprint: data.public_keys.primary.key_fingerprint.slice(24).toUpperCase(),\n        content: data.public_keys.primary.bundle,\n      },\n      cryptocurrencies: {},\n      social: {},\n    }\n    for (const cryptoName of Object.keys(data.cryptocurrency_addresses)) {\n      formatted.cryptocurrencies[cryptoName] =\n        data.cryptocurrency_addresses[cryptoName][0].address\n    }\n    for (const proofName of Object.keys(data.proofs_summary.by_presentation_group)) {\n      if (proofName.indexOf('.') !== -1) proofName.replace('/', '.')\n      formatted.social[proofName] =\n        data.proofs_summary.by_presentation_group[proofName][0].nametag\n    }\n    return formatted\n  }\n\n  static async link(addr: string): string {\n    if (!ipcRenderer) {\n      alert('You need to use our desktop app and the Keybase desktop app in order to link your identity.')\n      return ''\n    }\n    return link(addr, proofFilename())\n  }\n}\n","// @flow\n\nimport IntertronClient from 'intertron-client'\n\nimport { KeybaseRegistry } from '/client/lib/ethereum/contracts'\nimport { dispatcher } from '/client/lib/action-dispatcher'\n\nimport Proofs from './proofs'\n\nconst intertron = new IntertronClient()\n\nconst link = async (address: string, proofFilename: string): Promise<string> => {\n  const username = await intertron.call('Keybase.getUsername')\n  console.log('Your Keybase username is', username, address)\n\n  const proof = await Proofs.createProof(username, address)\n  const proofPayload = JSON.stringify(proof)\n\n  const chainRegistry = await KeybaseRegistry.deployed()\n  dispatcher.performTransaction(chainRegistry.register, username, address)\n\n  await intertron.call('Keybase.saveProof', proofPayload, proofFilename)\n\n  return username\n}\n\nexport default link\n","// @flow\nimport utils from 'ethereumjs-util'\nimport {Â personalSign, personalECRecover, toHex } from '/client/lib/ethereum/sign'\n\nclass KeybaseProofs {\n  static async createProof(username, address) {\n    const proofString = this.getProofString(username, address)\n    const signature = await personalSign(address, toHex(proofString))\n    const proof = { username, address, proofString, signature }\n    return proof\n  }\n\n  static verifyProof(proof) {\n    const proofString = this.getProofString(proof.username, proof.address)\n    if (proof.proofString !== proofString) { return null }\n\n    const signatureAddress = this.verifySignature(proof.signature, proof.proofString)\n\n    if (signatureAddress === proof.address) {\n      return signatureAddress\n    }\n\n    return null\n  }\n\n  static verifySignature(signature, message) {\n    return personalECRecover(toHex(message), signature)\n  }\n\n  static getProofString(username, address) {\n    return `I am ${username} on Keybase verifying my Ethereum address ${address.toLowerCase()} by signing this proof with its private key`\n  }\n}\n\nexport default KeybaseProofs\n","// @flow\n\nimport identicon from '../helpers/identicon'\n\nimport type { Entity } from '../entity'\nimport Tokens from '/client/lib/ethereum/tokens'\n\nexport default class Token {\n  static async lookupEthAddress(address: string): Object {\n    const tokenData = await Tokens.getTokenProperties(address)\n    console.log(tokenData)\n    if (!tokenData ||Â (!tokenData.name && !tokenData.symbol)) return undefined\n    return tokenData\n  }\n\n  static format(entity: Entity) {\n    return {\n      username: entity.data.symbol,\n      name: `Token: ${entity.data.name}`,\n      picture: identicon(entity.ethereumAddress),\n      totalSupply: entity.data.totalSupply,\n      symbol: entity.data.symbol,\n    }\n  }\n}\n","// @flow\nimport { Mongo } from 'meteor/mongo'\nimport { EthAccounts } from 'meteor/ethereum:accounts'\nimport { PersistentMinimongo } from 'meteor/frozeman:persistent-minimongo'\n\nimport type { Entity, FormattedEntity } from './entity'\nimport Keybase from './keybase'\nimport Tokens from './tokens'\nimport Anon from './anon'\n\nconst Entities = new Mongo.Collection('entities', { connection: null })\nnew PersistentMinimongo(Entities)\n\nwindow.Entities = Entities\n\nconst providers = {\n  keybase: Keybase,\n  tokens: Tokens,\n  anon: Anon,\n}\n\nconst lookupAddress = async (addr: string): Object => {\n  let identityProvider = null\n  let data = null\n  for (identityProvider of Object.keys(providers)) {\n    data = await providers[identityProvider].lookupEthAddress(addr)\n    if (data) break\n  }\n  return { identityProvider, data }\n}\n\nclass Identity {\n  Entities: Mongo.Collection\n\n  static async lookupAndFormat(addr: string): FormattedEntity {\n    return this.format(await this.getRaw(addr))\n  }\n\n  static format(entity: Entity, replaceMe: boolean = true): FormattedEntity {\n    const formatted = providers[entity.identityProvider].format(entity)\n    formatted.identityProvider = entity.identityProvider\n    formatted.ethereumAddress = entity.ethereumAddress\n    formatted.status = entity.status || 'None'\n\n    if (entity.ethereumAddress === Identity.current(true).ethereumAddress && replaceMe) {\n      formatted.name = 'Me'\n    }\n\n    return formatted\n  }\n\n  static async getRaw(addr: string) {\n    if (!addr) return {}\n\n    let entity = Entities.findOne({ ethereumAddress: addr })\n\n    if (!entity) {\n      const { identityProvider, data } = await lookupAddress(addr)\n      if (identityProvider && data) {\n        Identity.set(addr, identityProvider, data)\n        entity = Entities.findOne({ ethereumAddress: addr })\n      }\n    } else if (!entity.identityProvider) {\n      entity.identityProvider = 'anon'\n    }\n\n    return entity\n  }\n\n  static async get(addr: string) {\n    const entity = await Identity.getRaw(addr)\n    return Identity.format(entity)\n  }\n\n  static async getUsernameRaw(username: string, identityProvider: string):\n    Promise<Entity> {\n    // Usually we will want to store addr => username but not the other way around\n    // let entity = Entities.findOne(({'data.basics.username': username})\n    const ethereumAddress =\n      await providers[identityProvider].getVerifiedEthereumAddress(username)\n    const data = await providers[identityProvider].lookup(username)\n    Identity.set(ethereumAddress, identityProvider, data)\n\n    const entity: Entity = {\n      identityProvider,\n      ethereumAddress,\n      data,\n    }\n\n    return entity\n  }\n\n  static async getUsername(username: string, identityProvider: string):\n    Promise<FormattedEntity> {\n    const entity = await Identity.getUsernameRaw(username, identityProvider)\n    return Identity.format(entity)\n  }\n\n  static set(addr: string, identityProvider: string, entityObj: Object) {\n    console.log(`Identity: Setting ${addr}`)\n    const entity: Entity = {\n      ethereumAddress: addr,\n      identityProvider,\n      data: entityObj,\n      status: 0,\n    }\n    Entities.upsert({ ethereumAddress: addr }, { $set: { ...entity } })\n  }\n\n  static setCurrent(entity: Entity) {\n    Entities.update({ current: true }, { $unset: { current: '' } })\n    delete entity._id\n    console.log(`Identity: Setting ${entity.ethereumAddress} as current`)\n    Entities.update({ ethereumAddress: entity.ethereumAddress },\n      { $set: { current: true, ...entity } })\n  }\n\n  static setCurrentEthereumAccount(addr: string) {\n    const current = Identity.current(true)\n    console.log(`Identity: Setting ${addr} as current Ethereum account`)\n    Entities.update({ current: true }, { $unset: { current: '' } })\n    if (current) {\n      delete current.ethereumAddress\n      delete current._id\n    }\n    Entities.upsert({ ethereumAddress: addr }, { $set: { ...current } })\n  }\n\n  static current(raw: boolean = false, replaceMe: boolean = true) {\n    let entity = Entities.findOne({ current: true })\n    if (!entity) return {}\n\n    if (!raw) entity = Identity.format(entity, replaceMe)\n    return entity || {}\n  }\n\n  static async linkCurrent(identityProvider: string): Promise<boolean> {\n    const current = Identity.current()\n\n    const username = await providers[identityProvider].link(current.ethereumAddress)\n    if (!username) return false\n\n    const entity = await Identity.getUsernameRaw(username, identityProvider)\n    Identity.setCurrent(entity)\n\n    return true\n  }\n\n  static async reset(): Promise<boolean> {\n    if (EthAccounts.findOne()) {\n      const current = await Identity.getRaw(EthAccounts.findOne().address, true)\n      Identity.setCurrent(current)\n      return true\n    }\n    return false\n  }\n}\n\nIdentity.Entities = Entities\n\nexport default Identity\nexport { Entities }\n","// @flow\n\nclass Status {\n  list: Array<string>\n\n  constructor() {\n    this.list = [\n      'none',\n      'employee',\n      'executive',\n      'superuser',\n    ]\n  }\n  toString(status: number) {\n    return this.list[status]\n  }\n  toNumber(status: string) {\n    return this.list.indexOf(status)\n  }\n}\n\nexport default new Status()\n","// @flow\nimport { moment } from 'meteor/momentjs:moment'\n\nimport { Company } from '/client/lib/ethereum/deployed'\nimport { StockSale, Stock } from '/client/lib/ethereum/contracts'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport StockSalesWatcher from '/client/lib/ethereum/stocksales'\nimport Status from '/client/lib/identity/status'\nimport helpers from '/client/helpers'\n\nconst timeRange = helpers.timeRange\nconst Stocks = StockWatcher.Stocks\nconst StockSales = StockSalesWatcher.StockSales\n\nclass Action {\n  signature: string\n  name: string\n  description: string\n  companyFunction: Function\n  votingDescription: (params: Array<string>) => (string)\n  isBylaw: bool\n\n  constructor(signature: string, name: string, description: string = 'Action description goes here',\n              votingDescription: (params: Array<string>) => (string) = args => `Args: ${args.join(' ')}`, isBylaw: bool = true) {\n    this.signature = signature\n    this.name = name\n    this.description = description\n    this.votingDescription = votingDescription\n    this.isBylaw = isBylaw\n  }\n\n  get companyFunction() {\n    return Company()[this.signature.split('(')[0]]\n  }\n\n  async votingDescriptionFor(args: Array<{type: string, value: string}>): Promise<string> {\n    return await this.votingDescription(args.map(a => a.value))\n  }\n}\n\nconst issueStockDescription = ([stockIndex, amount]): string => {\n  const stock = Stocks.findOne({ index: +stockIndex })\n  return `Issue ${amount} ${stock.symbol} shares`\n}\n\nconst grantVestedStockDescription = ([stockIndex, amount, to, start, cliff, vesting]): string => {\n  const stock = Stocks.findOne({ index: +stockIndex })\n  const now = moment()\n  return `Grant ${amount} ${stock.symbol} shares to ${to} starting ${timeRange(now, +start * 1000)} with ${timeRange(now, +cliff * 1000)} cliff and ${timeRange(now, +vesting * 1000)} vesting`\n}\n\nconst accountingSettingsDescription = ([budget, periodDuration, dividendThreshold]): string => (\n  `Set accounting settings to:\\n\\n - Budget: ${web3.fromWei(budget, 'ether')} ETH. \\n - Period duration: ${timeRange(0, +periodDuration * 1000)}\\ - Dividend threshold: ${web3.fromWei(dividendThreshold, 'ether')} ETH`\n)\n\nconst stockSaleDescription = async ([saleAddress]): Promise<string> => {\n  const sale = StockSale.at(saleAddress)\n\n  const raiseTarget = sale.raiseTarget.call().then(x => x.toNumber())\n  const stock = sale.stockId.call().then(x => x.toNumber())\n  const buyingPrice = sale.getBuyingPrice.call(0).then(x => x.toNumber())\n\n  return `Create a stock sale to raise ${web3.fromWei(await raiseTarget, 'ether')} ETH at ${web3.fromWei(await buyingPrice, 'ether')} ETH per ${Stocks.findOne({ index: +(await stock) }).symbol} share`\n}\n\nconst addStockDescription = async ([address, tokens]): Promise<string> => {\n  const stockSymbol = Stock.at(address).symbol.call()\n  return `Add new stock type (${await stockSymbol}) to company and issue ${tokens} shares.`\n}\n\nconst grantIssuedStockDescription = ([stockIndex, amount, to]) => {\n  const stock = Stocks.findOne({ index: +stockIndex })\n  return `Grant ${amount} ${stock.symbol} shares of issued stock to ${to}`\n}\n\nconst transferSaleFundsDescription = ([saleIndex]) => {\n  const stockSale = StockSales.findOne({ index: +saleIndex })\n  return `Transfer funds from ${stockSale.title} stock sale`\n}\n\nconst createRecurringRewardDescription = ([to, amount, period, concept]) => (\n  `Create recurring reward of ${web3.fromWei(amount, 'ether')} ETH to ${to} for '${concept}' every ${timeRange(0, period)}`\n)\n\nconst removeRecurringRewardDescription = ([rewardId]) => (\n  `Remove recurring reward ${rewardId}` // TODO: Reward info\n)\n\nconst issueRewardDescription = ([to, amount, concept]) => (\n  `Issue reward of ${web3.fromWei(amount, 'ether')} ETH to ${to} for '${concept}'`\n)\n\nconst getActionForSignature = (signature): Object => (\n  Object.values(ActionFactory).filter(x => x.signature === signature)[0]\n)\n\nconst setEntityStatusDescription = ([entity, status]) => (\n  `Set ${entity} status to ${Status.toString(+status)}`\n)\n\nconst setStatusBylawDescription = ([signature, statusNeeded, isSpecialStatus]) => {\n  if (isSpecialStatus === false ||Â isSpecialStatus === 'false') {\n    return `For ${getActionForSignature(signature).name} a minimum status of '${Status.toString(statusNeeded)}' will be needed`\n  } else {\n    if (+statusNeeded === 0) return `${getActionForSignature(signature).name} action can only be performed by shareholders`\n    return 'negative v'\n  }\n}\n\nconst setAddressBylawDescription = ([signature, address, isOracle]) => {\n  if (isOracle === false ||Â isOracle === 'false') {\n    return `Only ${address} will be able to perform '${getActionForSignature(signature).name}'`\n  }\n\n  return `To perform '${getActionForSignature(signature).name}', the oracle at address ${address} will be consulted`\n}\n\nconst setVotingBylawDescription = ([signature, supportNeeded, supportBase,\n                                    relativeMajorityOnClose, minimumVotingTime, option]) => {\n  if (+option !== 0) return 'negative v'\n  return `For ${getActionForSignature(signature).name} a voting with ${100 * supportNeeded / supportBase}% support in a ${minimumVotingTime / (24*3600)} day will be needed`\n}\n\nconst ActionFactory = {\n  beginPoll: new Action('beginPoll(address,uint64,bool,bool)', 'Begin voting',\n                        'How votings and polls can be created', () => 'voting to create voting lol'),\n  setEntityStatus: new Action('setEntityStatus(address,uint8)', 'Set entity status',\n                        'Setting company status for a given entity', setEntityStatusDescription),\n  addStock: new Action('addStock(address,uint256)', 'Add new stock',\n                        'How a new type of stock can be assigned', addStockDescription),\n  issueStock: new Action('issueStock(uint8,uint256)', 'Issue stock',\n                        'How new stock can be issued', issueStockDescription),\n  grantStock: new Action('grantStock(uint8,uint256,address)', 'Grant issued stock',\n                        'How existing stock can be granted', grantIssuedStockDescription),\n  grantVestedStock: new Action('grantVestedStock(uint8,uint256,address,uint64,uint64,uint64)', 'Grant stock issued with vesting',\n                        'How existing stock can be granted with a vesting schedule', grantVestedStockDescription),\n  beginSale: new Action('beginSale(address)', 'Begin stock sale',\n                        'How stock sales can be started', stockSaleDescription),\n  transferSaleFunds: new Action('transferSaleFunds(uint256)', 'Transfer stock sale funds to company',\n                        'How the transfer of funds from the stock sale contract to the company can be executed', transferSaleFundsDescription),\n  setAccountingSettings: new Action('setAccountingSettings(uint256,uint64,uint256)', 'Set accounting settings',\n                        'How accounting settings can be modified', accountingSettingsDescription),\n  createRecurringReward: new Action('createRecurringReward(address,uint256,uint64,string)', 'Create recurring reward',\n                        'How recurring payments can be created', createRecurringRewardDescription),\n  removeRecurringReward: new Action('removeRecurringReward(uint)', 'Remove recurring reward',\n                        'How recurring payments can be removed', removeRecurringRewardDescription),\n  issueReward: new Action('issueReward(address,uint256,string)', 'Issue reward',\n                        'How new payments can be created', issueRewardDescription),\n  setStatusBylaw: new Action('setStatusBylaw(string,uint8,bool)', 'Set status bylaw',\n                        'How new bylaws actionable by user status can be created', setStatusBylawDescription),\n  setVotingBylaw: new Action('setVotingBylaw(string,uint256,uint256,bool,uint64,uint8)', 'Set voting bylaw',\n                        'How new bylaws actionable by a voting can be set', setVotingBylawDescription),\n  setAddressBylaw: new Action('setAddressBylaw(string,address,bool)', 'Set address bylaw',\n                        'How new bylaws actionable by addresses can be set', setAddressBylawDescription),\n\n  // non-bylaw actions\n  castVote: new Action('castVote(uint256,uint8,bool)', 'Cast vote',\n                        'Sending vote', () => 'voting to vote lol', false),\n  modifyVote: new Action('modifyVote(uint256,uint8,bool,bool)', 'Modify vote',\n                        'Modifying vote', () => 'voting to vote lol', false),\n  executeVote: new Action('executeOnAction(uint8,address)', 'Execute vote',\n                        'Executing the result of the vote', () => 'voting to vote lol', false),\n  transferTokens: new Action('transfer(address,uint256)', 'Transfer tokens',\n                              'How tokens can be transfered', () => '', false),\n  approveTokens: new Action('approve(address,uint256)', 'Approving token transfer',\n                              'This is action starts the wrap of tokens', () => '', false),\n  wrapTokens: new Action('wrap(uint256)', 'Wrapping tokens',\n                              'This is action finishes the wrap of tokens', () => '', false),\n  unwrapTokens: new Action('unwrap(uint256)', 'Unwrapping tokens',\n                              'This will transfer tokens to your address', () => '', false),\n  setTxid: new Action('setTxid(string)', 'Setting transaction hash',\n                              '(temporary, only for code verification purposes)', () => '', false),\n  deployCompany: new Action('deployCompany()', 'Deploying company',\n                              'Waiting for block confirmation', () => '', false),\n  configureCompany: new Action('configureCompany(address,address)', 'Company bootstrap',\n                                'Finishing company configuration', () => '', false),\n  keybaseRegistry: new Action('register(string,address)', 'Registering identity',\n                                'Mapping your address to your Keybase username', () => '', false),\n  faucet: new Action('faucet()', 'Funding your account',\n                                'Sending some testnet to your address to use it', () => '', false)\n}\n\nexport default ActionFactory\n","// @flow\nimport BylawsWatcher from '/client/lib/ethereum/bylaws'\n\nconst Bylaws = BylawsWatcher.Bylaws\n\nconst bylawForAction = (action: Object) => {\n  BylawsWatcher.updateBylaw(action.signature)\n  return Bylaws.findOne({ signature: action.signature })\n}\n\nexport { bylawForAction }\n","import { sha3, bufferToHex } from 'ethereumjs-util'\nimport abi from 'ethereumjs-abi'\n\nimport { verifyBytecode } from '/client/lib/ethereum/verify'\nimport { allContracts } from '/client/lib/ethereum/contracts'\n\nimport actions from './actions'\n\nconst checkContractDeployAction = data => {\n  const contract = verifyBytecode(data, allContracts)\n  if (!contract) return null\n\n  let description = `Deploying contract`\n  let name = contract._json.contract_name\n\n  if (name === 'GenericBinaryVoting') {\n    name = 'Creating new voting'\n    description = 'Voting power will be notified'\n  }\n\n  return { name, description }\n}\n\nconst actionFromData = data => {\n  const functionSig = data.slice(0, 10)\n\n  for (const action of Object.values(actions)) {\n    if (bufferToHex(sha3(action.signature)).indexOf(functionSig) === 0) {\n      return action\n    }\n  }\n\n  const contractAction = checkContractDeployAction(data)\n  if (contractAction) return contractAction\n\n  console.warn('not found for function sig', functionSig)\n  return null\n}\n\nconst isHexType = type => (\n  _.contains(['address', 'bytes'], type) || type.match(/bytes\\d+/g)\n)\n\nconst padLeft = (string, chars) => (\n  (new Array((chars - string.length) + 1).join('0')) + string\n)\n\n// From: https://github.com/ethereum/mist/blob/master/modules/abi.js\nconst decode = _data => {\n  const action = actionFromData(_data)\n  const data = _data.slice(10, _data.length)\n  const signature = action.signature.match(/\\((.+)\\)/i)\n\n  if (!signature) return\n\n  const paramTypes = signature[1].split(',')\n\n  try {\n    const paramsResponse = abi.rawDecode(paramTypes, new Buffer(data, 'hex'))\n\n    // Turns addresses into proper hex string\n    // Turns numbers into their decimal string version\n    return paramTypes.map((type, index) => {\n      const conversionFlag = isHexType(type) ? 16 : null\n      const prefix = isHexType(type) ? '0x' : ''\n\n      let response = paramsResponse[index].toString(conversionFlag)\n\n      const res = type.match(/bytes(\\d+)/i)\n\n      if (type === 'address') {\n          response = padLeft(response, 40)\n      } else if (res) {\n          response = padLeft(response, Number(res[1]) * 2)\n      }\n\n      return { type, value: prefix + response }\n    })\n\n  } catch (e) {\n     console.warn('ABI.js Warning:', e.message)\n  }\n\n  return null\n}\n\nexport { actionFromData, decode }\n","// @flow\nimport { GenericBinaryVoting } from '/client/lib/ethereum/contracts'\nimport { Company } from '/client/lib/ethereum/deployed'\nimport {Â personalSign, toHex } from '/client/lib/ethereum/sign'\nimport utils from 'ethereumjs-util'\n\n// import Identity from '/client/lib/identity'\n\nimport Queue from '/client/lib/queue'\n\nimport { bylawForAction } from './bylaws'\nimport actions from './actions'\n\nconst gasEstimate = p => {\n  return new Promise((resolve, reject) => {\n    web3.eth.estimateGas(p, (err, gas) => resolve(err ? -1 : gas))\n  })\n}\n\nconst sendTransaction = p => {\n  return new Promise((resolve, reject) => {\n    web3.eth.sendTransaction(p, (err, txid) => {\n      if (err) return reject(err)\n      resolve(txid)\n    })\n  })\n}\n\nconst promisedDeploy = (c, p) => {\n  let counter = 0 // Counter needed because contract deploy returns twice, one with txhash and later w txhash & address\n  return new Promise((resolve, reject) => {\n    c.new.apply(c, p.concat([(err, x) => {\n      if (counter > 0) return 0\n      if (err) return reject(err)\n      counter += 1\n      resolve(x.transactionHash)\n    }]))\n  })\n}\n\nconst toggleMetaMask = (show: boolean = true) => {\n  const metaMask = $('#Layout_MetaMask')\n  const toggleClass = (show) ? 'hidden' : 'visible'\n  if (metaMask.hasClass(toggleClass)) {\n    metaMask.transition('fade down')\n  }\n}\n\nclass Dispatcher {\n  get transactionParams() {\n    return { from: Entities.findOne({ current: true }).ethereumAddress } // dependency cycle :(\n  }\n\n  async dispatch(action, ...params) {\n    const bylaw = bylawForAction(action)\n    if (bylaw && bylaw.type === 0 && bylaw.details.supportBase !== 0) {\n      return await this.createVoting(action.companyFunction, params,\n                                      action.signature, bylaw.details.minimumVotingTime)\n    }\n\n    return await this.performTransaction.apply(this, [action.companyFunction].concat(params))\n  }\n\n  async performTransaction(f, ...args) {\n    const [params] = f.request.apply(this, args.concat([this.transactionParams])).params\n\n    console.log('sending tx', params)\n    let txID = ''\n    try {\n      txID = await sendTransaction(params)\n    } catch (e) {\n      return alert('Transaction failed. If you believe this to be an error, open an issue', e)\n    }\n\n    await this.addPendingTransaction(txID)\n\n    if (!this.dontHideMetamask) toggleMetaMask(false)\n\n    return txID\n  }\n\n  async signPayload(payload: string) {\n    const signature = await personalSign(this.transactionParams.from, payload)\n    const r = signature.slice(0, 66)\n    const s = `0x${signature.slice(66, 130)}`\n    const v = `0x${signature.slice(130, 132)}` // Assumes v = {Â 27, 28 }\n    return { r, s, v }\n  }\n\n  async deployContract(contract, ...args) {\n    const params = this.transactionParams\n    params.data = contract.binary.replace(\"__BytesHelper___________________________\", \"e011f6bd6d81b363aed8d88c04517eb16fa6224f\")\n\n    const txID = await promisedDeploy(web3.eth.contract(contract.abi), args.concat([params]))\n    await this.addPendingTransaction(txID)\n    if (!this.dontHideMetamask) toggleMetaMask(false)\n    return txID\n  }\n\n  async addPendingTransaction(txID: String) {\n    await Queue.add(txID)\n  }\n\n  async createVoting(f: Function, args: Array<mixed>, signature: string, votingTime: number) {\n    const txData = f.request.apply(this, args).params[0].data\n    const votingCloses = votingTime + Math.floor(+new Date() / 1000) + 300 // 300 extra seconds to account for delay included\n\n    const company = Company()\n    /*\n    // TODO: This needs to be used again\n    const votesOnCreate = true\n    const executesOnDecided = false\n    */\n\n    const nonce = parseInt(Math.random() * 1e15)\n    const payload = await company.hashedPayload(company.address, nonce)\n    const preauth = Buffer.concat([new Buffer('Voting pre-auth '), utils.toBuffer(payload)])\n    const { r, s, v } = await this.signPayload(utils.bufferToHex(preauth))\n\n    const txid = await this.deployContract(GenericBinaryVoting, txData, votingCloses, company.address, r, s, v, nonce)\n    console.log('deployed on tx', txid)\n  }\n}\n\nexport default new Dispatcher()\n","import { bylawForAction } from './bylaws'\nimport actions from './actions'\nimport { Company } from '/client/lib/ethereum/deployed'\nimport { BylawsLib } from '/client/lib/ethereum/contracts'\nimport Status from '../identity/status'\nimport dispatcher from './dispatcher'\n\nconst callToActionForAction = (actionName: string): string => {\n  if (!actionName) return ''\n\n  const action = actions[actionName]\n  const bylaw = bylawForAction(action)\n  if (!bylaw) return ''\n\n  return bylaw.type === 0 ? `Create '${action.name}' voting` : action.name\n}\n\nconst bylawDisclaimerForAction = (actionName: string): {title: string, description: string} => {\n  if (!actionName) return {}\n\n  const action = actions[actionName]\n  const bylaw = bylawForAction(action)\n  if (!bylaw) return {}\n\n  let title = ''\n  let description = `${action.name} can be performed instantly`\n\n  if (bylaw.type === 0) title = `A voting will be needed to ${action.name}`\n\n  const d = bylaw.details\n\n  if (bylaw.type === 0) description = `Requires ${Math.round(10000 * (d.supportNeeded / d.supportBase || 0)) / 100}% support in a ${d.minimumVotingTime / (24*3600)} day voting`\n  if (bylaw.type === 1) title = `Requires ${Status.list[d.neededStatus]} status in the company`\n  if (bylaw.type === 2) title = 'Only shareholders can perform this action'\n  if (bylaw.type === 3) title = `Only a specific address can perform this action`\n  if (bylaw.type === 4) title = 'An oracle is consulted for approving the action'\n\n  return { title, description }\n}\n\nconst canPerformAction = async (actionName: string): bool => {\n  const action = actions[actionName]\n  const bylaw = bylawForAction(action)\n  // if (!bylaw) return false\n\n  let checkingAction = action.signature\n  if (bylaw.type === 0) {\n    checkingAction = actions.beginPoll.signature\n  }\n\n  const bylawsLib = await BylawsLib.deployed()\n  const actionSig = await bylawsLib.keyForFunctionSignature.call(checkingAction)\n  const from = dispatcher.transactionParams.from\n\n  const can = await Company().canPerformAction(actionSig, from, 0x0)\n  console.log('check can perform', checkingAction, actionSig, from, can)\n  return can\n}\n\nexport { callToActionForAction, bylawDisclaimerForAction, canPerformAction }\n","import dispatcher from './dispatcher'\nimport actions from './actions'\n\nexport { dispatcher, actions }\n","// @flow\n\nimport { Meteor } from 'meteor/meteor'\n\nconst deepValue = (obj, path) => {\n  let newObj = obj\n  for (let i = 0, newPath = path.split('.'), len = newPath.length; i < len; i++) {\n    newObj = newObj[newPath[i]]\n    if (!newObj) return undefined\n  }\n  return newObj\n}\n\nconst Build = {\n  Settings: {\n    get: (key: string) => {\n      if (Meteor.settings && Meteor.settings.public) {\n        return deepValue(Meteor.settings.public, key)\n      }\n      return undefined\n    },\n  },\n}\n\nexport default Build\n","// @flow\nimport { Template } from 'meteor/templating'\nimport { ReactivePromise } from 'meteor/deanius:promise'\nimport { EthAccounts } from 'meteor/ethereum:accounts'\nimport { moment } from 'meteor/momentjs:moment'\n\nimport Ticker from '/client/lib/currency/ticker'\n\nimport Identity from '/client/lib/identity'\nimport type { Entity } from '/client/lib/identity/entity'\nimport Settings from '/client/lib/settings'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport { Stock } from '/client/lib/ethereum/contracts'\n\nTemplate.registerHelper('$contains', (a, b) => (!a || b.toLowerCase().indexOf(a.toLowerCase()) !== -1))\n\nTemplate.registerHelper('parent', () => ({ parent: Template.instance() }))\n\nTemplate.registerHelper('currentEntity', ReactivePromise(() => {\n  if (!web3.isConnected()) return {}\n  return Identity.current()\n}))\n\nTemplate.registerHelper('currentEntityName', ReactivePromise(() => {\n  if (!web3.isConnected()) return {}\n  return Identity.current(false, false).name.split(' ')[0]\n}))\n\nTemplate.registerHelper('getEntity', ReactivePromise(async (address) => {\n  if (!web3.isConnected()) return {}\n  const identity = await Identity.get(address)\n  return identity\n}))\n\nTemplate.registerHelper('entityName', ReactivePromise(async (address) => {\n  if (!web3.isConnected()) return {}\n  const identity = await Identity.get(address)\n  return identity.name\n}))\n\nTemplate.registerHelper('currentAccount', ReactivePromise(() => {\n  const entity = Identity.current()\n  return EthAccounts.findOne({ address: entity.ethereumAddress })\n}))\n\nTemplate.registerHelper('ticker', ReactivePromise((currency: string) => Ticker.get(currency)))\n\nTemplate.registerHelper('traditionalCurrency', ReactivePromise(async (ethAmount) => {\n  const eth = await Ticker.get('ETH')\n  return (ethAmount * parseFloat(eth.price)).toFixed(2)\n}))\n\nTemplate.registerHelper('Settings', () => ({\n  get: ReactivePromise(key => Settings.get(key)),\n}))\n\nTemplate.registerHelper('online', () => navigator.onLine)\n\nTemplate.registerHelper('capitalize', (str: string) => {\n  if (!str) return ''\n  return str.charAt(0).toUpperCase() + str.slice(1)\n})\n\nTemplate.registerHelper('totalStock', ReactivePromise(async (entity: Entity) => {\n  const stocksArr = StockWatcher.Stocks.find().fetch().map((item) =>\n    Stock.at(item.address).balanceOf(entity.ethereumAddress))\n  const stocks = await Promise.all(stocksArr)\n  const totalStock: number = stocks.map(s => s.toNumber()).reduce((a, b) => a + b, 0)\n  return totalStock\n}))\n\nTemplate.registerHelper('formatDate', (timestamp: number) => (\n  moment(timestamp*1000).calendar()\n))\n","// @flow\nimport { _ } from 'meteor/underscore'\nimport { Blaze } from 'meteor/blaze'\nimport { Template } from 'meteor/templating'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\n\nfunction moduleName(tmpl) {\n  let name = tmpl.viewName.split('.')[1]\n  if (name.split('_')[1]) name = name.split('_')[1]\n  return name.toLowerCase()\n}\n\nfunction removeGenericRoutes(module) {\n  for (const route of FlowRouter._routes) {\n    if (route.path === `/${module}/*`) {\n      route.path = route.pathDef = `/${module}`\n      FlowRouter._routesMap[route.name].path = `/${module}`\n      FlowRouter._routesMap[route.name].pathDef = `/${module}`\n    }\n  }\n}\n\nfunction removeSubRoutes(module) {\n  FlowRouter._routes = FlowRouter._routes.filter((route) => {\n    if (route.path.startsWith(`/${module}/`)) {\n      delete FlowRouter._routesMap[route.name]\n      return false\n    }\n    return true\n  })\n}\n\nfunction addRoutes(tmpl, routes) {\n  const module = moduleName(tmpl)\n  for (const path of Object.keys(routes)) {\n    FlowRouter.route(`/${module}${path}`, {\n      name: `${module}${path}`,\n      action: () => {},\n    })\n  }\n}\n\nTemplate.prototype.extend = function (components = []) {\n  this.routesObj = {}\n\n  for (const c of components) {\n    c.extend(this)\n  }\n  this.onCreated(() => {\n    const ins = Template.instance()\n    ins.parent = () => (ins.data.parent)\n\n    removeGenericRoutes(moduleName(this))\n    addRoutes(this, this.routesObj)\n  })\n\n  this.onRendered(() => {\n    if (!_.isEmpty(this.routesObj)) {\n      FlowRouter.reload()\n\n      Template.instance().autorun(() => {\n        FlowRouter.watchPathChange()\n        const path = FlowRouter.current().route.path\n        let leanPath = path.replace(RegExp(`^(/${moduleName(this)})`), '')\n        if (leanPath === '') leanPath = '/'\n        if (this.routesObj[leanPath]) this.routesObj[leanPath].call(this, FlowRouter.current())\n      })\n    } else {\n      Template.instance().autorun(() => {\n        FlowRouter.watchPathChange()\n        console.log('Path changed, firing created callbacks')\n        Blaze._fireCallbacks(Template.instance().view, 'created')\n      })\n    }\n  })\n\n  this.onDestroyed(() => {\n    const module = moduleName(this)\n    if (FlowRouter.current().path.startsWith(`/${module}`)) return\n\n    removeSubRoutes(module)\n    FlowRouter.route(`/${module}/*`, {\n      name: `${module}/*`,\n      action: () => (FlowRouter._routesMap[module]._action()),\n    })\n    FlowRouter.reload()\n  })\n\n  return this\n}\n\nTemplate.prototype.routes = function (routes: Array) {\n  Object.assign(this.routesObj, routes)\n}\n\nBlaze.TemplateInstance.prototype.parent = function (levels): Blaze.TemplateInstance {\n  let view = this.view\n  let ls = (typeof levels === 'undefined') ? 1 : levels\n  while (view) {\n    if (view.name.substring(0, 9) === 'Template.' && !(ls--)) {\n      return view.templateInstance\n    }\n    view = view.parentView\n  }\n  return {}\n}\n","// @flow\nimport fx from 'money'\nimport { $ } from 'meteor/jquery'\n\nimport Ticker from './ticker'\n\nfx.ready = false\nfx.base = 'USD'\n\nconst fetchRates = async () => {\n  const eth = await Ticker.get('ETH')\n  const btc = await Ticker.get('BTC')\n\n  const data = await $.ajax({\n    type: 'GET',\n    url: 'https://api.fixer.io/latest?base=USD&callback=',\n    dataType: 'jsonp',\n  })\n\n  const rates = data.rates\n  rates.ETH = 1/parseFloat(eth.price)\n  rates.BTC = 1/parseFloat(btc.price)\n\n  fx.rates = rates\n  fx.ready = true\n}\n\nsetInterval(fetchRates, 24*60*60*1000)\n\nfetchRates()\n\nexport default fx\n","// @flow\n\nclass Ticker {\n  static async get(symbol: string, precision: number = 2): Object {\n    const data = await fetch(`https://api.cryptonator.com/api/ticker/${symbol.toLowerCase()}-usd`)\n    const json = await data.json()\n    const ticker = json.ticker\n    ticker.price = parseFloat(ticker.price).toFixed(precision)\n    ticker.change = parseFloat(ticker.change)\n    return ticker\n  }\n}\n\nexport default Ticker\n","// @flow\nimport { Mongo } from 'meteor/mongo'\nimport { PersistentMinimongo } from 'meteor/frozeman:persistent-minimongo'\n\nimport { Company } from './deployed'\n\nimport Watcher from './watcher'\n\nconst Transactions = new Mongo.Collection('transactions', { connection: null })\nconst AccountingPeriods = new Mongo.Collection('accountingPeriod', { connection: null })\n\nclass AccountingWatcher extends Watcher {\n  Transactions: Mongo.Collection\n  persistentTransactions: PersistentMinimongo\n  AccountingPeriods: Mongo.Collection\n  persistentAccountingPeriods: PersistentMinimongo\n\n  constructor() {\n    super('acc')\n    this.setupCollections()\n  }\n\n  listen() {\n    this.watchEvent(Company().NewPeriod, this.watchPeriod)\n    this.watchEvent(Company().PeriodClosed, this.watchPeriod)\n    this.watchEvent(Company().NewRecurringTransaction, this.watchRecurring)\n    this.watchEvent(Company().TransactionSaved, this.watchTransaction)\n    this.watchEvent(Company().RemovedRecurringTransaction, this.watchRecurringRemoval)\n  }\n\n  setupCollections() {\n    this.Transactions = Transactions\n    this.persistentTransactions = new PersistentMinimongo(this.Transactions)\n\n    this.AccountingPeriods = AccountingPeriods\n    this.persistentAccountingPeriods = new PersistentMinimongo(this.AccountingPeriods)\n  }\n\n  watchPeriod(err, ev) {\n    if (!err) this.updatePeriod(ev.args.newPeriod.toNumber())\n\n  }\n\n  watchRecurring(err, ev) {\n    if (!err) this.saveRecurringTransaction(ev.args.recurringIndex.toNumber())\n\n  }\n\n  watchTransaction(err, ev) {\n    if (!err) this.saveTransaction(ev.args.period.toNumber(), ev.args.transactionIndex.toNumber())\n\n  }\n\n  watchRecurringRemoval(err, ev) {\n    if (!err) this.removeRecurringTransaction(ev.args.recurringIndex.toNumber())\n\n  }\n\n  get currentPeriod() {\n    return this.AccountingPeriods.findOne({}, { sort: { index: -1 } })\n  }\n\n  async updatePeriod(periodIndex) {\n    const periodArray = await Company().getPeriodInfo(periodIndex)\n    const [transactions, startedDate, endedDate, revenue, expenses, dividends] = periodArray\n\n    const periodInfo = {\n      index: periodIndex,\n      startedDate: new Date(startedDate * 1000),\n      endedDate: endedDate > 0 ? new Date(endedDate * 1000) : null,\n      revenue: revenue.toNumber(),\n      expenses: expenses.toNumber(),\n      dividends: dividends.toNumber(),\n      transactions: transactions.toNumber(),\n    }\n\n    this.AccountingPeriods.upsert(`p_${periodIndex}`, periodInfo)\n  }\n\n  async saveTransaction(periodIndex, transactionIndex) {\n    console.log('fetching tx')\n    const txArray = await Company().getTransactionInfo(periodIndex, transactionIndex)\n    const [isExpense, from, to, approvedBy, amount, concept, timestamp] = txArray\n\n    const txInfo = {\n      recurring: false,\n\n      periodIndex,\n      transactionIndex,\n      isExpense,\n      from,\n      to,\n      approvedBy,\n      amount: amount.toNumber(),\n      concept,\n      timestamp: timestamp.toNumber(),\n    }\n\n    console.log('fetching tx', txInfo)\n\n    this.Transactions.upsert(`p_${periodIndex}t_${transactionIndex}`, txInfo)\n  }\n\n  async saveRecurringTransaction(index) {\n    const txArray = await Company().getRecurringTransactionInfo(index)\n    const [period, lastTransactionDate, to, approvedBy, amount, concept] = txArray\n\n    const txInfo = {\n      recurring: true,\n      isExpense: true,\n\n      period: period.toNumber(),\n      index,\n      to,\n      approvedBy,\n      amount: amount.toNumber(),\n      concept,\n      lastTransactionDate: new Date(lastTransactionDate * 1000),\n    }\n\n    this.Transactions.upsert(`rt_${index}`, txInfo)\n  }\n\n  removeRecurringTransaction(index) {\n    this.Transactions.remove({ recurring: true, index })\n  }\n}\n\nexport default new AccountingWatcher()\n","import utils from 'ethereumjs-util'\n\nimport { Company } from './deployed'\nimport Watcher from './watcher'\n\nBylaws = new Mongo.Collection('bylaws', { connection: null })\n\nclass BylawsWatcher extends Watcher {\n  constructor() {\n    super('byl')\n    this.setupCollections()\n  }\n\n  listen() {\n    this.watchEvent(Company().BylawChanged, this.watchBylaw)\n  }\n\n  setupCollections() {\n    this.Bylaws = Bylaws\n    this.persistentBylaws = new PersistentMinimongo(this.Bylaws)\n  }\n\n  async watchBylaw(err, ev) {\n    if (!err && ev.args) await this.updateBylaw(ev.args.functionSignature)\n  }\n\n  async updateBylaw(signature) {\n    const [type, updated, updatedBy] = await Company().getBylawType(signature)\n        .then(x => x.map(y => ((y.toNumber) ? y.toNumber() : y)))\n    let details = Promise.resolve()\n    if (type === 0) {\n      details = Company().getVotingBylaw(signature)\n        .then(x => x.map(y => ((y.toNumber) ? y.toNumber() : y)))\n        .then(([supportNeeded, supportBase, closingRelativeMajority, minimumVotingTime]) =>\n          ({ supportNeeded, supportBase, closingRelativeMajority, minimumVotingTime }))\n    } else if (type === 1 || type === 2){\n      details = Company().getStatusBylaw(signature)\n        .then(x => x.toNumber())\n        .then(neededStatus => ({ neededStatus }))\n    } else {\n      details = Company().getAddressBylaw(signature)\n        .then(address => ({Â address }))\n    }\n\n    const bylawObject = await Promise.allProperties({\n      signature,\n      type,\n      details,\n      updatedBy,\n\n      updated: new Date(updated * 1000),\n    })\n\n    const signatureHash = utils.bufferToHex(utils.sha3(signature))\n\n    console.log('updating bylaw', bylawObject)\n    this.Bylaws.upsert({ _id: `byl_${signatureHash}` }, bylawObject)\n  }\n}\n\nexport default new BylawsWatcher()\n","// @flow\nimport contractify from 'truffle-contract'\n\nimport _Company from '/imports/lib/contracts/build/contracts/Company'\nimport _AccountingLib from '/imports/lib/contracts/build/contracts/AccountingLib'\nimport _Stock from '/imports/lib/contracts/build/contracts/Stock'\nimport _BinaryVoting from '/imports/lib/contracts/build/contracts/BinaryVoting'\nimport _BinaryPoll from '/imports/lib/contracts/build/contracts/BinaryPoll'\nimport _StockSale from '/imports/lib/contracts/build/contracts/StockSale'\nimport _BoundedStandardSale from '/imports/lib/contracts/build/contracts/BoundedStandardSale'\nimport _IndividualInvestorSale from '/imports/lib/contracts/build/contracts/IndividualInvestorSale'\nimport _GenericBinaryVoting from '/imports/lib/contracts/build/contracts/GenericBinaryVoting'\nimport _CompanyFactory from '/imports/lib/contracts/build/contracts/CompanyFactory'\nimport _CompanyConfiguratorFactory from '/imports/lib/contracts/build/contracts/CompanyConfiguratorFactory'\n\nimport _CustomStock from '/imports/lib/contracts/build/contracts/CustomStock'\nimport _WrappedCustomStock from '/imports/lib/contracts/build/contracts/WrappedCustomStock'\nimport _Txid from '/imports/lib/contracts/build/contracts/Txid'\nimport _ERC20Wrap from '/imports/lib/contracts/build/contracts/ERC20Wrap'\nimport _BylawsLib from '/imports/lib/contracts/build/contracts/BylawsLib'\nimport _KeybaseRegistry from '/imports/lib/contracts/node_modules/keybase-eth/build/contracts/KeybaseRegistry'\n\nconst Company = contractify(_Company)\nconst AccountingLib = contractify(_AccountingLib)\nconst Stock = contractify(_Stock)\nconst CustomStock = contractify(_CustomStock)\nconst WrappedCustomStock = contractify(_WrappedCustomStock)\nconst BinaryVoting = contractify(_BinaryVoting)\nconst BinaryPoll = contractify(_BinaryPoll)\nconst StockSale = contractify(_StockSale)\nconst BoundedStandardSale = contractify(_BoundedStandardSale)\nconst IndividualInvestorSale = contractify(_IndividualInvestorSale)\nconst GenericBinaryVoting = contractify(_GenericBinaryVoting)\nconst CompanyFactory = contractify(_CompanyFactory)\nconst CompanyConfiguratorFactory = contractify(_CompanyConfiguratorFactory)\nconst KeybaseRegistry = contractify(_KeybaseRegistry)\nconst ERC20Wrap = contractify(_ERC20Wrap)\nconst BylawsLib = contractify(_BylawsLib)\n\n\nconst Txid = contractify(_Txid)\n\nconst allContracts = [\n  Company,\n  AccountingLib,\n  Stock,\n  CustomStock,\n  WrappedCustomStock,\n  BinaryVoting,\n  BinaryPoll,\n  StockSale,\n  BoundedStandardSale,\n  IndividualInvestorSale,\n  GenericBinaryVoting,\n  Txid,\n  CompanyFactory,\n  CompanyConfiguratorFactory,\n  KeybaseRegistry,\n  ERC20Wrap,\n  BylawsLib,\n]\n\n// allContracts.forEach(c => c.setProvider(web3.currentProvider))\n\nexport { allContracts, Company, AccountingLib, Stock, CustomStock, WrappedCustomStock, BinaryVoting as Voting,\n          BinaryPoll as Poll, BoundedStandardSale, IndividualInvestorSale, GenericBinaryVoting,\n          StockSale, Txid, CompanyFactory, CompanyConfiguratorFactory, KeybaseRegistry, ERC20Wrap, BylawsLib }\n","// @flow\nimport { Company as CompanyContract } from './contracts'\n\nconst Company = () => (\n  CompanyContract.at(localStorage.getItem('companyAddress'))\n)\n\nconst CompanyFactory = () => (window.CompanyFactory)\n\nconst CompanyConfiguratorFactory = () => (window.CompanyConfiguratorFactory)\n\nexport { Company, CompanyFactory, CompanyConfiguratorFactory }\n","// @flow\nimport { _ } from 'meteor/underscore'\n\nimport StockWatcher from '/client/lib/ethereum/stocks'\nconst Stocks = StockWatcher.Stocks\n\nimport { NotificationsListener as Listener } from '/client/lib/notifications'\nimport Identity from '/client/lib/identity'\nimport utils from 'ethereumjs-util'\n\nimport { Company } from './deployed'\nimport { Stock, Voting, StockSale } from './contracts'\n\nconst flatten = (array) => [].concat(...array)\n\nclass Listeners {\n  static async all() {\n    const stocks = await this.allStocks()\n\n    return [this.issueStockListener, this.newPollListener, this.executedVotingListener, this.newSaleListener, this.bylawChangedListener]\n            .concat(await this.shareTransfers(stocks))\n  }\n\n  static get issueStockListener() {\n    const body = async args => {\n      const symbol = await Stock.at(args.stockAddress).symbol.call()\n      return `${args.amount} ${symbol} shares have been issued`\n    }\n\n    return new Listener(\n      Company().IssuedStock,\n      'Stock issued',\n      body,\n      () => '/ownership',\n    )\n  }\n\n  static async shareTransfers(stocks) {\n    const address = Identity.current(true).ethereumAddress\n\n    const parentStocks = stocks.map(s => s.parentToken).filter(x => x)\n\n    const sharesTransfers = stocks.concat(parentStocks).map(stock =>\n      ([this.sharesSent(stock, address), this.sharesReceived(stock, address)]),\n    )\n\n    return await Promise.all(flatten(sharesTransfers))\n  }\n\n  static async sharesSent(stock, address) {\n    return await this.sharesTransferred(stock, { from: address }, 'sent')\n  }\n\n  static async sharesReceived(stock, address) {\n    return await this.sharesTransferred(stock, { to: address }, 'received')\n  }\n\n  static async sharesTransferred(stock, predicate, verb) {\n    const body = async args => `You just ${verb} ${args.value} ${stock.symbol}`\n\n    return new Listener(\n      Stock.at(stock.address).Transfer,\n      'Transfer',\n      body,\n      () => '/ownership',\n      '',\n      predicate,\n    )\n  }\n\n  static get newPollListener() {\n    const body = async () => 'New voting was created. You can now vote.'\n\n    return new Listener(\n      Company().NewVoting,\n      'Voting started',\n      body,\n      args => `/voting/${args.id.valueOf()}`,\n      'Vote now',\n      {},\n      args => utils.bufferToHex(utils.sha3(args.id.valueOf() + args.closes.valueOf()))\n    )\n  }\n\n  static get bylawChangedListener() {\n    const body = args => `Signature: ${args.functionSignature}`\n    return new Listener(\n      Company().BylawChanged,\n      'Bylaw changed',\n      body,\n      args => `/bylaws/${args.functionSignature}`,\n    )\n  }\n\n  static get newSaleListener() {\n    const body = async args => `New fundraising started shares at ${await StockSale.at(args.saleAddress).getBuyingPrice.call(1).then(x => web3.fromWei(x.toNumber()), 'ether')} ETH price`\n    return new Listener(\n      Company().NewStockSale,\n      'New sale',\n      body,\n      args => `/fundraising/${args.saleIndex.valueOf()}`,\n      'See sale',\n    )\n  }\n\n  static get executedVotingListener() {\n    const body = async args => {\n      const winner = await Voting.at(args.votingAddress).options.call(args.outcome)\n      return `Voting outcome was '${winner}'`\n    }\n\n    return new Listener(\n      Company().VoteExecuted,\n      'Voting finished',\n      body,\n      (args) => `/voting/${args.id.valueOf()}`,\n    )\n  }\n\n  static async allStocks() {\n    return Stocks.find().fetch()\n  }\n}\n\nexport default Listeners\n","const domains = {\n  1: '',\n  3: 'ropsten.',\n  15: 'PRIVATECHAIN.',\n  42: 'kovan.',\n}\n\nconst names = {\n  1: 'Ethereum mainnet',\n  3: 'Ropsten testnet',\n  15: 'PRIVATE CHAINS ARE BEST CHAINS',\n  42: 'Kovan testnet',\n}\n\nconst keybaseSuffixes = {\n  1: '',\n  3: '_ropsten',\n  15: '_dev',\n  42: '_kovan',\n}\n\nconst faucets = {\n  1: () => null,\n  3: address => `http://faucet.ropsten.be:3001/donate/${address}`,\n  15: () => null,\n  42: address => `https://kovan-faucet.aragon.one/address/${address}`,\n}\n\nconst supportedNetworks = [ 3, 15, 42 ]\n\nexport { domains, names, keybaseSuffixes, faucets, supportedNetworks }\n","// @flow\nimport { EthAccounts } from 'meteor/ethereum:accounts'\nimport { EthBlocks } from 'meteor/ethereum:blocks'\n\nimport { NotificationsManager } from '/client/lib/notifications'\nimport _BytesHelper from '/imports/lib/contracts/build/contracts/BytesHelper'\nimport { allContracts, GenericBinaryVoting } from './contracts'\nimport { domains, names, supportedNetworks } from './networks'\n\nimport listeners from './listeners'\nimport initWatchers from './watchers'\n\nconst getNetworkID = () => (\n  new Promise((resolve, reject) => {\n    web3.version.getNetwork((err, id) => {\n      if (err) reject(err)\n      else resolve(id)\n    })\n  })\n)\n\nconst delay = t => new Promise(r => setTimeout(() => r(), t))\n\nconst initCollections = async (): Promise<boolean> => {\n  const promises = await Promise.all([\n    new Promise(async (resolve, reject) => {\n      const accountObserver = EthAccounts.find().observe({\n        addedAt: () => {\n          console.log('EthAccounts: Ready')\n          if (accountObserver) accountObserver.stop()\n          resolve(true)\n        },\n      })\n      try {\n        EthAccounts.init()\n        web3.eth.getAccounts((err, accs) => {\n          if (err) return reject(err)\n          else if (accs.length < 1) resolve(true)\n        })\n      } catch (e) {\n        reject(e)\n      }\n    }),\n    new Promise(async (resolve, reject) => {\n      const blockObserver = EthBlocks.find().observe({\n        addedAt: () => {\n          console.log('EthBlocks: Ready')\n          blockObserver.stop()\n          resolve(true)\n        },\n      })\n      try {\n        EthBlocks.init()\n      } catch (e)Â {\n        reject(e)\n      }\n    })\n  ])\n\n  return promises[0] && promises[1]\n}\n\nconst initConnection = async (): Promise<boolean> => (\n  new Promise((resolve, reject) => {\n    let timeout: number = 0\n    const retry = () => {\n      timeout += timeout+1000\n      console.log('EthereumNode: Trying connection in', timeout)\n      setTimeout(tryConnection, timeout)\n    }\n    const tryConnection = () => {\n      if (!web3.isConnected()) return retry()\n\n      if (web3.currentProvider.constructor.name === 'MetamaskInpageProvider') return resolve(true)\n\n      web3.eth.getSyncing((e, sync) => {\n        if (e || !sync) return resolve(true)\n\n        return retry()\n      })\n    }\n    setTimeout(tryConnection, 100)\n  })\n)\n\nclass EthereumNode {\n  static async connect(): Promise<boolean> {\n    web3.reset(true)\n    const nodeReady = await initConnection()\n    let collectionsReady = false\n    if (window.isElectron) {\n      try {\n        setTimeout(() => {\n          if (!collectionsReady) {\n            console.log('time passed, didnt start')\n            return this.connect()\n          }\n        }, 1000)\n        collectionsReady = await initCollections()\n      } catch (e) {\n        console.log('Caught the exception', e)\n        delay(500)\n        return this.connect()\n      }\n    } else {\n      collectionsReady = await initCollections()\n    }\n\n    allContracts.forEach(c => c.setProvider(web3.currentProvider))\n    const nID = parseInt(await getNetworkID())\n\n    if (!_.contains(supportedNetworks, nID)) {\n      return alert('Current Ethereum network not supported, please use Ropsten or Kovan testnets')\n    }\n\n    const formerNetwork = localStorage.getItem('network')\n    if (formerNetwork != nID && localStorage.getItem('companyAddress')) {\n      if (confirm('You are in a different Ethereum network than the one you deployed your company at. Do you want to remove your company and start again in this network? Otherwise, change the network and then press cancel')) {\n        localStorage.clear()\n      }\n      return location.reload()\n    }\n\n    localStorage.setItem('network', nID)\n    localStorage.setItem('etherscanSub', domains[nID] || '')\n    localStorage.setItem('networkName', names[nID])\n\n    console.log('EthereumNode: ready')\n    return nodeReady && collectionsReady\n  }\n\n  static async bindListeners() {\n    setTimeout(async () => {\n      initWatchers()\n      const allListeners = await listeners.all()\n      NotificationsManager.listen(allListeners)\n    }, 1000)\n  }\n}\n\nexport default EthereumNode\n","import utils from 'ethereumjs-util'\nimport sigUtil from 'eth-sig-util'\n\nconst personalSign = (from, payload) => {\n  const params = [from, payload]\n  const method = 'personal_sign'\n  return new Promise((resolve, reject) => {\n    web3.currentProvider.sendAsync({\n       method,\n       params,\n       from,\n     }, function (err, result) {\n       if (err) return reject(err)\n       if (result.error) return reject(result.error)\n       console.log('result', result)\n       resolve(result.result)\n    })\n  })\n}\n\nconst personalECRecover = (data, sig) => {\n  return sigUtil.recoverPersonalSignature({ sig, data })\n}\n\nconst toHex = s => utils.bufferToHex(new Buffer(s))\n\nexport { personalSign, personalECRecover, toHex }\n","import { Entities } from '/client/lib/identity'\nimport { Company } from './deployed'\n\nimport Watcher from './watcher'\n\nclass StatusWatcher extends Watcher {\n  constructor() {\n    super('ss')\n  }\n\n  listen() {\n    this.watchEvent(Company().EntityNewStatus, this.watchStatus)\n  }\n\n  async watchStatus(err, ev) {\n    if (!err && ev.args) await this.updateStatus(ev.args.entity, ev.args.status)\n  }\n\n  async updateStatus(ethereumAddress, _status) {\n    const status: number = _status.toNumber()\n    console.log(`Updating status of ${ethereumAddress}`)\n    console.log('before', Entities.findOne({ current: true }).balances)\n    Entities.upsert({ ethereumAddress }, { $set: { status } })\n    console.log('after', Entities.findOne({ current: true }).balances)\n  }\n}\n\nexport default new StatusWatcher()\n","// @flow\nimport { _ } from 'meteor/underscore'\nimport { Mongo } from 'meteor/mongo'\nimport { PersistentMinimongo } from 'meteor/frozeman:persistent-minimongo'\n\nimport { Stock, ERC20Wrap } from './contracts'\nimport { Company } from './deployed'\nimport Tokens from './tokens'\n\nimport Watcher from './watcher'\n\nStocks = new Mongo.Collection('stocks', { connection: null })\n\nclass StockWatcher extends Watcher {\n  Stocks: Mongo.Collection\n  persistentStock: PersistentMinimongo\n\n  constructor() {\n    super('s')\n    this.setupCollections()\n  }\n\n  listen() {\n    this.listenForNewStock()\n    this.listenForStockTransfers()\n  }\n\n  setupCollections() {\n    this.Stocks = Stocks\n    this.persistentStock = new PersistentMinimongo(this.Stocks)\n  }\n\n  listenForNewStock() {\n    this.watchEvent(Company().IssuedStock, this.watchStock)\n  }\n\n  watchStock(err, ev) {\n    if (!err) this.getStock(ev.args.stockAddress, ev.args.stockIndex.toNumber())\n  }\n\n  listenForStockTransfers(stocks = this.Stocks.find().fetch()) {\n    stocks.forEach(stock => {\n      this.watchEvent(Stock.at(stock.address).Transfer, (err, ev) => {\n        this.saveStockTransfer(stock.index, stock.address, ev.args.from, ev.args.to, ev.args.value.toNumber())\n      })\n    })\n  }\n\n  saveStockTransfer(stock, stockAddress, from, to, value) {\n    // this.updateBalance(stockAddress, from, -value, true)\n    // this.updateBalance(stockAddress, to, value, true)\n\n    // this could be deleted, if all updates correctly and in order and only once\n    this.setBalance(from, stockAddress)\n    this.setBalance(to, stockAddress)\n  }\n\n  async setBalance(holder, stockAddress) {\n    const balance = await Tokens.getBalance(stockAddress, holder)\n    this.updateBalance(stockAddress, holder, balance)\n  }\n\n  updateBalance(stockAddress, ethereumAddress, balance, isIncrement = false) {\n    if (ethereumAddress == '0x0000000000000000000000000000000000000000') return // We don't want 'burn' address as shareholder\n\n    const predicate = { ethereumAddress }\n\n    const currentEntity = Entities.findOne(predicate)\n    let balances = {}\n    if (currentEntity && currentEntity.balances) {\n      balances = currentEntity.balances\n    }\n\n    if (isIncrement) {\n      balances[stockAddress] = (balances[stockAddress] || 0) + balance\n    } else {\n      balances[stockAddress] = balance\n    }\n\n    Entities.upsert(predicate, { $set: { balances } })\n    const update = { $addToSet: { shareholders: { $each: [ { shareholder: ethereumAddress, stock: { address: stockAddress }} ]}}, $set: { updated: new Date() } }\n    this.Stocks.upsert({ address: stockAddress }, update)\n  }\n\n  async getStock(address: string, index: number) {\n    this.trackStock(address, index)\n    await this.updateStock(address, index)\n  }\n\n  allShareholdersForStock(s, shareholderIndex) {\n    if (!s.address) return []\n    const stock = Stock.at(s.address)\n    const symbol = stock.symbol()\n    const convert = shareholder => ({ shareholder, stock: { address: s.address } })\n    const shareholders = _.range(shareholderIndex)\n                          .map(i => stock.shareholders.call(i).then(convert))\n    return Promise.all(shareholders)\n  }\n\n  trackStock(address: string, index: number) {\n    Stock.at(address).Transfer({}).watch(() => {\n      this.updateStock(address, index)\n    })\n  }\n\n  async getParentToken(address: string) {\n    const parentAddress = await ERC20Wrap.at(address).parentToken()\n    if (parentAddress === '0x') return null\n\n    return { address: parentAddress, ...(await Tokens.getTokenProperties(parentAddress))}\n  }\n\n  async updateStock(address: string, index: number) {\n    const stock = Stock.at(address)\n\n    const stockObject = {\n      name: stock.name.call(),\n      symbol: stock.symbol.call(),\n      votingPower: stock.votingPower.call().then(x => x.toNumber()),\n      economicRights: stock.economicRights.call().then(x => x.toNumber()),\n      shareholders: this.allShareholdersForStock(stock, await stock.shareholderIndex.call().then(x => x.toNumber())),\n      totalSupply: stock.totalSupply.call().then(x => x.toNumber()),\n      updated: new Date(),\n      parentToken: this.getParentToken(address),\n      address,\n      index,\n    }\n    const stockInfo = await Promise.allProperties(stockObject)\n\n    const predicate = { _id: `s_${address}` }\n    this.Stocks.upsert(predicate, stockInfo)\n\n    stockInfo.shareholders.forEach(({ shareholder }, i) => {\n      const entity = Entities.findOne({ ethereumAddress: shareholder })\n      if (i === 0 ||Â !entity || !entity.balances || !entity.balances[stockInfo.address]) {\n        this.setBalance(shareholder, stockInfo.address)\n      }\n    })\n  }\n}\n\nexport default new StockWatcher()\n","import { Company } from './deployed'\nimport { StockSale, IndividualInvestorSale, BoundedStandardSale } from './contracts'\n\nimport { dispatcher, actions } from '/client/lib/action-dispatcher'\nimport TxQueue from '/client/lib/queue'\nimport {Â verifyContractCode } from './verify'\n\nimport Watcher from './watcher'\n\nclass StockSalesWatcher extends Watcher {\n  constructor() {\n    super('ss')\n    this.setupCollections()\n  }\n\n  listen() {\n    this.listenForNewSales()\n    this.listenForSalesEvents()\n  }\n\n  setupCollections() {\n    this.StockSales = new Mongo.Collection('sales', { connection: null })\n    this.persistentStockSales = new PersistentMinimongo(this.StockSales)\n  }\n\n  listenForNewSales() {\n    this.watchEvent(Company().NewStockSale, async (err, ev) => {\n      const newsale = await this.getSale(ev.args.saleAddress, ev.args.saleIndex.toNumber())\n      this.listenForSalesEvents([newsale])\n    })\n  }\n\n  listenForSalesEvents(sales = this.StockSales.find().fetch()) {\n    const update = sale => ((err, a) => {\n      if (a.length === 0) { return } // Discard empty get arrays\n      const ev = a[a.length - 1] || a\n\n      this.getSale(sale.address, sale.index)\n    })\n\n    sales.forEach(sale => {\n      const stockSale = StockSale.at(sale.address)\n      this.watchEvent(stockSale.StockSold, update(sale))\n      this.watchEvent(stockSale.StockBought, update(sale))\n    })\n  }\n\n  async getSale(address, index) {\n    const sale = StockSale.at(address)\n    const investorAddresses = _.range(0, await sale.investorIndex.call())\n                                .map(i => sale.investors.call(i))\n    const investors = Promise.all(investorAddresses)\n                      .then(x => [...new Set(x)].map(a => Promise.allProperties({ address: a, tokens: sale.buyers.call(a).then(x => x.toNumber()) })))\n\n    const verifiedSale = await this.verifySale(address)\n\n    if (!verifiedSale) {\n      return console.error('Unknown sale')\n    }\n\n    const saleObject = {\n      stock: sale.stockId.call().then(x => x.toNumber()),\n      closeDate: sale.closeDate.call().then(x => new Date(x.toNumber() * 1000)),\n      raisedAmount: sale.raisedAmount.call().then(x => x.toNumber()),\n      title: sale.saleTitle.call(),\n      type: verifiedSale.contractClass.contract_name,\n      raiseTarget: sale.raiseTarget.call().then(x => x.toNumber()),\n      raiseMaximum: sale.raiseMaximum.call().then(x => x.toNumber()),\n      buyingPrice: sale.getBuyingPrice.call(0).then(x => x.toNumber()),\n      availableTokens: sale.availableTokens.call().then(x => x.toNumber()),\n      investors: Promise.all(await investors), // unique elements in array\n      typeMetadata: verifiedSale.additionalProperties(address),\n      index,\n      address,\n    }\n\n    const finalSale = await Promise.allProperties(saleObject)\n    console.log(finalSale)\n\n    this.StockSales.upsert(`ss_${address}`, finalSale)\n    return finalSale\n  }\n\n  async verifySale(address) {\n    const allClasses = this.allSales.map(s => s.contractClass)\n    const verifiedContract = await verifyContractCode(address, allClasses)\n\n    if (!verifiedContract) { return null }\n    return this.allSales.filter(x => x.contractClass === verifiedContract)[0]\n  }\n\n  async createIndividualInvestorSale(stock, investor, price, units, closes, title = 'Series Y') {\n    const saleTx = await dispatcher.deployContract(IndividualInvestorSale,\n                          Company().address, stock, investor, units, price, closes, title)\n    return this.watchSaleDeployTransaction(saleTx)\n  }\n\n  async createBoundedSale(stock, min, max, price, closes, title = 'Series Z') {\n    const saleTx = await dispatcher.deployContract(BoundedStandardSale,\n                         Company().address, stock, min, max, price, closes, title)\n    return this.watchSaleDeployTransaction(saleTx)\n  }\n\n  watchSaleDeployTransaction(txId) {\n    TxQueue.addListener(txId, () => {\n      web3.eth.getTransactionReceipt(txId, (err, tx) => {\n        if (err) return console.error(err)\n        if (!tx.contractAddress) return console.error('error deploying sale', tx)\n        return this.submitSale(StockSale.at(tx.contractAddress), txId)\n      })\n    })\n  }\n\n  async submitSale(sale, txId) {\n    console.log('submitting sale', sale)\n    // Megahack\n    dispatcher.dontHideMetamask = true\n    await dispatcher.performTransaction(sale.setTxid, txId)\n    dispatcher.dontHideMetamask = false\n    return dispatcher.dispatch(actions.beginSale, sale.address)\n  }\n\n  get allSales() {\n    return [\n      {\n        contractClass: IndividualInvestorSale,\n        additionalProperties: async a => {\n          const c = IndividualInvestorSale.at(a)\n          const investorAddress = c.investor.call()\n          return await Promise.allProperties({ investorAddress })\n        },\n      },\n      {\n        contractClass: BoundedStandardSale,\n        additionalProperties: () => ({}),\n      },\n    ]\n  }\n}\n\nexport default new StockSalesWatcher()\n","// @flow\nimport { ERC20Wrap, WrappedCustomStock, Stock } from '/client/lib/ethereum/contracts'\nimport {Â dispatcher } from '/client/lib/action-dispatcher'\nimport queue from '/client/lib/queue'\n\nexport default class Tokens {\n  static async getTokenProperties(addr: string) {\n    try {\n      const token = ERC20Wrap.at(addr)\n      const stock = Stock.at(addr)\n\n      let totalSupply = await token.totalSupply()\n      let parentTotalSupply = await token.parentTotalSupply()\n      totalSupply = totalSupply.toNumber()\n      parentTotalSupply = parentTotalSupply.toNumber()\n      if (totalSupply < 1) return undefined // Avoid errors getting strings Uncaught BigNumber Error: new BigNumber() not a base 16\n      return await Promise.allProperties({\n        name: stock.name().catch(e => console.log('caught', e)),\n        symbol: stock.symbol().catch(e => console.log('caught', e)),\n\n        totalSupply,\n        parentTotalSupply,\n      })\n    } catch (e) {\n      console.log('caught exception', e)\n      return undefined\n    }\n  }\n\n  static async getBalance(token, hodler) {\n    return ERC20Wrap.at(token).balanceOf(hodler).then(x => x.toNumber())\n  }\n\n  static async getTransferableBalance(token, hodler) {\n    return Stock.at(token).transferableTokens(hodler, +new Date()/1000).then(x => x.valueOf())\n  }\n\n  static async wrap(token, wrapper, holder) {\n    const balance = await this.getBalance(token, holder)\n    if (balance < 1) return\n\n    const txId = await dispatcher.performTransaction(ERC20Wrap.at(token).approve, wrapper, balance)\n    return new Promise((resolve, reject) => {\n      queue.addListener(txId, async () => {\n        const allowance = await ERC20Wrap.at(token).allowance(holder, wrapper).then(x => x.toNumber())\n        if (allowance < balance) return alert(`Failure wrapping tokens. Allowance for wrapper is too low (${allowance} vs ${balance}) `)\n        const txId2 = await dispatcher.performTransaction(WrappedCustomStock.at(wrapper).wrap, balance)\n        resolve(txId2)\n      })\n    })\n  }\n\n  static async unwrap(wrapper, holder) {\n    const balance = await this.getBalance(wrapper, holder)\n    if (balance < 1) return\n    return await dispatcher.performTransaction(WrappedCustomStock.at(wrapper).unwrap, balance)\n  }\n}\n","// @flow\nimport { Txid } from './contracts'\n\nconst getReceipt = txid => {\n  return new Promise((resolve, reject) => {\n    web3.eth.getTransactionReceipt(txid, (err, tx) => {\n      if (err) reject(err)\n      resolve(tx)\n    })\n  })\n}\n\nconst getTx = txid => {\n  return new Promise((resolve, reject) => {\n    web3.eth.getTransaction(txid, (err, tx) => {\n      if (err) reject(err)\n      resolve(tx)\n    })\n  })\n}\n\nconst verifyBytecode = (bytecode, candidateContracts) => {\n  for (const c of candidateContracts) {\n    if (bytecode.indexOf(c.binary) === 0) { // Account for constructor values at end of input\n      return c\n    }\n  }\n\n  return null\n}\n\nconst verifyContractCode = async (address: string, candidateContracts) => {\n  const contract = Txid.at(address)\n\n  const txid = await contract.txid.call()\n  if (!txid) {\n    console.log('no txid')\n    return null\n  }\n\n  if (contract.address !== (await getReceipt(txid)).contractAddress) {\n    console.log('no c ad')\n    return null\n  }\n\n  const bytecode = (await getTx(txid)).input\n  return verifyBytecode(bytecode, candidateContracts)\n}\n\nexport { verifyContractCode, verifyBytecode }\n","import { actionFromData, decode } from '/client/lib/action-dispatcher/decoder'\n\nimport Watcher from './watcher'\n\nimport { Stock, Voting, GenericBinaryVoting, Poll } from './contracts'\nimport { Company } from './deployed'\nimport StockWatcher from './stocks'\nimport {Â verifyContractCode } from './verify'\n\nconst Stocks = StockWatcher.Stocks\nconst Votings = new Mongo.Collection('votings', { connection: null })\n\nclass VotingWatcher extends Watcher {\n  constructor() {\n    super('v')\n    this.setupCollections()\n  }\n\n  listen() {\n    this.listenForUpdates()\n  }\n\n  setupCollections() {\n    this.Votings = Votings\n    this.persistentVotings = new PersistentMinimongo(this.Votings)\n  }\n\n  listenForUpdates() {\n    const self = this\n    console.log('listen votings')\n\n    const watch = async (err, ev) => {\n      console.log('voting event', ev)\n      self.getVoting(ev.args.votingAddress, ev.args.id.toNumber())\n    }\n\n    const watchBylaw = (err, ev) => {\n      const affectedVotings = Votings.find({ mainSignature: ev.args.functionSignature, voteExecuted: null, closingTime: { $gt: +new Date() } })\n      affectedVotings.forEach(v => self.getVoting(v.address, v.index))\n    }\n\n    this.watchEvent(Company().VoteExecuted, watch)\n    this.watchEvent(Company().NewVoting, watch)\n    this.watchEvent(Company().VoteCasted, watch)\n\n    this.watchEvent(Company().BylawChanged, watchBylaw)\n  }\n\n  async getVoting(address, index) {\n    await this.updateVoting(address, index)\n  }\n\n  async countVotes(index, optionId) {\n    const counted = await Company().countVotes.call(index, optionId)\n    const votes = counted[0].toNumber()\n    return { votes, relativeVotes: votes / counted[1].toNumber(), absoluteVotes: votes / counted[2].toNumber() }\n  }\n\n  async updateVoting(address, index) {\n    console.log('getting voting', address, index)\n\n    const company = Company()\n    const info = await Company().getVotingInfo(index)\n    const [vad, startTime, closingTime, isExecuted, executed, voteClosed] = info\n\n    const voting = Voting.at(address)\n    const lastId = await voting.optionsIndex.call().then(x => x.toNumber())\n    const ids = _.range(lastId)\n    const optionsPromises = ids.map(id => voting.options.call(id))\n    const votes = ids.map(id => this.countVotes(index, id))\n\n    const votingSupport = voting.votingSupport.call(Company().address)\n\n    const supportNeeded = votingSupport.then(([s, b]) => s / b)\n    const relativeMajorityOnClose = votingSupport.then(([s, b, r]) => r)\n\n    const voteExecuted = isExecuted ? executed.toNumber() : null\n\n    const verifiedContract = await this.verifyVote(address)\n    if (!verifiedContract) {\n      return console.error('Unknown voting')\n    }\n\n    const description = await verifiedContract.description(address)\n    const entities = description.split(' ').filter(web3.isAddress)\n\n    const votingObject = {\n      title: verifiedContract.title(address),\n      options: Promise.all(optionsPromises),\n      startTime: +new Date(startTime.toNumber() * 1000),\n      closingTime: +new Date(closingTime.toNumber() * 1000),\n      voteCounts: Promise.all(votes),\n      creator: voting.creator.call(),\n      mainSignature: voting.mainSignature.call(),\n\n      entities,\n      description,\n      voteExecuted,\n      voteClosed,\n      supportNeeded,\n      relativeMajorityOnClose,\n      index,\n      address,\n    }\n\n    const votingInfo = await Promise.allProperties(votingObject)\n\n    this.Votings.upsert({ _id: `v_${address}` }, votingInfo)\n  }\n\n  // Returns vote type\n  async verifyVote(address) {\n    const voteContracts = this.allVotes.map(x => x.contractClass)\n\n    const verifiedContract = await verifyContractCode(address, voteContracts)\n\n    if (!verifiedContract) { return this.allVotes[0] } // TODO: Solve problem where someone makes contract with GBV interface but different logic\n    return this.allVotes.filter(x => verifiedContract === x.contractClass)[0]\n  }\n\n  get allVotes() {\n    return [\n      {\n        contractClass: GenericBinaryVoting,\n        title: async a => `${actionFromData(await GenericBinaryVoting.at(a).data.call()).name} voting`,\n        description: async a => {\n          const data = await GenericBinaryVoting.at(a).data.call()\n          const action = actionFromData(data)\n          return `${await action.votingDescriptionFor(decode(data))}`\n        },\n      },\n      {\n        contractClass: Poll,\n        title: async () => Promise.resolve('Poll'),\n        description: async a => `Poll question: ${await Poll.at(a).description.call()}`,\n      },\n    ]\n  }\n}\n\nexport default new VotingWatcher()\n","class Watcher {\n  constructor(key) {\n    this.key = key\n  }\n\n  listen() {\n    console.error('Watcher has no listen function')\n  }\n\n  watchEvent(_event, callback, predicate = {}) {\n    const realCallback = (err, ev) => {\n      if (err) return callback.call(this, err)\n      this.lastWatchedBlock = ev.blockNumber\n      return callback.call(this, err, ev)\n    }\n\n    _event(predicate, this.streamingPredicate).watch(realCallback)\n    _event(predicate, this.missedPredicate).get((err, evs) => {\n      if (err) return realCallback(err)\n      return evs.map(ev => realCallback(err, ev))\n    })\n  }\n\n  get missedPredicate() {\n    return { fromBlock: Math.max(0, this.lastWatchedBlock), toBlock: this.threshold() }\n  }\n\n  get streamingPredicate() {\n    return { fromBlock: this.threshold(), toBlock: 'latest' }\n  }\n\n  threshold() {\n    if (this.lastWatchedBlock > this.lastBlock) {\n      this.lastWatchedBlock = this.lastBlock\n    }\n\n    return this.lastBlock\n  }\n\n  get lastBlockKey() {\n    return `lB_${this.key}`\n  }\n\n  get lastWatchedBlock() {\n    const networkMultiplayer = localStorage.getItem('network') // hack TODO: Get from etherscan\n    return localStorage.getItem(this.lastBlockKey) || (EthBlocks.latest.number - (15000 * networkMultiplayer ))\n  }\n\n  get lastBlock() {\n    return EthBlocks.latest.number\n  }\n\n  set lastWatchedBlock(block) {\n    return localStorage.setItem(this.lastBlockKey, block)\n  }\n}\n\nexport default Watcher\n","// @flow\nimport Accounting from './accounting'\nimport BylawsWatcher from './bylaws'\nimport StatusWatcher from './statuses'\nimport StockWatcher from './stocks'\nimport StockSalesWatcher from './stocksales'\nimport VotingWatcher from './votings'\n\nimport Watcher from './watcher'\n\nconst watchers: Array<Watcher> = [\n  Accounting,\n  BylawsWatcher,\n  StatusWatcher,\n  StockWatcher,\n  StockSalesWatcher,\n  VotingWatcher,\n]\n\nconst initWatchers = () => {\n  for (const w of watchers) {\n    w.listen()\n  }\n}\n\nexport default initWatchers\n","// @flow\nimport Build from '/client/lib/build'\n\nconst isDev = location.origin.indexOf('localhost') > -1\nconst isClient = location.origin.indexOf('aragon://') > -1\n\nconst needsWeb3 = typeof web3 === 'undefined'\nconst canInjectMetamask = isClient || isDev\n\nwindow.injectMetaMask = canInjectMetamask && needsWeb3\n\nconsole.log('[Aragon] Injecting metamask for:', location.origin, isClient, isDev)\n\nif (!canInjectMetamask && needsWeb3) {\n  alert('Your browser is not web3 compatible, which means Aragon cannot connect to the Ethereum network and therefore cannot run. Visit https://aragon.one to download the client for your OS or use https://metamask.io for Chrome.')\n}\n\nexport default window.web3\n","// @flow\nimport { ReactiveVar } from 'meteor/reactive-var'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { BlazeLayout } from 'meteor/kadira:blaze-layout'\n\nclass Core {\n  modulesVar: ReactiveVar\n  modules: Array\n\n  constructor(modules = []) {\n    Core.setup()\n\n    this.modulesVar = new ReactiveVar([])\n    this.modules = modules\n  }\n\n  get modules() {\n    return this.modulesVar.get()\n  }\n\n  set modules(newModules: Array) {\n    this.modulesVar.set(newModules)\n    this.setupRoutes()\n  }\n\n  setupRoutes() {\n    this.modules\n      .map(module => (module.route))\n      .forEach((route) => {\n        FlowRouter.route(`/${route.name}/*`, route)\n        FlowRouter.route(`/${route.name}`, route)\n      })\n  }\n\n  static setup() {\n    BlazeLayout.setRoot('body')\n    FlowRouter.notFound = {\n      action: () => FlowRouter.go('home'),\n    }\n  }\n}\n\nexport default Core\n","// @flow\nimport Module from './module'\nimport Core from './core'\n\nexport { Module, Core }\n","// @flow\nimport { BlazeLayout } from 'meteor/kadira:blaze-layout'\n\nclass Module {\n  name: string\n  icon: string\n  sidebarItem: boolean\n  routeName: string\n  templateName: string\n  layout: string\n\n  constructor(\n  name: string,\n  icon: string = 'help',\n  sidebarItem: boolean = true,\n  routeName: string,\n  templateName: string,\n  layout: string = 'Layout') {\n    this.name = name\n    this.icon = icon\n    this.sidebarItem = sidebarItem\n    this.routeName = routeName || name.toLowerCase()\n    this.templateName = templateName || `Module_${this.name}`\n    this.layout = layout\n  }\n\n  get route() {\n    return { name: this.routeName, action: () => this.renderView() }\n  }\n\n  renderView(/* params, queryParams */) {\n    BlazeLayout.render(this.layout, { main: this.templateName })\n  }\n}\n\nexport default Module\n","// @flow\nimport notify from 'notifyjs'\n\nconst Notify = notify.default\n\nclass BrowserNotifications {\n  static requestPermission(cb?: Function) {\n    Notify.requestPermission(cb)\n  }\n\n  static showNotification(title: string, body: string, notifyClick?: Function, notifyClose?: void) {\n    const show = () => {\n      const notification = new Notify(title, { body, notifyClick, notifyClose })\n      notification.show()\n    }\n\n    if (!Notify.needsPermission) {\n      show()\n    } else if (Notify.isSupported()) {\n      this.requestPermission(() => show())\n    }\n  }\n}\n\nexport default BrowserNotifications\n","// @flow\nimport NotificationsListener from './listener'\nimport BrowserNotifications from './browser'\nimport NotificationsManager from './manager'\n\nexport { NotificationsListener, BrowserNotifications, NotificationsManager }\n","// @flow\n\nclass NotificationsListener {\n  ev: Object\n  title: string\n  bodyFormatter: Function\n  uriFormatter: Function\n  callToAction: string\n  predicate: Object\n  uid: Function\n\n  constructor(\n  // TODO: What's event's type?\n  _event: Object,\n  _title: string = 'Notification',\n  _bodyFormatter: Function = () => 'empty',\n  _uriFormatter: Function = () => ((window.isElectron) ? '/home' : '#!/home'),\n  _callToAction: string = '',\n  _predicate: Object = {},\n  _uniqueId: Function = () => null) {\n    this.ev = _event\n    this.title = _title\n    this.bodyFormatter = _bodyFormatter\n    this.uriFormatter = _uriFormatter\n    this.callToAction = _callToAction\n    this.predicate = _predicate\n    this.uid = _uniqueId\n  }\n}\n\nexport default NotificationsListener\n","// @flow\nimport { Mongo } from 'meteor/mongo'\nimport { EthBlocks } from 'meteor/ethereum:blocks'\nimport { FlowRouter } from 'meteor/kadira:flow-router'\nimport { PersistentMinimongo } from 'meteor/frozeman:persistent-minimongo'\nimport utils from 'ethereumjs-util'\n\nimport Watcher from '../ethereum/watcher'\nimport BrowserNotifications from './browser'\n\nclass NotificationsManager extends Watcher {\n  Notifications: Mongo.Collection\n  persistentNotifications: PersistentMinimongo\n\n  constructor() {\n    super('n')\n    this.Notifications = new Mongo.Collection('notification', { connection: null })\n    this.persistentNotifications = new PersistentMinimongo(this.Notifications)\n  }\n\n  listen(listeners: Array<Function>) {\n    listeners.forEach(listener => {\n      listener.ev(listener.predicate, this.missedPredicate)\n        .get(async (err, evs) => {\n          const notis = evs.map(ev => this.saveNotification(listener, ev, true))\n          const filtered = (await Promise.all(notis)).filter(x => x !== null)\n\n          this.sendMissingNotification(filtered.length)\n        })\n      listener.ev(listener.predicate, this.streamingPredicate)\n        .watch(async (err, ev) => {\n          if (ev.blockNumber > this.threshold()) {\n            await this.showNotification(listener, ev)\n          }\n        })\n    })\n  }\n\n  sendMissingNotification(count: number) {\n    if (!(count > 0)) { return }\n    const title = 'Missing notifications'\n    const body = `You got ${count} notifications while you were away`\n    BrowserNotifications.showNotification(title, body, () => FlowRouter.go('/inbox'))\n  }\n\n  async showNotification(listener, ev) {\n    const notification = await this.saveNotification(listener, ev, false)\n\n    if (!notification) { return }\n\n    BrowserNotifications.showNotification(notification.title, notification.body, () => {\n      this.performNotificationAction(notification)\n    })\n  }\n\n  performNotificationAction(notification) {\n    this.Notifications.update(notification._id, { $set: { handled: true } })\n    FlowRouter.go(notification.uri)\n  }\n\n  async saveNotification(listener, ev, shown) {\n    const hash = listener.uid(ev.args) || this.notificationHash(ev)\n    const _id = this.notificationId(hash)\n\n    if (this.Notifications.findOne(_id)) { return null } // Already processed with that id\n\n    const notification = {\n      body: listener.bodyFormatter(ev.args),\n      uri: listener.uriFormatter(ev.args),\n      title: listener.title,\n      date: this.getBlockDate(ev.blockNumber),\n      handled: false,\n      callToAction: listener.callToAction,\n      _id,\n      hash,\n      shown,\n    }\n\n    // Add empty before awaiting in case same notification comes in while fetching.\n    this.Notifications.upsert({ _id: notification._id }, {})\n\n    const notificationDetails = await Promise.allProperties(notification)\n\n    this.Notifications.upsert({ _id: notification._id }, notificationDetails)\n\n    return notificationDetails\n  }\n\n  getBlockDate(blockNumber: number) {\n    const timestamp = (EthBlocks.findOne({ number: blockNumber }) || {}).timestamp\n    return timestamp ? new Date(timestamp / 1000) : new Date()\n  }\n\n  notificationId(hash: string) {\n    return `n_${hash}`\n  }\n\n  notificationHash(ev) {\n    return utils.bufferToHex(utils.sha3(ev.blockHash + ev.transactionHash + ev.logIndex + ev.event))\n  }\n}\n\nconst shared = new NotificationsManager()\nNotifications = shared.Notifications\n\nexport default shared\n","// @flow\nimport { ReactiveVar } from 'meteor/reactive-var'\n\nimport { actionFromData } from '../action-dispatcher/decoder'\n\nconst getTx = txid => {\n  return new Promise((resolve, reject) => {\n    web3.eth.getTransaction(txid, (err, tx) => {\n      if (err) reject(err)\n      resolve(tx)\n    })\n  })\n}\n\nconst getBlock = blockHash => {\n  return new Promise((resolve, reject) => {\n    web3.eth.getBlock(blockHash, (err, block) => {\n      if (err) reject(err)\n      resolve(block)\n    })\n  })\n}\n\nclass TxQueue {\n  queue = ReactiveVar([])\n  listeners = {}\n  onEmpty = Function\n\n  init() {\n    web3.eth.filter('latest', async (err, blockHash) => {\n      if (err) return\n      const block = await getBlock(blockHash)\n      block.transactions\n        .filter(t => _.contains(this.queue.get().map(x => x.txId), t.txId))\n        .forEach(this.remove.bind(this))\n    })\n\n    setInterval(() => {\n      this.queue.get().forEach(async txq => {\n        const tx = await getTx(txq.txID)\n        if (tx.blockNumber) {\n          console.log('Removed from pulling')\n          this.remove(txq.txID)\n        }\n      })\n    }, 500)\n  }\n\n  async add(txID: string) {\n    console.log('Queuing', txID)\n    const tx = await getTx(txID)\n    if (!tx) {\n      alert('Couldnt find transaction in pending transaction to add to queue. Most likely our web3 provider (Infura) isnt working properly.')\n    }\n    const action = actionFromData(tx.input)\n\n    if (!action) return\n    action.txID = txID\n\n    this.queue.set(this.queue.get().concat(action))\n  }\n\n  async addListener(txID: string, callback: Function) {\n    this.listeners[txID] = callback\n  }\n\n  remove(txID: string) {\n    const newArr = this.queue.get().filter((tx) => (\n      tx.txID !== txID\n    ))\n    if (newArr.length === 0 && this.onEmpty) this.onEmpty()\n\n    setTimeout(() => (this.queue.set(newArr)), 500)\n\n    if (this.listeners[txID]) {\n      this.listeners[txID]()\n      delete this.listeners[txID]\n    }\n  }\n}\n\nexport default new TxQueue()\n","// @flow\n\nconst defaults = {\n  displayCurrency: 'USD',\n}\n\nexport default defaults\n","// @flow\nimport { Mongo } from 'meteor/mongo'\nimport { PersistentMinimongo } from 'meteor/frozeman:persistent-minimongo'\n\nimport Identity from '/client/lib/identity'\n\nimport defaults from './defaults'\n\nconst SettingsCollection = new Mongo.Collection('settings', { connection: null })\nnew PersistentMinimongo(SettingsCollection)\n\nconst doc = (): Object =>\n  SettingsCollection.findOne({ ethereumAddress: Identity.current().ethereumAddress })\n\nclass Settings {\n  static get(key: string): any {\n    const obj: Object = doc() || {}\n    return obj[key]\n  }\n\n  static set(key: string, value: any) {\n    SettingsCollection.update(\n      { ethereumAddress: Identity.current().ethereumAddress },\n      { $set: { [key]: value } },\n      { upsert: true }\n    )\n  }\n\n  static remove(key: string) {\n    SettingsCollection.update(\n      { ethereumAddress: Identity.current().ethereumAddress },\n      { $unset: { [key]: 1 } }\n    )\n  }\n\n  static reset() {\n    for (const key of Object.keys(defaults)) {\n      Settings.set(key, defaults[key])\n    }\n  }\n}\n\nexport default Settings\n","// @flow\n// TODO: This is an incomplete list\n\nconst supportedCountries = [\n  'AL', 'AD', 'AI', 'AG', 'AR', 'AM', 'AW', 'AU', 'AT', 'AZ'\n]\n\nexport default supportedCountries\n","// @flow\n// import faker from 'faker'\nimport type { ShakeUser } from './user'\nimport supportedCountries from './countries'\n\nconst authToken = '7396fcac-0ab4-4475-852e-0f1963ee356b'\n\nconst shakeUrl = (action): string => `https://backend.qa.shakepay.co/api/${action}?key=${authToken}`\n\nconst postJSON = async (action, data) => {\n  const res = await fetch(shakeUrl(action), {\n    method: 'POST',\n    mode: 'cors',\n    body: JSON.stringify(data),\n    headers: new Headers({\n      'Content-Type': 'application/json',\n    }),\n  })\n  const json = await res.json()\n  return json\n}\n\ntype ShakeInvoice = {\n  email: string,\n  currency: string,\n  amount: number,\n}\n\nexport default class Shake {\n  /* static fakeUser(currency: string): ShakeUser {\n    return {\n      user: {\n        firstName: faker.name.firstName(),\n        lastName: faker.name.lastName(),\n        dateOfBirth: faker.date.between('1950-01-01', '1999-01-01'),\n        phoneNumber: faker.phone.phoneNumberFormat(2).replace(/-/g, ''),\n        email: faker.internet.email().toLowerCase(),\n      },\n      address: {\n        address1: faker.address.streetAddress(),\n        address2: faker.address.secondaryAddress(),\n        city: faker.address.city(),\n        zipCode: faker.address.zipCode('#####'),\n        country: supportedCountries[Math.floor(Math.random()*supportedCountries.length)],\n      },\n      card: {\n        type: 'virtual',\n        currency,\n      },\n    }\n  } */\n\n  static async createUser(userData: ShakeUser): Object {\n    return await postJSON('users', userData)\n  }\n\n  static async createInvoice(invoiceData: ShakeInvoice) {\n    return await postJSON('invoices', invoiceData)\n  }\n}\n","/*\n  A simple, lightweight jQuery plugin for creating sortable tables.\n  https://github.com/kylefox/jquery-tablesort\n  Version 0.0.1\n*/\n\n;(function($) {\n\n  $.tablesort = function ($table, settings) {\n    var self = this;\n    this.$table = $table;\n    this.settings = $.extend({}, $.tablesort.defaults, settings);\n    this.$table.find('thead th').bind('click.tablesort', function() {\n      if( !$(this).hasClass('disabled') ) {\n        self.sort($(this));\n      }\n    });\n    this.index = null;\n    this.$th = null;\n    this.direction = [];\n  };\n\n  $.tablesort.prototype = {\n\n    sort: function(th, direction) {\n      var start = new Date(),\n        self        = this,\n        table       = this.$table,\n        rows        = table.find('tbody tr'),\n        index       = th.index(),\n        cache       = [],\n        fragment    = $('<div/>'),\n        sortValueForCell = function(th, td, sorter) {\n          var\n            sortBy\n          ;\n          if(th.data().sortBy) {\n            sortBy = th.data().sortBy;\n            return (typeof sortBy === 'function')\n              ? sortBy(th, td, sorter)\n              : sortBy\n            ;\n          }\n          return ( td.data('sort') )\n            ? td.data('sort')\n            : td.text()\n          ;\n        },\n        naturalSort =  function naturalSort (a, b) {\n          var\n            chunkRegExp    = /(^-?[0-9]+(\\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,\n            stripRegExp    = /(^[ ]*|[ ]*$)/g,\n            dateRegExp     = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/,\n            numericRegExp  = /^0x[0-9a-f]+$/i,\n            oRegExp        = /^0/,\n            cLoc           = 0,\n            useInsensitive = function(string) {\n              return ('' + string).toLowerCase().replace(',', '');\n            },\n            // convert all to strings strip whitespace\n            x              = useInsensitive(a).replace(stripRegExp, '') || '',\n            y              = useInsensitive(b).replace(stripRegExp, '') || '',\n            // chunk/tokenize\n            xChunked       = x.replace(chunkRegExp, '\\0$1\\0').replace(/\\0$/,'').replace(/^\\0/,'').split('\\0'),\n            yChunked       = y.replace(chunkRegExp, '\\0$1\\0').replace(/\\0$/,'').replace(/^\\0/,'').split('\\0'),\n            chunkLength    = Math.max(xChunked.length, yChunked.length),\n            // numeric, hex or date detection\n            xDate          = parseInt(x.match(numericRegExp), 10) || (xChunked.length != 1 && x.match(dateRegExp) && Date.parse(x)),\n            yDate          = parseInt(y.match(numericRegExp), 10) || xDate && y.match(dateRegExp) && Date.parse(y) || null,\n            xHexValue,\n            yHexValue,\n            index\n          ;\n          // first try and sort Hex codes or Dates\n          if (yDate) {\n            if( xDate < yDate ) {\n              return -1;\n            }\n            else if ( xDate > yDate ) {\n              return 1;\n            }\n          }\n          // natural sorting through split numeric strings and default strings\n          for(index = 0; index < chunkLength; index++) {\n              // find floats not starting with '0', string or 0 if not defined (Clint Priest)\n              xHexValue = !(xChunked[index] || '').match(oRegExp) && parseFloat(xChunked[index]) || xChunked[index] || 0;\n              yHexValue = !(yChunked[index] || '').match(oRegExp) && parseFloat(yChunked[index]) || yChunked[index] || 0;\n              // handle numeric vs string comparison - number < string - (Kyle Adams)\n              if (isNaN(xHexValue) !== isNaN(yHexValue)) {\n                return ( isNaN(xHexValue) )\n                  ? 1\n                  : -1\n                ;\n              }\n              // rely on string comparison if different types - i.e. '02' < 2 != '02' < '2'\n              else if (typeof xHexValue !== typeof yHexValue) {\n                xHexValue += '';\n                yHexValue += '';\n              }\n              if (xHexValue < yHexValue) {\n                return -1;\n              }\n              if (xHexValue > yHexValue) {\n                return 1;\n              }\n          }\n          return 0;\n        }\n      ;\n\n      if(rows.length === 0) {\n        return;\n      }\n\n      self.$table.find('thead th').removeClass(self.settings.asc + ' ' + self.settings.desc);\n\n      this.$th = th;\n      if(this.index != index) {\n        this.direction[index] = 'desc';\n      }\n      else if(direction !== 'asc' && direction !== 'desc') {\n        this.direction[index] = this.direction[index] === 'desc' ? 'asc' : 'desc';\n      }\n      else {\n        this.direction[index] = direction;\n      }\n      this.index = index;\n      direction = this.direction[index] == 'asc' ? 1 : -1;\n\n      self.$table.trigger('tablesort:start', [self]);\n      self.log(\"Sorting by \" + this.index + ' ' + this.direction[index]);\n\n      rows.sort(function(a, b) {\n        var aRow = $(a);\n        var bRow = $(b);\n        var aIndex = aRow.index();\n        var bIndex = bRow.index();\n\n        // Sort value A\n        if(cache[aIndex]) {\n          a = cache[aIndex];\n        }\n        else {\n          a = sortValueForCell(th, self.cellToSort(a), self);\n          cache[aIndex] = a;\n        }\n        // Sort Value B\n        if(cache[bIndex]) {\n          b = cache[bIndex];\n        }\n        else {\n          b = sortValueForCell(th, self.cellToSort(b), self);\n          cache[bIndex]= b;\n        }\n        return (naturalSort(a, b) * direction);\n      });\n\n      rows.each(function(i, tr) {\n        fragment.append(tr);\n      });\n      table.append(fragment.html());\n\n      th.addClass(self.settings[self.direction[index]]);\n\n      self.log('Sort finished in ' + ((new Date()).getTime() - start.getTime()) + 'ms');\n      self.$table.trigger('tablesort:complete', [self]);\n\n    },\n\n    cellToSort: function(row) {\n      return $($(row).find('td').get(this.index));\n    },\n\n\n    log: function(msg) {\n      if(($.tablesort.DEBUG || this.settings.debug) && console && console.log) {\n        console.log('[tablesort] ' + msg);\n      }\n    },\n\n    destroy: function() {\n      this.$table.find('thead th').unbind('click.tablesort');\n      this.$table.data('tablesort', null);\n      return null;\n    }\n\n  };\n\n  $.tablesort.DEBUG = false;\n\n  $.tablesort.defaults = {\n    debug: $.tablesort.DEBUG,\n    asc: 'sorted ascending',\n    desc: 'sorted descending'\n  };\n\n  $.fn.tablesort = function(settings) {\n    var table, sortable, previous;\n    return this.each(function() {\n      table = $(this);\n      previous = table.data('tablesort');\n      if(previous) {\n        previous.destroy();\n      }\n      table.data('tablesort', new $.tablesort(table, settings));\n    });\n  };\n\n})(jQuery);","// @flow\n\n\nimport { moment } from 'meteor/momentjs:moment'\nimport { Template } from 'meteor/templating'\nimport { callToActionForAction, bylawDisclaimerForAction, canPerformAction as bylawsCanPerformAction } from '/client/lib/action-dispatcher/helpers'\n\nimport { NotificationsManager } from '/client/lib/notifications'\nimport Tokens from '/client/lib/ethereum/tokens'\n\nconst Notifications = NotificationsManager.Notifications\n\nconst helpers = {}\n\nhelpers.now = () => moment()\nhelpers.timeRange = (a, b) => {\n  let timeDiff = moment(a).twix(b).humanizeLength()\n  timeDiff = b <= new Date() ? `${timeDiff} ago` : timeDiff\n  return timeDiff\n}\n// TODO: Some of this helpers are in raix:handlebar-helpers already\nhelpers.plus = (a: number, b: number): number => a + b\nhelpers.percentFormat = (x: number): string => `${Math.round(10000 * (x || 0)) / 100}%`\nhelpers.arrayAccess = (array: Array<any>, index: number) => array[index]\nhelpers.isNull = (x: any): boolean => x === null\nhelpers.isNotNull = (x: any): boolean => x !== null\nhelpers.count = (x: any): number => x.count()\nhelpers.currentIdentity = () => Entities.findOne({current: true})\nhelpers.isMe = (entity): boolean => entity.ethereumAddress === helpers.currentIdentity().ethereumAddress // can't use identity because of cyclic dep\nhelpers.liveTokenBalance = ReactivePromise(Tokens.getBalance)\n\nhelpers.callToActionForAction = callToActionForAction\nhelpers.bylawDisclaimerForAction = bylawDisclaimerForAction\n\nhelpers.composeFunction = (f, g, x) => f(g)(x)\n\nhelpers.unhandledNotifications = () => Notifications.find({ handled: false }).count()\nhelpers.ether = (x: number): string => parseFloat(web3.fromWei(x, 'ether')).toLocaleString()\n\nhelpers.networkName = (): string => localStorage.getItem('networkName')\nhelpers.etherscan = (txId: string): string => `https://${localStorage.getItem('etherscanSub')}etherscan.io/tx/${txId}`\nhelpers.etherscanAddress = (address: string): string => `https://${localStorage.getItem('etherscanSub')}etherscan.io/address/${address}`\n\nObject.keys(helpers).forEach(k => Template.registerHelper(k, helpers[k]))\n\nexport default helpers\n","// @flow\nimport { $ } from 'meteor/jquery'\nimport { Meteor } from 'meteor/meteor'\nimport { Template } from 'meteor/templating'\nimport { ReactiveVar } from 'meteor/reactive-var'\n\nimport Build from '/client/lib/build'\nimport Identity from '/client/lib/identity'\nimport Settings from '/client/lib/settings'\nimport EthereumNode from '/client/lib/ethereum/node'\nimport TxQueue from '/client/lib/queue'\nimport { BrowserNotifications } from '/client/lib/notifications'\nimport { CompanyFactory, CompanyConfiguratorFactory } from '/client/lib/ethereum/contracts'\n\nimport Accounting from '/client/lib/ethereum/accounting'\nimport BylawsWatcher from '/client/lib/ethereum/bylaws'\nimport StatusWatcher from '/client/lib/ethereum/statuses'\nimport StockWatcher from '/client/lib/ethereum/stocks'\nimport StockSalesWatcher from '/client/lib/ethereum/stocksales'\nimport VotingWatcher from '/client/lib/ethereum/votings'\n\nimport release from '../package.json'\n\nconst initFinished = new ReactiveVar(false)\nconst isInjectedMetaMask = new ReactiveVar(false)\n\nTemplate.Layout.helpers({\n  initFinished: () => initFinished.get(),\n  isInjectedMetaMask: () => isInjectedMetaMask.get(),\n})\n\nconst clearStorage = () => {\n  console.log('Clearing storage')\n  localStorage.clear()\n  const collections = [\n    StockWatcher.Stocks,\n    Accounting.Transactions, Accounting.AccountingPeriods,\n    BylawsWatcher.Bylaws,\n    VotingWatcher.Votings,\n    Entities,\n    StockSalesWatcher.StockSales,\n  ]\n  collections.forEach(c => c.remove({}))\n  localStorage.clear()\n}\n\nconst load = async () => {\n  Meteor.disconnect()\n\n  if (localStorage.getItem('currentRelease') !== release.version && localStorage.length > 0) {\n    alert(\"We will reset your storage in order to upgrade your Aragon version.\")\n    localStorage.clear()\n    localStorage.setItem('currentRelease', release.version)\n  }\n\n  if (navigator.userAgent.includes('Electron')) {\n    $(document.body).addClass('electron')\n    window.isElectron = true\n  }\n\n  await EthereumNode.connect()\n\n  // TODO: Solve this the proper way and remove this code\n  window.CompanyFactory = await CompanyFactory.deployed()\n  window.CompanyConfiguratorFactory = await CompanyConfiguratorFactory.deployed()\n\n  const current = Identity.current(true)\n  if (!current.ethereumAddress) {\n    await Identity.reset()\n    Settings.reset()\n  }\n\n  if (localStorage.getItem('companyAddress')) await EthereumNode.bindListeners()\n\n  TxQueue.init()\n\n  BrowserNotifications.requestPermission()\n\n  initFinished.set(true)\n  $('#initialDimmer').fadeOut('slow')\n\n  console.log('Observing account changes')\n  EthAccounts.find().observe({\n    addedAt: async () => {\n      if (EthAccounts.findOne().address != Identity.current(true).ethereumAddress) {\n        console.log('Detected account change, reseting')\n        await Identity.reset()\n        location.reload()\n      }\n    }\n  })\n}\n\nconst injectMetaMask = async () => {\n  const contentScriptReq = await fetch('metamask://app/scripts/contentscript.js')\n  const blob = await contentScriptReq.blob()\n  const s = document.createElement('script')\n  s.type = 'text/javascript'\n  s.src = URL.createObjectURL(blob)\n  document.getElementsByTagName('head')[0].appendChild(s)\n  return true\n}\n\nconst loadMetaMask = async () => {\n  Template.Layout_MetaMask.onRendered(async function () {\n    console.log('MetaMask: Template rendered')\n    await injectMetaMask()\n    console.log('MetaMask: Injected')\n    this.$('#Layout_MetaMask').load(() => {\n      console.log('MetaMask: Iframe loaded')\n      window._setupMetaMaskPageStream(this.$('#Layout_MetaMask')[0])\n      load()\n    })\n  })\n}\n\nif (window.injectMetaMask) {\n  isInjectedMetaMask.set(true)\n  loadMetaMask()\n} else {\n  FlowRouter.wait()\n  Meteor.startup(() => {\n    FlowRouter.initialize({ hashbang: true })\n    load()\n  })\n}\n","// @flow\nimport { Module, Core } from '/client/lib/modules'\n\nconst Root = new Core()\nRoot.modules = [\n  new Module('Home', 'home'),\n\n  new Module('Ownership', 'toll'),\n  new Module('Voting', 'thumbs_up_down'),\n  new Module('Roles', 'people'),\n  new Module('Fundraising', 'payment'),\n  // new Module('Rewards', 'users'),\n  new Module('Accounting', 'today'),\n  new Module('Bylaws', 'account_balance'),\n\n  new Module('Settings', 'settings', true, 'settings', 'Module_Account'),\n\n  new Module('Entity', 'entity', false),\n]\n\nexport default Root\n"]}